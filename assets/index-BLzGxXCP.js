(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function cv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bh={exports:{}},ha={};var x1;function ik(){if(x1)return ha;x1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var f in r)f!=="key"&&(o[f]=r[f])}else o=r;return r=o.ref,{$$typeof:s,type:i,key:u,ref:r!==void 0?r:null,props:o}}return ha.Fragment=t,ha.jsx=e,ha.jsxs=e,ha}var S1;function lk(){return S1||(S1=1,Bh.exports=ik()),Bh.exports}var C=lk(),_h={exports:{}},bt={};var k1;function sk(){if(k1)return bt;k1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function N(M,j,V){this.props=M,this.context=j,this.refs=E,this.updater=V||k}N.prototype.isReactComponent={},N.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=N.prototype;function J(M,j,V){this.props=M,this.context=j,this.refs=E,this.updater=V||k}var st=J.prototype=new G;st.constructor=J,w(st,N.prototype),st.isPureReactComponent=!0;var K=Array.isArray;function Z(){}var U={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function mt(M,j,V){var W=V.ref;return{$$typeof:s,type:M,key:j,ref:W!==void 0?W:null,props:V}}function At(M,j){return mt(M.type,j,M.props)}function ft(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function $(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(V){return j[V]})}var pt=/\/+/g;function gt(M,j){return typeof M=="object"&&M!==null&&M.key!=null?$(""+M.key):j.toString(36)}function vt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Z,Z):(M.status="pending",M.then(function(j){M.status==="pending"&&(M.status="fulfilled",M.value=j)},function(j){M.status==="pending"&&(M.status="rejected",M.reason=j)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function D(M,j,V,W,P){var at=typeof M;(at==="undefined"||at==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(at){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case s:case t:kt=!0;break;case g:return kt=M._init,D(kt(M._payload),j,V,W,P)}}if(kt)return P=P(M),kt=W===""?"."+gt(M,0):W,K(P)?(V="",kt!=null&&(V=kt.replace(pt,"$&/")+"/"),D(P,j,V,"",function(Fn){return Fn})):P!=null&&(ft(P)&&(P=At(P,V+(P.key==null||M&&M.key===P.key?"":(""+P.key).replace(pt,"$&/")+"/")+kt)),j.push(P)),1;kt=0;var wt=W===""?".":W+":";if(K(M))for(var Gt=0;Gt<M.length;Gt++)W=M[Gt],at=wt+gt(W,Gt),kt+=D(W,j,V,at,P);else if(Gt=S(M),typeof Gt=="function")for(M=Gt.call(M),Gt=0;!(W=M.next()).done;)W=W.value,at=wt+gt(W,Gt++),kt+=D(W,j,V,at,P);else if(at==="object"){if(typeof M.then=="function")return D(vt(M),j,V,W,P);throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return kt}function X(M,j,V){if(M==null)return M;var W=[],P=0;return D(M,W,"","",function(at){return j.call(V,at,P++)}),W}function tt(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(V){(M._status===0||M._status===-1)&&(M._status=1,M._result=V)},function(V){(M._status===0||M._status===-1)&&(M._status=2,M._result=V)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ht={map:X,forEach:function(M,j,V){X(M,function(){j.apply(this,arguments)},V)},count:function(M){var j=0;return X(M,function(){j++}),j},toArray:function(M){return X(M,function(j){return j})||[]},only:function(M){if(!ft(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return bt.Activity=y,bt.Children=ht,bt.Component=N,bt.Fragment=e,bt.Profiler=r,bt.PureComponent=J,bt.StrictMode=i,bt.Suspense=h,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,bt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return U.H.useMemoCache(M)}},bt.cache=function(M){return function(){return M.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(M,j,V){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var W=w({},M.props),P=M.key;if(j!=null)for(at in j.key!==void 0&&(P=""+j.key),j)!rt.call(j,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&j.ref===void 0||(W[at]=j[at]);var at=arguments.length-2;if(at===1)W.children=V;else if(1<at){for(var kt=Array(at),wt=0;wt<at;wt++)kt[wt]=arguments[wt+2];W.children=kt}return mt(M.type,P,W)},bt.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},bt.createElement=function(M,j,V){var W,P={},at=null;if(j!=null)for(W in j.key!==void 0&&(at=""+j.key),j)rt.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(P[W]=j[W]);var kt=arguments.length-2;if(kt===1)P.children=V;else if(1<kt){for(var wt=Array(kt),Gt=0;Gt<kt;Gt++)wt[Gt]=arguments[Gt+2];P.children=wt}if(M&&M.defaultProps)for(W in kt=M.defaultProps,kt)P[W]===void 0&&(P[W]=kt[W]);return mt(M,at,P)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(M){return{$$typeof:f,render:M}},bt.isValidElement=ft,bt.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:tt}},bt.memo=function(M,j){return{$$typeof:m,type:M,compare:j===void 0?null:j}},bt.startTransition=function(M){var j=U.T,V={};U.T=V;try{var W=M(),P=U.S;P!==null&&P(V,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,ut)}catch(at){ut(at)}finally{j!==null&&V.types!==null&&(j.types=V.types),U.T=j}},bt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},bt.use=function(M){return U.H.use(M)},bt.useActionState=function(M,j,V){return U.H.useActionState(M,j,V)},bt.useCallback=function(M,j){return U.H.useCallback(M,j)},bt.useContext=function(M){return U.H.useContext(M)},bt.useDebugValue=function(){},bt.useDeferredValue=function(M,j){return U.H.useDeferredValue(M,j)},bt.useEffect=function(M,j){return U.H.useEffect(M,j)},bt.useEffectEvent=function(M){return U.H.useEffectEvent(M)},bt.useId=function(){return U.H.useId()},bt.useImperativeHandle=function(M,j,V){return U.H.useImperativeHandle(M,j,V)},bt.useInsertionEffect=function(M,j){return U.H.useInsertionEffect(M,j)},bt.useLayoutEffect=function(M,j){return U.H.useLayoutEffect(M,j)},bt.useMemo=function(M,j){return U.H.useMemo(M,j)},bt.useOptimistic=function(M,j){return U.H.useOptimistic(M,j)},bt.useReducer=function(M,j,V){return U.H.useReducer(M,j,V)},bt.useRef=function(M){return U.H.useRef(M)},bt.useState=function(M){return U.H.useState(M)},bt.useSyncExternalStore=function(M,j,V){return U.H.useSyncExternalStore(M,j,V)},bt.useTransition=function(){return U.H.useTransition()},bt.version="19.2.3",bt}var w1;function im(){return w1||(w1=1,_h.exports=sk()),_h.exports}var Ft=im();const F=cv(Ft);var Rh={exports:{}},da={},zh={exports:{}},Lh={};var A1;function rk(){return A1||(A1=1,(function(s){function t(D,X){var tt=D.length;D.push(X);t:for(;0<tt;){var ut=tt-1>>>1,ht=D[ut];if(0<r(ht,X))D[ut]=X,D[tt]=ht,tt=ut;else break t}}function e(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var X=D[0],tt=D.pop();if(tt!==X){D[0]=tt;t:for(var ut=0,ht=D.length,M=ht>>>1;ut<M;){var j=2*(ut+1)-1,V=D[j],W=j+1,P=D[W];if(0>r(V,tt))W<ht&&0>r(P,V)?(D[ut]=P,D[W]=tt,ut=W):(D[ut]=V,D[j]=tt,ut=j);else if(W<ht&&0>r(P,tt))D[ut]=P,D[W]=tt,ut=W;else break t}}return X}function r(D,X){var tt=D.sortIndex-X.sortIndex;return tt!==0?tt:D.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();s.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,y=null,b=3,S=!1,k=!1,w=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function st(D){for(var X=e(m);X!==null;){if(X.callback===null)i(m);else if(X.startTime<=D)i(m),X.sortIndex=X.expirationTime,t(h,X);else break;X=e(m)}}function K(D){if(w=!1,st(D),!k)if(e(h)!==null)k=!0,Z||(Z=!0,$());else{var X=e(m);X!==null&&vt(K,X.startTime-D)}}var Z=!1,U=-1,rt=5,mt=-1;function At(){return E?!0:!(s.unstable_now()-mt<rt)}function ft(){if(E=!1,Z){var D=s.unstable_now();mt=D;var X=!0;try{t:{k=!1,w&&(w=!1,G(U),U=-1),S=!0;var tt=b;try{e:{for(st(D),y=e(h);y!==null&&!(y.expirationTime>D&&At());){var ut=y.callback;if(typeof ut=="function"){y.callback=null,b=y.priorityLevel;var ht=ut(y.expirationTime<=D);if(D=s.unstable_now(),typeof ht=="function"){y.callback=ht,st(D),X=!0;break e}y===e(h)&&i(h),st(D)}else i(h);y=e(h)}if(y!==null)X=!0;else{var M=e(m);M!==null&&vt(K,M.startTime-D),X=!1}}break t}finally{y=null,b=tt,S=!1}X=void 0}}finally{X?$():Z=!1}}}var $;if(typeof J=="function")$=function(){J(ft)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,gt=pt.port2;pt.port1.onmessage=ft,$=function(){gt.postMessage(null)}}else $=function(){N(ft,0)};function vt(D,X){U=N(function(){D(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(D){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var tt=b;b=X;try{return D()}finally{b=tt}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var tt=b;b=D;try{return X()}finally{b=tt}},s.unstable_scheduleCallback=function(D,X,tt){var ut=s.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?ut+tt:ut):tt=ut,D){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=tt+ht,D={id:g++,callback:X,priorityLevel:D,startTime:tt,expirationTime:ht,sortIndex:-1},tt>ut?(D.sortIndex=tt,t(m,D),e(h)===null&&D===e(m)&&(w?(G(U),U=-1):w=!0,vt(K,tt-ut))):(D.sortIndex=ht,t(h,D),k||S||(k=!0,Z||(Z=!0,$()))),D},s.unstable_shouldYield=At,s.unstable_wrapCallback=function(D){var X=b;return function(){var tt=b;b=X;try{return D.apply(this,arguments)}finally{b=tt}}}})(Lh)),Lh}var C1;function ak(){return C1||(C1=1,zh.exports=rk()),zh.exports}var jh={exports:{}},ze={};var M1;function ok(){if(M1)return ze;M1=1;var s=im();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:m,implementation:g}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ze.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},ze.flushSync=function(h){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=g,i.d.f()}},ze.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},ze.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ze.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ze.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},ze.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ze.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},ze.requestFormReset=function(h){i.d.r(h)},ze.unstable_batchedUpdates=function(h,m){return h(m)},ze.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},ze.useFormStatus=function(){return u.H.useHostTransitionStatus()},ze.version="19.2.3",ze}var T1;function fv(){if(T1)return jh.exports;T1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jh.exports=ok(),jh.exports}var O1;function uk(){if(O1)return da;O1=1;var s=ak(),t=im(),e=fv();function i(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var l=n,a=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(a=l.return),n=l.return;while(n)}return l.tag===3?a:null}function u(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function f(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function m(n){var l=n.alternate;if(!l){if(l=o(n),l===null)throw Error(i(188));return l!==n?null:n}for(var a=n,c=l;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return h(d),n;if(p===c)return h(d),l;p=p.sibling}throw Error(i(188))}if(a.return!==c.return)a=d,c=p;else{for(var v=!1,x=d.child;x;){if(x===a){v=!0,a=d,c=p;break}if(x===c){v=!0,c=d,a=p;break}x=x.sibling}if(!v){for(x=p.child;x;){if(x===a){v=!0,a=p,c=d;break}if(x===c){v=!0,c=p,a=d;break}x=x.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:l}function g(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=g(n),l!==null)return l;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),J=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=ft&&n[ft]||n["@@iterator"],typeof n=="function"?n:null)}var pt=Symbol.for("react.client.reference");function gt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case Z:return"SuspenseList";case mt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case J:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case st:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return l=n.displayName||null,l!==null?l:gt(n.type)||"Memo";case rt:l=n._payload,n=n._init;try{return gt(n(l))}catch{}}return null}var vt=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},ut=[],ht=-1;function M(n){return{current:n}}function j(n){0>ht||(n.current=ut[ht],ut[ht]=null,ht--)}function V(n,l){ht++,ut[ht]=n.current,n.current=l}var W=M(null),P=M(null),at=M(null),kt=M(null);function wt(n,l){switch(V(at,l),V(P,n),V(W,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?G0(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=G0(l),n=X0(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}j(W),V(W,n)}function Gt(){j(W),j(P),j(at)}function Fn(n){n.memoizedState!==null&&V(kt,n);var l=W.current,a=X0(l,n.type);l!==a&&(V(P,n),V(W,a))}function pi(n){P.current===n&&(j(W),j(P)),kt.current===n&&(j(kt),oa._currentValue=tt)}var In,Ja;function Hn(n){if(In===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);In=l&&l[1]||"",Ja=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+In+n+Ja}var yr=!1;function fs(n,l){if(!n||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(l){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(z){var R=z}Reflect.construct(n,[],Y)}else{try{Y.call()}catch(z){R=z}n.call(Y.prototype)}}else{try{throw Error()}catch(z){R=z}(Y=n())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),v=p[0],x=p[1];if(v&&x){var A=v.split(`
`),_=x.split(`
`);for(d=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;d<_.length&&!_[d].includes("DetermineComponentFrameRoot");)d++;if(c===A.length||d===_.length)for(c=A.length-1,d=_.length-1;1<=c&&0<=d&&A[c]!==_[d];)d--;for(;1<=c&&0<=d;c--,d--)if(A[c]!==_[d]){if(c!==1||d!==1)do if(c--,d--,0>d||A[c]!==_[d]){var H=`
`+A[c].replace(" at new "," at ");return n.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",n.displayName)),H}while(1<=c&&0<=d);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Hn(a):""}function El(n,l){switch(n.tag){case 26:case 27:case 5:return Hn(n.type);case 16:return Hn("Lazy");case 13:return n.child!==l&&l!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return fs(n.type,!1);case 11:return fs(n.type.render,!1);case 1:return fs(n.type,!0);case 31:return Hn("Activity");default:return""}}function vr(n){try{var l="",a=null;do l+=El(n,a),a=n,n=n.return;while(n);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var un=Object.prototype.hasOwnProperty,br=s.unstable_scheduleCallback,xr=s.unstable_cancelCallback,He=s.unstable_shouldYield,Vi=s.unstable_requestPaint,Ue=s.unstable_now,bc=s.unstable_getCurrentPriorityLevel,Dl=s.unstable_ImmediatePriority,Wa=s.unstable_UserBlockingPriority,Nl=s.unstable_NormalPriority,Sr=s.unstable_LowPriority,gi=s.unstable_IdlePriority,Fa=s.log,Yi=s.unstable_setDisableYieldValue,Bl=null,qe=null;function Un(n){if(typeof Fa=="function"&&Yi(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bl,n)}catch{}}var _e=Math.clz32?Math.clz32:Pn,xc=Math.log,kr=Math.LN2;function Pn(n){return n>>>=0,n===0?32:31-(xc(n)/kr|0)|0}var hs=256,ds=262144,_l=4194304;function $n(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yt(n,l,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~p,c!==0?d=$n(c):(v&=x,v!==0?d=$n(v):a||(a=x&~n,a!==0&&(d=$n(a))))):(x=c&~p,x!==0?d=$n(x):v!==0?d=$n(v):a||(a=c&~n,a!==0&&(d=$n(a)))),d===0?0:l!==0&&l!==d&&(l&p)===0&&(p=d&-d,a=l&-l,p>=a||p===32&&(a&4194048)!==0)?l:d}function te(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function xe(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var n=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),n}function Gi(n){for(var l=[],a=0;31>a;a++)l.push(n);return l}function ie(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ke(n,l,a,c,d,p){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var x=n.entanglements,A=n.expirationTimes,_=n.hiddenUpdates;for(a=v&~a;0<a;){var H=31-_e(a),Y=1<<H;x[H]=0,A[H]=-1;var R=_[H];if(R!==null)for(_[H]=null,H=0;H<R.length;H++){var z=R[H];z!==null&&(z.lane&=-536870913)}a&=~Y}c!==0&&Rl(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(v&~l))}function Rl(n,l,a){n.pendingLanes|=l,n.suspendedLanes&=~l;var c=31-_e(l);n.entangledLanes|=l,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function Ze(n,l){var a=n.entangledLanes|=l;for(n=n.entanglements;a;){var c=31-_e(a),d=1<<c;d&l|n[c]&l&&(n[c]|=l),a&=~d}}function Je(n,l){var a=l&-l;return a=(a&42)!==0?1:ms(a),(a&(n.suspendedLanes|l))!==0?0:a}function ms(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sc(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:d1(n.type))}function Em(n,l){var a=X.p;try{return X.p=n,l()}finally{X.p=a}}var Xi=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Xi,We="__reactProps$"+Xi,ps="__reactContainer$"+Xi,kc="__reactEvents$"+Xi,K2="__reactListeners$"+Xi,Z2="__reactHandles$"+Xi,Dm="__reactResources$"+Xi,wr="__reactMarker$"+Xi;function wc(n){delete n[Ae],delete n[We],delete n[kc],delete n[K2],delete n[Z2]}function gs(n){var l=n[Ae];if(l)return l;for(var a=n.parentNode;a;){if(l=a[ps]||a[Ae]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(n=I0(n);n!==null;){if(a=n[Ae])return a;n=I0(n)}return l}n=a,a=n.parentNode}return null}function ys(n){if(n=n[Ae]||n[ps]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function Ar(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(i(33))}function vs(n){var l=n[Dm];return l||(l=n[Dm]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Se(n){n[wr]=!0}var Nm=new Set,Bm={};function zl(n,l){bs(n,l),bs(n+"Capture",l)}function bs(n,l){for(Bm[n]=l,n=0;n<l.length;n++)Nm.add(l[n])}var J2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_m={},Rm={};function W2(n){return un.call(Rm,n)?!0:un.call(_m,n)?!1:J2.test(n)?Rm[n]=!0:(_m[n]=!0,!1)}function Ia(n,l,a){if(W2(l))if(a===null)n.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var c=l.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+a)}}function Pa(n,l,a){if(a===null)n.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+a)}}function yi(n,l,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(l,a,""+c)}}function xn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zm(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function F2(n,l,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,p.call(this,v)}}),Object.defineProperty(n,l,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function Ac(n){if(!n._valueTracker){var l=zm(n)?"checked":"value";n._valueTracker=F2(n,l,""+n[l])}}function Lm(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var a=l.getValue(),c="";return n&&(c=zm(n)?n.checked?"true":"false":n.value),n=c,n!==a?(l.setValue(n),!0):!1}function $a(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var I2=/[\n"\\]/g;function Sn(n){return n.replace(I2,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cc(n,l,a,c,d,p,v,x){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),l!=null?v==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+xn(l)):n.value!==""+xn(l)&&(n.value=""+xn(l)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),l!=null?Mc(n,v,xn(l)):a!=null?Mc(n,v,xn(a)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+xn(x):n.removeAttribute("name")}function jm(n,l,a,c,d,p,v,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),l!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||l!=null)){Ac(n);return}a=a!=null?""+xn(a):"",l=l!=null?""+xn(l):a,x||l===n.value||(n.value=l),n.defaultValue=l}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Ac(n)}function Mc(n,l,a){l==="number"&&$a(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function xs(n,l,a,c){if(n=n.options,l){l={};for(var d=0;d<a.length;d++)l["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=l.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+xn(a),l=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}l!==null||n[d].disabled||(l=n[d])}l!==null&&(l.selected=!0)}}function Hm(n,l,a){if(l!=null&&(l=""+xn(l),l!==n.value&&(n.value=l),a==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=a!=null?""+xn(a):""}function Um(n,l,a,c){if(l==null){if(c!=null){if(a!=null)throw Error(i(92));if(vt(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),l=a}a=xn(l),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),Ac(n)}function Ss(n,l){if(l){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=l;return}}n.textContent=l}var P2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qm(n,l,a){var c=l.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":c?n.setProperty(l,a):typeof a!="number"||a===0||P2.has(l)?l==="float"?n.cssFloat=a:n[l]=(""+a).trim():n[l]=a+"px"}function Vm(n,l,a){if(l!=null&&typeof l!="object")throw Error(i(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||l!=null&&l.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in l)c=l[d],l.hasOwnProperty(d)&&a[d]!==c&&qm(n,d,c)}else for(var p in l)l.hasOwnProperty(p)&&qm(n,p,l[p])}function Tc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(n){return tx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function vi(){}var Oc=null;function Ec(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ks=null,ws=null;function Ym(n){var l=ys(n);if(l&&(n=l.stateNode)){var a=n[We]||null;t:switch(n=l.stateNode,l.type){case"input":if(Cc(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),l=a.name,a.type==="radio"&&l!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+l)+'"][type="radio"]'),l=0;l<a.length;l++){var c=a[l];if(c!==n&&c.form===n.form){var d=c[We]||null;if(!d)throw Error(i(90));Cc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(l=0;l<a.length;l++)c=a[l],c.form===n.form&&Lm(c)}break t;case"textarea":Hm(n,a.value,a.defaultValue);break t;case"select":l=a.value,l!=null&&xs(n,!!a.multiple,l,!1)}}}var Dc=!1;function Gm(n,l,a){if(Dc)return n(l,a);Dc=!0;try{var c=n(l);return c}finally{if(Dc=!1,(ks!==null||ws!==null)&&(Yo(),ks&&(l=ks,n=ws,ws=ks=null,Ym(l),n)))for(l=0;l<n.length;l++)Ym(n[l])}}function Cr(n,l){var a=n.stateNode;if(a===null)return null;var c=a[We]||null;if(c===null)return null;a=c[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,l,typeof a));return a}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=!1;if(bi)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Nc=!1}var Qi=null,Bc=null,eo=null;function Xm(){if(eo)return eo;var n,l=Bc,a=l.length,c,d="value"in Qi?Qi.value:Qi.textContent,p=d.length;for(n=0;n<a&&l[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&l[a-c]===d[p-c];c++);return eo=d.slice(n,1<c?1-c:void 0)}function no(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function io(){return!0}function Qm(){return!1}function Fe(n){function l(a,c,d,p,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(a=n[x],this[x]=a?a(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?io:Qm,this.isPropagationStopped=Qm,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),l}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Fe(Ll),Tr=y({},Ll,{view:0,detail:0}),ex=Fe(Tr),_c,Rc,Or,so=y({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Or&&(Or&&n.type==="mousemove"?(_c=n.screenX-Or.screenX,Rc=n.screenY-Or.screenY):Rc=_c=0,Or=n),_c)},movementY:function(n){return"movementY"in n?n.movementY:Rc}}),Km=Fe(so),nx=y({},so,{dataTransfer:0}),ix=Fe(nx),lx=y({},Tr,{relatedTarget:0}),zc=Fe(lx),sx=y({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=Fe(sx),ax=y({},Ll,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ox=Fe(ax),ux=y({},Ll,{data:0}),Zm=Fe(ux),cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dx(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=hx[n])?!!l[n]:!1}function Lc(){return dx}var mx=y({},Tr,{key:function(n){if(n.key){var l=cx[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=no(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(n){return n.type==="keypress"?no(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?no(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),px=Fe(mx),gx=y({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=Fe(gx),yx=y({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),vx=Fe(yx),bx=y({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=Fe(bx),Sx=y({},so,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=Fe(Sx),wx=y({},Ll,{newState:0,oldState:0}),Ax=Fe(wx),Cx=[9,13,27,32],jc=bi&&"CompositionEvent"in window,Er=null;bi&&"documentMode"in document&&(Er=document.documentMode);var Mx=bi&&"TextEvent"in window&&!Er,Wm=bi&&(!jc||Er&&8<Er&&11>=Er),Fm=" ",Im=!1;function Pm(n,l){switch(n){case"keyup":return Cx.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function Tx(n,l){switch(n){case"compositionend":return $m(l);case"keypress":return l.which!==32?null:(Im=!0,Fm);case"textInput":return n=l.data,n===Fm&&Im?null:n;default:return null}}function Ox(n,l){if(As)return n==="compositionend"||!jc&&Pm(n,l)?(n=Xm(),eo=Bc=Qi=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Wm&&l.locale!=="ko"?null:l.data;default:return null}}var Ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!Ex[n.type]:l==="textarea"}function ep(n,l,a,c){ks?ws?ws.push(c):ws=[c]:ks=c,l=Wo(l,"onChange"),0<l.length&&(a=new lo("onChange","change",null,a,c),n.push({event:a,listeners:l}))}var Dr=null,Nr=null;function Dx(n){j0(n,0)}function ro(n){var l=Ar(n);if(Lm(l))return n}function np(n,l){if(n==="change")return l}var ip=!1;if(bi){var Hc;if(bi){var Uc="oninput"in document;if(!Uc){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Uc=typeof lp.oninput=="function"}Hc=Uc}else Hc=!1;ip=Hc&&(!document.documentMode||9<document.documentMode)}function sp(){Dr&&(Dr.detachEvent("onpropertychange",rp),Nr=Dr=null)}function rp(n){if(n.propertyName==="value"&&ro(Nr)){var l=[];ep(l,Nr,n,Ec(n)),Gm(Dx,l)}}function Nx(n,l,a){n==="focusin"?(sp(),Dr=l,Nr=a,Dr.attachEvent("onpropertychange",rp)):n==="focusout"&&sp()}function Bx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ro(Nr)}function _x(n,l){if(n==="click")return ro(l)}function Rx(n,l){if(n==="input"||n==="change")return ro(l)}function zx(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var cn=typeof Object.is=="function"?Object.is:zx;function Br(n,l){if(cn(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var a=Object.keys(n),c=Object.keys(l);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!un.call(l,d)||!cn(n[d],l[d]))return!1}return!0}function ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function op(n,l){var a=ap(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=l&&c>=l)return{node:a,offset:l-n};n=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ap(a)}}function up(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?up(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function cp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=$a(n.document);l instanceof n.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)n=l.contentWindow;else break;l=$a(n.document)}return l}function qc(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var Lx=bi&&"documentMode"in document&&11>=document.documentMode,Cs=null,Vc=null,_r=null,Yc=!1;function fp(n,l,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Cs==null||Cs!==$a(c)||(c=Cs,"selectionStart"in c&&qc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_r&&Br(_r,c)||(_r=c,c=Wo(Vc,"onSelect"),0<c.length&&(l=new lo("onSelect","select",null,l,a),n.push({event:l,listeners:c}),l.target=Cs)))}function jl(n,l){var a={};return a[n.toLowerCase()]=l.toLowerCase(),a["Webkit"+n]="webkit"+l,a["Moz"+n]="moz"+l,a}var Ms={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},Gc={},hp={};bi&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Hl(n){if(Gc[n])return Gc[n];if(!Ms[n])return n;var l=Ms[n],a;for(a in l)if(l.hasOwnProperty(a)&&a in hp)return Gc[n]=l[a];return n}var dp=Hl("animationend"),mp=Hl("animationiteration"),pp=Hl("animationstart"),jx=Hl("transitionrun"),Hx=Hl("transitionstart"),Ux=Hl("transitioncancel"),gp=Hl("transitionend"),yp=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Vn(n,l){yp.set(n,l),zl(l,[n])}var ao=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},kn=[],Ts=0,Qc=0;function oo(){for(var n=Ts,l=Qc=Ts=0;l<n;){var a=kn[l];kn[l++]=null;var c=kn[l];kn[l++]=null;var d=kn[l];kn[l++]=null;var p=kn[l];if(kn[l++]=null,c!==null&&d!==null){var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}p!==0&&vp(a,d,p)}}function uo(n,l,a,c){kn[Ts++]=n,kn[Ts++]=l,kn[Ts++]=a,kn[Ts++]=c,Qc|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Kc(n,l,a,c){return uo(n,l,a,c),co(n)}function Ul(n,l){return uo(n,null,null,l),co(n)}function vp(n,l,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,p=n.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&l!==null&&(d=31-_e(a),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[l]:c.push(l),l.lane=a|536870912),p):null}function co(n){if(50<ea)throw ea=0,nh=null,Error(i(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var Os={};function qx(n,l,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,l,a,c){return new qx(n,l,a,c)}function Zc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xi(n,l){var a=n.alternate;return a===null?(a=fn(n.tag,l,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=l,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,l=n.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function bp(n,l){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,l=a.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function fo(n,l,a,c,d,p){var v=0;if(c=n,typeof n=="function")Zc(n)&&(v=1);else if(typeof n=="string")v=QS(n,a,W.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case mt:return n=fn(31,a,l,d),n.elementType=mt,n.lanes=p,n;case w:return ql(a.children,d,p,l);case E:v=8,d|=24;break;case N:return n=fn(12,a,l,d|2),n.elementType=N,n.lanes=p,n;case K:return n=fn(13,a,l,d),n.elementType=K,n.lanes=p,n;case Z:return n=fn(19,a,l,d),n.elementType=Z,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:v=10;break t;case G:v=9;break t;case st:v=11;break t;case U:v=14;break t;case rt:v=16,c=null;break t}v=29,a=Error(i(130,n===null?"null":typeof n,"")),c=null}return l=fn(v,a,l,d),l.elementType=n,l.type=c,l.lanes=p,l}function ql(n,l,a,c){return n=fn(7,n,c,l),n.lanes=a,n}function Jc(n,l,a){return n=fn(6,n,null,l),n.lanes=a,n}function xp(n){var l=fn(18,null,null,0);return l.stateNode=n,l}function Wc(n,l,a){return l=fn(4,n.children!==null?n.children:[],n.key,l),l.lanes=a,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var Sp=new WeakMap;function wn(n,l){if(typeof n=="object"&&n!==null){var a=Sp.get(n);return a!==void 0?a:(l={value:n,source:l,stack:vr(l)},Sp.set(n,l),l)}return{value:n,source:l,stack:vr(l)}}var Es=[],Ds=0,ho=null,Rr=0,An=[],Cn=0,Ki=null,ti=1,ei="";function Si(n,l){Es[Ds++]=Rr,Es[Ds++]=ho,ho=n,Rr=l}function kp(n,l,a){An[Cn++]=ti,An[Cn++]=ei,An[Cn++]=Ki,Ki=n;var c=ti;n=ei;var d=32-_e(c)-1;c&=~(1<<d),a+=1;var p=32-_e(l)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,ti=1<<32-_e(l)+d|a<<d|c,ei=p+n}else ti=1<<p|a<<d|c,ei=n}function Fc(n){n.return!==null&&(Si(n,1),kp(n,1,0))}function Ic(n){for(;n===ho;)ho=Es[--Ds],Es[Ds]=null,Rr=Es[--Ds],Es[Ds]=null;for(;n===Ki;)Ki=An[--Cn],An[Cn]=null,ei=An[--Cn],An[Cn]=null,ti=An[--Cn],An[Cn]=null}function wp(n,l){An[Cn++]=ti,An[Cn++]=ei,An[Cn++]=Ki,ti=l.id,ei=l.overflow,Ki=n}var Ce=null,Pt=null,Bt=!1,Zi=null,Mn=!1,Pc=Error(i(519));function Ji(n){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zr(wn(l,n)),Pc}function Ap(n){var l=n.stateNode,a=n.type,c=n.memoizedProps;switch(l[Ae]=n,l[We]=c,a){case"dialog":Ot("cancel",l),Ot("close",l);break;case"iframe":case"object":case"embed":Ot("load",l);break;case"video":case"audio":for(a=0;a<ia.length;a++)Ot(ia[a],l);break;case"source":Ot("error",l);break;case"img":case"image":case"link":Ot("error",l),Ot("load",l);break;case"details":Ot("toggle",l);break;case"input":Ot("invalid",l),jm(l,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",l);break;case"textarea":Ot("invalid",l),Um(l,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||l.textContent===""+a||c.suppressHydrationWarning===!0||V0(l.textContent,a)?(c.popover!=null&&(Ot("beforetoggle",l),Ot("toggle",l)),c.onScroll!=null&&Ot("scroll",l),c.onScrollEnd!=null&&Ot("scrollend",l),c.onClick!=null&&(l.onclick=vi),l=!0):l=!1,l||Ji(n,!0)}function Cp(n){for(Ce=n.return;Ce;)switch(Ce.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ce=Ce.return}}function Ns(n){if(n!==Ce)return!1;if(!Bt)return Cp(n),Bt=!0,!1;var l=n.tag,a;if((a=l!==3&&l!==27)&&((a=l===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||yh(n.type,n.memoizedProps)),a=!a),a&&Pt&&Ji(n),Cp(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Pt=F0(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Pt=F0(n)}else l===27?(l=Pt,ol(n.type)?(n=kh,kh=null,Pt=n):Pt=l):Pt=Ce?On(n.stateNode.nextSibling):null;return!0}function Vl(){Pt=Ce=null,Bt=!1}function $c(){var n=Zi;return n!==null&&(tn===null?tn=n:tn.push.apply(tn,n),Zi=null),n}function zr(n){Zi===null?Zi=[n]:Zi.push(n)}var tf=M(null),Yl=null,ki=null;function Wi(n,l,a){V(tf,l._currentValue),l._currentValue=a}function wi(n){n._currentValue=tf.current,j(tf)}function ef(n,l,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),n===a)break;n=n.return}}function nf(n,l,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=d;for(var A=0;A<l.length;A++)if(x.context===l[A]){p.lanes|=a,x=p.alternate,x!==null&&(x.lanes|=a),ef(p.return,a,n),c||(v=null);break t}p=x.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=a,p=v.alternate,p!==null&&(p.lanes|=a),ef(v,a,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Bs(n,l,a,c){n=null;for(var d=l,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var x=d.type;cn(d.pendingProps.value,v.value)||(n!==null?n.push(x):n=[x])}}else if(d===kt.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(oa):n=[oa])}d=d.return}n!==null&&nf(l,n,a,c),l.flags|=262144}function mo(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gl(n){Yl=n,ki=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Me(n){return Mp(Yl,n)}function po(n,l){return Yl===null&&Gl(n),Mp(n,l)}function Mp(n,l){var a=l._currentValue;if(l={context:l,memoizedValue:a,next:null},ki===null){if(n===null)throw Error(i(308));ki=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else ki=ki.next=l;return a}var Vx=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){l.aborted=!0,n.forEach(function(a){return a()})}},Yx=s.unstable_scheduleCallback,Gx=s.unstable_NormalPriority,ce={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new Vx,data:new Map,refCount:0}}function Lr(n){n.refCount--,n.refCount===0&&Yx(Gx,function(){n.controller.abort()})}var jr=null,sf=0,_s=0,Rs=null;function Xx(n,l){if(jr===null){var a=jr=[];sf=0,_s=oh(),Rs={status:"pending",value:void 0,then:function(c){a.push(c)}}}return sf++,l.then(Tp,Tp),l}function Tp(){if(--sf===0&&jr!==null){Rs!==null&&(Rs.status="fulfilled");var n=jr;jr=null,_s=0,Rs=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function Qx(n,l){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=l;for(var d=0;d<a.length;d++)(0,a[d])(l)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var Op=D.S;D.S=function(n,l){f0=Ue(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Xx(n,l),Op!==null&&Op(n,l)};var Xl=M(null);function rf(){var n=Xl.current;return n!==null?n:Zt.pooledCache}function go(n,l){l===null?V(Xl,Xl.current):V(Xl,l.pool)}function Ep(){var n=rf();return n===null?null:{parent:ce._currentValue,pool:n}}var zs=Error(i(460)),af=Error(i(474)),yo=Error(i(542)),vo={then:function(){}};function Dp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Np(n,l,a){switch(a=n[a],a===void 0?n.push(l):a!==l&&(l.then(vi,vi),l=a),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,_p(n),n;default:if(typeof l.status=="string")l.then(vi,vi);else{if(n=Zt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=l,n.status="pending",n.then(function(c){if(l.status==="pending"){var d=l;d.status="fulfilled",d.value=c}},function(c){if(l.status==="pending"){var d=l;d.status="rejected",d.reason=c}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,_p(n),n}throw Kl=l,zs}}function Ql(n){try{var l=n._init;return l(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kl=a,zs):a}}var Kl=null;function Bp(){if(Kl===null)throw Error(i(459));var n=Kl;return Kl=null,n}function _p(n){if(n===zs||n===yo)throw Error(i(483))}var Ls=null,Hr=0;function bo(n){var l=Hr;return Hr+=1,Ls===null&&(Ls=[]),Np(Ls,n,l)}function Ur(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function xo(n,l){throw l.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(l),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function Rp(n){function l(O,T){if(n){var B=O.deletions;B===null?(O.deletions=[T],O.flags|=16):B.push(T)}}function a(O,T){if(!n)return null;for(;T!==null;)l(O,T),T=T.sibling;return null}function c(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function d(O,T){return O=xi(O,T),O.index=0,O.sibling=null,O}function p(O,T,B){return O.index=B,n?(B=O.alternate,B!==null?(B=B.index,B<T?(O.flags|=67108866,T):B):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function v(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function x(O,T,B,q){return T===null||T.tag!==6?(T=Jc(B,O.mode,q),T.return=O,T):(T=d(T,B),T.return=O,T)}function A(O,T,B,q){var ot=B.type;return ot===w?H(O,T,B.props.children,q,B.key):T!==null&&(T.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===rt&&Ql(ot)===T.type)?(T=d(T,B.props),Ur(T,B),T.return=O,T):(T=fo(B.type,B.key,B.props,null,O.mode,q),Ur(T,B),T.return=O,T)}function _(O,T,B,q){return T===null||T.tag!==4||T.stateNode.containerInfo!==B.containerInfo||T.stateNode.implementation!==B.implementation?(T=Wc(B,O.mode,q),T.return=O,T):(T=d(T,B.children||[]),T.return=O,T)}function H(O,T,B,q,ot){return T===null||T.tag!==7?(T=ql(B,O.mode,q,ot),T.return=O,T):(T=d(T,B),T.return=O,T)}function Y(O,T,B){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Jc(""+T,O.mode,B),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return B=fo(T.type,T.key,T.props,null,O.mode,B),Ur(B,T),B.return=O,B;case k:return T=Wc(T,O.mode,B),T.return=O,T;case rt:return T=Ql(T),Y(O,T,B)}if(vt(T)||$(T))return T=ql(T,O.mode,B,null),T.return=O,T;if(typeof T.then=="function")return Y(O,bo(T),B);if(T.$$typeof===J)return Y(O,po(O,T),B);xo(O,T)}return null}function R(O,T,B,q){var ot=T!==null?T.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ot!==null?null:x(O,T,""+B,q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ot?A(O,T,B,q):null;case k:return B.key===ot?_(O,T,B,q):null;case rt:return B=Ql(B),R(O,T,B,q)}if(vt(B)||$(B))return ot!==null?null:H(O,T,B,q,null);if(typeof B.then=="function")return R(O,T,bo(B),q);if(B.$$typeof===J)return R(O,T,po(O,B),q);xo(O,B)}return null}function z(O,T,B,q,ot){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return O=O.get(B)||null,x(T,O,""+q,ot);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return O=O.get(q.key===null?B:q.key)||null,A(T,O,q,ot);case k:return O=O.get(q.key===null?B:q.key)||null,_(T,O,q,ot);case rt:return q=Ql(q),z(O,T,B,q,ot)}if(vt(q)||$(q))return O=O.get(B)||null,H(T,O,q,ot,null);if(typeof q.then=="function")return z(O,T,B,bo(q),ot);if(q.$$typeof===J)return z(O,T,B,po(T,q),ot);xo(T,q)}return null}function nt(O,T,B,q){for(var ot=null,Rt=null,it=T,St=T=0,Dt=null;it!==null&&St<B.length;St++){it.index>St?(Dt=it,it=null):Dt=it.sibling;var zt=R(O,it,B[St],q);if(zt===null){it===null&&(it=Dt);break}n&&it&&zt.alternate===null&&l(O,it),T=p(zt,T,St),Rt===null?ot=zt:Rt.sibling=zt,Rt=zt,it=Dt}if(St===B.length)return a(O,it),Bt&&Si(O,St),ot;if(it===null){for(;St<B.length;St++)it=Y(O,B[St],q),it!==null&&(T=p(it,T,St),Rt===null?ot=it:Rt.sibling=it,Rt=it);return Bt&&Si(O,St),ot}for(it=c(it);St<B.length;St++)Dt=z(it,O,St,B[St],q),Dt!==null&&(n&&Dt.alternate!==null&&it.delete(Dt.key===null?St:Dt.key),T=p(Dt,T,St),Rt===null?ot=Dt:Rt.sibling=Dt,Rt=Dt);return n&&it.forEach(function(dl){return l(O,dl)}),Bt&&Si(O,St),ot}function dt(O,T,B,q){if(B==null)throw Error(i(151));for(var ot=null,Rt=null,it=T,St=T=0,Dt=null,zt=B.next();it!==null&&!zt.done;St++,zt=B.next()){it.index>St?(Dt=it,it=null):Dt=it.sibling;var dl=R(O,it,zt.value,q);if(dl===null){it===null&&(it=Dt);break}n&&it&&dl.alternate===null&&l(O,it),T=p(dl,T,St),Rt===null?ot=dl:Rt.sibling=dl,Rt=dl,it=Dt}if(zt.done)return a(O,it),Bt&&Si(O,St),ot;if(it===null){for(;!zt.done;St++,zt=B.next())zt=Y(O,zt.value,q),zt!==null&&(T=p(zt,T,St),Rt===null?ot=zt:Rt.sibling=zt,Rt=zt);return Bt&&Si(O,St),ot}for(it=c(it);!zt.done;St++,zt=B.next())zt=z(it,O,St,zt.value,q),zt!==null&&(n&&zt.alternate!==null&&it.delete(zt.key===null?St:zt.key),T=p(zt,T,St),Rt===null?ot=zt:Rt.sibling=zt,Rt=zt);return n&&it.forEach(function(nk){return l(O,nk)}),Bt&&Si(O,St),ot}function Kt(O,T,B,q){if(typeof B=="object"&&B!==null&&B.type===w&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var ot=B.key;T!==null;){if(T.key===ot){if(ot=B.type,ot===w){if(T.tag===7){a(O,T.sibling),q=d(T,B.props.children),q.return=O,O=q;break t}}else if(T.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===rt&&Ql(ot)===T.type){a(O,T.sibling),q=d(T,B.props),Ur(q,B),q.return=O,O=q;break t}a(O,T);break}else l(O,T);T=T.sibling}B.type===w?(q=ql(B.props.children,O.mode,q,B.key),q.return=O,O=q):(q=fo(B.type,B.key,B.props,null,O.mode,q),Ur(q,B),q.return=O,O=q)}return v(O);case k:t:{for(ot=B.key;T!==null;){if(T.key===ot)if(T.tag===4&&T.stateNode.containerInfo===B.containerInfo&&T.stateNode.implementation===B.implementation){a(O,T.sibling),q=d(T,B.children||[]),q.return=O,O=q;break t}else{a(O,T);break}else l(O,T);T=T.sibling}q=Wc(B,O.mode,q),q.return=O,O=q}return v(O);case rt:return B=Ql(B),Kt(O,T,B,q)}if(vt(B))return nt(O,T,B,q);if($(B)){if(ot=$(B),typeof ot!="function")throw Error(i(150));return B=ot.call(B),dt(O,T,B,q)}if(typeof B.then=="function")return Kt(O,T,bo(B),q);if(B.$$typeof===J)return Kt(O,T,po(O,B),q);xo(O,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,T!==null&&T.tag===6?(a(O,T.sibling),q=d(T,B),q.return=O,O=q):(a(O,T),q=Jc(B,O.mode,q),q.return=O,O=q),v(O)):a(O,T)}return function(O,T,B,q){try{Hr=0;var ot=Kt(O,T,B,q);return Ls=null,ot}catch(it){if(it===zs||it===yo)throw it;var Rt=fn(29,it,null,O.mode);return Rt.lanes=q,Rt.return=O,Rt}}}var Zl=Rp(!0),zp=Rp(!1),Fi=!1;function of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ii(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pi(n,l,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var d=c.pending;return d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l,l=co(n),vp(n,null,a),l}return uo(n,c,l,a),co(n)}function qr(n,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194048)!==0)){var c=l.lanes;c&=n.pendingLanes,a|=c,l.lanes=a,Ze(n,a)}}function cf(n,l){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?d=p=l:p=p.next=l}else d=p=l;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=l:n.next=l,a.lastBaseUpdate=l}var ff=!1;function Vr(){if(ff){var n=Rs;if(n!==null)throw n}}function Yr(n,l,a,c){ff=!1;var d=n.updateQueue;Fi=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var A=x,_=A.next;A.next=null,v===null?p=_:v.next=_,v=A;var H=n.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==v&&(x===null?H.firstBaseUpdate=_:x.next=_,H.lastBaseUpdate=A))}if(p!==null){var Y=d.baseState;v=0,H=_=A=null,x=p;do{var R=x.lane&-536870913,z=R!==x.lane;if(z?(Et&R)===R:(c&R)===R){R!==0&&R===_s&&(ff=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var nt=n,dt=x;R=l;var Kt=a;switch(dt.tag){case 1:if(nt=dt.payload,typeof nt=="function"){Y=nt.call(Kt,Y,R);break t}Y=nt;break t;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=dt.payload,R=typeof nt=="function"?nt.call(Kt,Y,R):nt,R==null)break t;Y=y({},Y,R);break t;case 2:Fi=!0}}R=x.callback,R!==null&&(n.flags|=64,z&&(n.flags|=8192),z=d.callbacks,z===null?d.callbacks=[R]:z.push(R))}else z={lane:R,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(_=H=z,A=Y):H=H.next=z,v|=R;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;z=x,x=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);H===null&&(A=Y),d.baseState=A,d.firstBaseUpdate=_,d.lastBaseUpdate=H,p===null&&(d.shared.lanes=0),il|=v,n.lanes=v,n.memoizedState=Y}}function Lp(n,l){if(typeof n!="function")throw Error(i(191,n));n.call(l)}function jp(n,l){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Lp(a[n],l)}var js=M(null),So=M(0);function Hp(n,l){n=Bi,V(So,n),V(js,l),Bi=n|l.baseLanes}function hf(){V(So,Bi),V(js,js.current)}function df(){Bi=So.current,j(js),j(So)}var hn=M(null),Tn=null;function $i(n){var l=n.alternate;V(re,re.current&1),V(hn,n),Tn===null&&(l===null||js.current!==null||l.memoizedState!==null)&&(Tn=n)}function mf(n){V(re,re.current),V(hn,n),Tn===null&&(Tn=n)}function Up(n){n.tag===22?(V(re,re.current),V(hn,n),Tn===null&&(Tn=n)):tl()}function tl(){V(re,re.current),V(hn,hn.current)}function dn(n){j(hn),Tn===n&&(Tn=null),j(re)}var re=M(0);function ko(n){for(var l=n;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xh(a)||Sh(a)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ai=0,xt=null,Xt=null,fe=null,wo=!1,Hs=!1,Jl=!1,Ao=0,Gr=0,Us=null,Kx=0;function le(){throw Error(i(321))}function pf(n,l){if(l===null)return!1;for(var a=0;a<l.length&&a<n.length;a++)if(!cn(n[a],l[a]))return!1;return!0}function gf(n,l,a,c,d,p){return Ai=p,xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,D.H=n===null||n.memoizedState===null?kg:Nf,Jl=!1,p=a(c,d),Jl=!1,Hs&&(p=Vp(l,a,c,d)),qp(n),p}function qp(n){D.H=Kr;var l=Xt!==null&&Xt.next!==null;if(Ai=0,fe=Xt=xt=null,wo=!1,Gr=0,Us=null,l)throw Error(i(300));n===null||he||(n=n.dependencies,n!==null&&mo(n)&&(he=!0))}function Vp(n,l,a,c){xt=n;var d=0;do{if(Hs&&(Us=null),Gr=0,Hs=!1,25<=d)throw Error(i(301));if(d+=1,fe=Xt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=wg,p=l(a,c)}while(Hs);return p}function Zx(){var n=D.H,l=n.useState()[0];return l=typeof l.then=="function"?Xr(l):l,n=n.useState()[0],(Xt!==null?Xt.memoizedState:null)!==n&&(xt.flags|=1024),l}function yf(){var n=Ao!==0;return Ao=0,n}function vf(n,l,a){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~a}function bf(n){if(wo){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}wo=!1}Ai=0,fe=Xt=xt=null,Hs=!1,Gr=Ao=0,Us=null}function Ve(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?xt.memoizedState=fe=n:fe=fe.next=n,fe}function ae(){if(Xt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var l=fe===null?xt.memoizedState:fe.next;if(l!==null)fe=l,Xt=n;else{if(n===null)throw xt.alternate===null?Error(i(467)):Error(i(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},fe===null?xt.memoizedState=fe=n:fe=fe.next=n}return fe}function Co(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(n){var l=Gr;return Gr+=1,Us===null&&(Us=[]),n=Np(Us,n,l),l=xt,(fe===null?l.memoizedState:fe.next)===null&&(l=l.alternate,D.H=l===null||l.memoizedState===null?kg:Nf),n}function Mo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xr(n);if(n.$$typeof===J)return Me(n)}throw Error(i(438,String(n)))}function xf(n){var l=null,a=xt.updateQueue;if(a!==null&&(l=a.memoCache),l==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(l={data:c.data.map(function(d){return d.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),a===null&&(a=Co(),xt.updateQueue=a),a.memoCache=l,a=l.data[l.index],a===void 0)for(a=l.data[l.index]=Array(n),c=0;c<n;c++)a[c]=At;return l.index++,a}function Ci(n,l){return typeof l=="function"?l(n):l}function To(n){var l=ae();return Sf(l,Xt,n)}function Sf(n,l,a){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}l.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{l=d.next;var x=v=null,A=null,_=l,H=!1;do{var Y=_.lane&-536870913;if(Y!==_.lane?(Et&Y)===Y:(Ai&Y)===Y){var R=_.revertLane;if(R===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),Y===_s&&(H=!0);else if((Ai&R)===R){_=_.next,R===_s&&(H=!0);continue}else Y={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(x=A=Y,v=p):A=A.next=Y,xt.lanes|=R,il|=R;Y=_.action,Jl&&a(p,Y),p=_.hasEagerState?_.eagerState:a(p,Y)}else R={lane:Y,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},A===null?(x=A=R,v=p):A=A.next=R,xt.lanes|=Y,il|=Y;_=_.next}while(_!==null&&_!==l);if(A===null?v=p:A.next=x,!cn(p,n.memoizedState)&&(he=!0,H&&(a=Rs,a!==null)))throw a;n.memoizedState=p,n.baseState=v,n.baseQueue=A,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function kf(n){var l=ae(),a=l.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=l.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);cn(p,l.memoizedState)||(he=!0),l.memoizedState=p,l.baseQueue===null&&(l.baseState=p),a.lastRenderedState=p}return[p,c]}function Yp(n,l,a){var c=xt,d=ae(),p=Bt;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=l();var v=!cn((Xt||d).memoizedState,a);if(v&&(d.memoizedState=a,he=!0),d=d.queue,Cf(Qp.bind(null,c,d,n),[n]),d.getSnapshot!==l||v||fe!==null&&fe.memoizedState.tag&1){if(c.flags|=2048,qs(9,{destroy:void 0},Xp.bind(null,c,d,a,l),null),Zt===null)throw Error(i(349));p||(Ai&127)!==0||Gp(c,l,a)}return a}function Gp(n,l,a){n.flags|=16384,n={getSnapshot:l,value:a},l=xt.updateQueue,l===null?(l=Co(),xt.updateQueue=l,l.stores=[n]):(a=l.stores,a===null?l.stores=[n]:a.push(n))}function Xp(n,l,a,c){l.value=a,l.getSnapshot=c,Kp(l)&&Zp(n)}function Qp(n,l,a){return a(function(){Kp(l)&&Zp(n)})}function Kp(n){var l=n.getSnapshot;n=n.value;try{var a=l();return!cn(n,a)}catch{return!0}}function Zp(n){var l=Ul(n,2);l!==null&&en(l,n,2)}function wf(n){var l=Ve();if(typeof n=="function"){var a=n;if(n=a(),Jl){Un(!0);try{a()}finally{Un(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:n},l}function Jp(n,l,a,c){return n.baseState=a,Sf(n,Xt,typeof c=="function"?c:Ci)}function Jx(n,l,a,c,d){if(Do(n))throw Error(i(485));if(n=l.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};D.T!==null?a(!0):p.isTransition=!1,c(p),a=l.pending,a===null?(p.next=l.pending=p,Wp(l,p)):(p.next=a.next,l.pending=a.next=p)}}function Wp(n,l){var a=l.action,c=l.payload,d=n.state;if(l.isTransition){var p=D.T,v={};D.T=v;try{var x=a(d,c),A=D.S;A!==null&&A(v,x),Fp(n,l,x)}catch(_){Af(n,l,_)}finally{p!==null&&v.types!==null&&(p.types=v.types),D.T=p}}else try{p=a(d,c),Fp(n,l,p)}catch(_){Af(n,l,_)}}function Fp(n,l,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Ip(n,l,c)},function(c){return Af(n,l,c)}):Ip(n,l,a)}function Ip(n,l,a){l.status="fulfilled",l.value=a,Pp(l),n.state=a,l=n.pending,l!==null&&(a=l.next,a===l?n.pending=null:(a=a.next,l.next=a,Wp(n,a)))}function Af(n,l,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do l.status="rejected",l.reason=a,Pp(l),l=l.next;while(l!==c)}n.action=null}function Pp(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function $p(n,l){return l}function tg(n,l){if(Bt){var a=Zt.formState;if(a!==null){t:{var c=xt;if(Bt){if(Pt){e:{for(var d=Pt,p=Mn;d.nodeType!==8;){if(!p){d=null;break e}if(d=On(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Pt=On(d.nextSibling),c=d.data==="F!";break t}}Ji(c)}c=!1}c&&(l=a[0])}}return a=Ve(),a.memoizedState=a.baseState=l,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:l},a.queue=c,a=bg.bind(null,xt,c),c.dispatch=a,c=wf(!1),p=Df.bind(null,xt,!1,c.queue),c=Ve(),d={state:l,dispatch:null,action:n,pending:null},c.queue=d,a=Jx.bind(null,xt,d,p,a),d.dispatch=a,c.memoizedState=n,[l,a,!1]}function eg(n){var l=ae();return ng(l,Xt,n)}function ng(n,l,a){if(l=Sf(n,l,$p)[0],n=To(Ci)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var c=Xr(l)}catch(v){throw v===zs?yo:v}else c=l;l=ae();var d=l.queue,p=d.dispatch;return a!==l.memoizedState&&(xt.flags|=2048,qs(9,{destroy:void 0},Wx.bind(null,d,a),null)),[c,p,n]}function Wx(n,l){n.action=l}function ig(n){var l=ae(),a=Xt;if(a!==null)return ng(l,a,n);ae(),l=l.memoizedState,a=ae();var c=a.queue.dispatch;return a.memoizedState=n,[l,c,!1]}function qs(n,l,a,c){return n={tag:n,create:a,deps:c,inst:l,next:null},l=xt.updateQueue,l===null&&(l=Co(),xt.updateQueue=l),a=l.lastEffect,a===null?l.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,l.lastEffect=n),n}function lg(){return ae().memoizedState}function Oo(n,l,a,c){var d=Ve();xt.flags|=n,d.memoizedState=qs(1|l,{destroy:void 0},a,c===void 0?null:c)}function Eo(n,l,a,c){var d=ae();c=c===void 0?null:c;var p=d.memoizedState.inst;Xt!==null&&c!==null&&pf(c,Xt.memoizedState.deps)?d.memoizedState=qs(l,p,a,c):(xt.flags|=n,d.memoizedState=qs(1|l,p,a,c))}function sg(n,l){Oo(8390656,8,n,l)}function Cf(n,l){Eo(2048,8,n,l)}function Fx(n){xt.flags|=4;var l=xt.updateQueue;if(l===null)l=Co(),xt.updateQueue=l,l.events=[n];else{var a=l.events;a===null?l.events=[n]:a.push(n)}}function rg(n){var l=ae().memoizedState;return Fx({ref:l,nextImpl:n}),function(){if((Ut&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function ag(n,l){return Eo(4,2,n,l)}function og(n,l){return Eo(4,4,n,l)}function ug(n,l){if(typeof l=="function"){n=n();var a=l(n);return function(){typeof a=="function"?a():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function cg(n,l,a){a=a!=null?a.concat([n]):null,Eo(4,4,ug.bind(null,l,n),a)}function Mf(){}function fg(n,l){var a=ae();l=l===void 0?null:l;var c=a.memoizedState;return l!==null&&pf(l,c[1])?c[0]:(a.memoizedState=[n,l],n)}function hg(n,l){var a=ae();l=l===void 0?null:l;var c=a.memoizedState;if(l!==null&&pf(l,c[1]))return c[0];if(c=n(),Jl){Un(!0);try{n()}finally{Un(!1)}}return a.memoizedState=[c,l],c}function Tf(n,l,a){return a===void 0||(Ai&1073741824)!==0&&(Et&261930)===0?n.memoizedState=l:(n.memoizedState=a,n=d0(),xt.lanes|=n,il|=n,a)}function dg(n,l,a,c){return cn(a,l)?a:js.current!==null?(n=Tf(n,a,c),cn(n,l)||(he=!0),n):(Ai&42)===0||(Ai&1073741824)!==0&&(Et&261930)===0?(he=!0,n.memoizedState=a):(n=d0(),xt.lanes|=n,il|=n,l)}function mg(n,l,a,c,d){var p=X.p;X.p=p!==0&&8>p?p:8;var v=D.T,x={};D.T=x,Df(n,!1,l,a);try{var A=d(),_=D.S;if(_!==null&&_(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Qx(A,c);Qr(n,l,H,gn(n))}else Qr(n,l,c,gn(n))}catch(Y){Qr(n,l,{then:function(){},status:"rejected",reason:Y},gn())}finally{X.p=p,v!==null&&x.types!==null&&(v.types=x.types),D.T=v}}function Ix(){}function Of(n,l,a,c){if(n.tag!==5)throw Error(i(476));var d=pg(n).queue;mg(n,d,l,tt,a===null?Ix:function(){return gg(n),a(c)})}function pg(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:tt},next:null};var a={};return l.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function gg(n){var l=pg(n);l.next===null&&(l=n.alternate.memoizedState),Qr(n,l.next.queue,{},gn())}function Ef(){return Me(oa)}function yg(){return ae().memoizedState}function vg(){return ae().memoizedState}function Px(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var a=gn();n=Ii(a);var c=Pi(l,n,a);c!==null&&(en(c,l,a),qr(c,l,a)),l={cache:lf()},n.payload=l;return}l=l.return}}function $x(n,l,a){var c=gn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Do(n)?xg(l,a):(a=Kc(n,l,a,c),a!==null&&(en(a,n,c),Sg(a,l,c)))}function bg(n,l,a){var c=gn();Qr(n,l,a,c)}function Qr(n,l,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Do(n))xg(l,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=l.lastRenderedReducer,p!==null))try{var v=l.lastRenderedState,x=p(v,a);if(d.hasEagerState=!0,d.eagerState=x,cn(x,v))return uo(n,l,d,0),Zt===null&&oo(),!1}catch{}if(a=Kc(n,l,d,c),a!==null)return en(a,n,c),Sg(a,l,c),!0}return!1}function Df(n,l,a,c){if(c={lane:2,revertLane:oh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Do(n)){if(l)throw Error(i(479))}else l=Kc(n,a,c,2),l!==null&&en(l,n,2)}function Do(n){var l=n.alternate;return n===xt||l!==null&&l===xt}function xg(n,l){Hs=wo=!0;var a=n.pending;a===null?l.next=l:(l.next=a.next,a.next=l),n.pending=l}function Sg(n,l,a){if((a&4194048)!==0){var c=l.lanes;c&=n.pendingLanes,a|=c,l.lanes=a,Ze(n,a)}}var Kr={readContext:Me,use:Mo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Kr.useEffectEvent=le;var kg={readContext:Me,use:Mo,useCallback:function(n,l){return Ve().memoizedState=[n,l===void 0?null:l],n},useContext:Me,useEffect:sg,useImperativeHandle:function(n,l,a){a=a!=null?a.concat([n]):null,Oo(4194308,4,ug.bind(null,l,n),a)},useLayoutEffect:function(n,l){return Oo(4194308,4,n,l)},useInsertionEffect:function(n,l){Oo(4,2,n,l)},useMemo:function(n,l){var a=Ve();l=l===void 0?null:l;var c=n();if(Jl){Un(!0);try{n()}finally{Un(!1)}}return a.memoizedState=[c,l],c},useReducer:function(n,l,a){var c=Ve();if(a!==void 0){var d=a(l);if(Jl){Un(!0);try{a(l)}finally{Un(!1)}}}else d=l;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=$x.bind(null,xt,n),[c.memoizedState,n]},useRef:function(n){var l=Ve();return n={current:n},l.memoizedState=n},useState:function(n){n=wf(n);var l=n.queue,a=bg.bind(null,xt,l);return l.dispatch=a,[n.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(n,l){var a=Ve();return Tf(a,n,l)},useTransition:function(){var n=wf(!1);return n=mg.bind(null,xt,n.queue,!0,!1),Ve().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,a){var c=xt,d=Ve();if(Bt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=l(),Zt===null)throw Error(i(349));(Et&127)!==0||Gp(c,l,a)}d.memoizedState=a;var p={value:a,getSnapshot:l};return d.queue=p,sg(Qp.bind(null,c,p,n),[n]),c.flags|=2048,qs(9,{destroy:void 0},Xp.bind(null,c,p,a,l),null),a},useId:function(){var n=Ve(),l=Zt.identifierPrefix;if(Bt){var a=ei,c=ti;a=(c&~(1<<32-_e(c)-1)).toString(32)+a,l="_"+l+"R_"+a,a=Ao++,0<a&&(l+="H"+a.toString(32)),l+="_"}else a=Kx++,l="_"+l+"r_"+a.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:Ef,useFormState:tg,useActionState:tg,useOptimistic:function(n){var l=Ve();l.memoizedState=l.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=a,l=Df.bind(null,xt,!0,a),a.dispatch=l,[n,l]},useMemoCache:xf,useCacheRefresh:function(){return Ve().memoizedState=Px.bind(null,xt)},useEffectEvent:function(n){var l=Ve(),a={impl:n};return l.memoizedState=a,function(){if((Ut&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:Me,use:Mo,useCallback:fg,useContext:Me,useEffect:Cf,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:To,useRef:lg,useState:function(){return To(Ci)},useDebugValue:Mf,useDeferredValue:function(n,l){var a=ae();return dg(a,Xt.memoizedState,n,l)},useTransition:function(){var n=To(Ci)[0],l=ae().memoizedState;return[typeof n=="boolean"?n:Xr(n),l]},useSyncExternalStore:Yp,useId:yg,useHostTransitionStatus:Ef,useFormState:eg,useActionState:eg,useOptimistic:function(n,l){var a=ae();return Jp(a,Xt,n,l)},useMemoCache:xf,useCacheRefresh:vg};Nf.useEffectEvent=rg;var wg={readContext:Me,use:Mo,useCallback:fg,useContext:Me,useEffect:Cf,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:kf,useRef:lg,useState:function(){return kf(Ci)},useDebugValue:Mf,useDeferredValue:function(n,l){var a=ae();return Xt===null?Tf(a,n,l):dg(a,Xt.memoizedState,n,l)},useTransition:function(){var n=kf(Ci)[0],l=ae().memoizedState;return[typeof n=="boolean"?n:Xr(n),l]},useSyncExternalStore:Yp,useId:yg,useHostTransitionStatus:Ef,useFormState:ig,useActionState:ig,useOptimistic:function(n,l){var a=ae();return Xt!==null?Jp(a,Xt,n,l):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:vg};wg.useEffectEvent=rg;function Bf(n,l,a,c){l=n.memoizedState,a=a(c,l),a=a==null?l:y({},l,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _f={enqueueSetState:function(n,l,a){n=n._reactInternals;var c=gn(),d=Ii(c);d.payload=l,a!=null&&(d.callback=a),l=Pi(n,d,c),l!==null&&(en(l,n,c),qr(l,n,c))},enqueueReplaceState:function(n,l,a){n=n._reactInternals;var c=gn(),d=Ii(c);d.tag=1,d.payload=l,a!=null&&(d.callback=a),l=Pi(n,d,c),l!==null&&(en(l,n,c),qr(l,n,c))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var a=gn(),c=Ii(a);c.tag=2,l!=null&&(c.callback=l),l=Pi(n,c,a),l!==null&&(en(l,n,a),qr(l,n,a))}};function Ag(n,l,a,c,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):l.prototype&&l.prototype.isPureReactComponent?!Br(a,c)||!Br(d,p):!0}function Cg(n,l,a,c){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,c),l.state!==n&&_f.enqueueReplaceState(l,l.state,null)}function Wl(n,l){var a=l;if("ref"in l){a={};for(var c in l)c!=="ref"&&(a[c]=l[c])}if(n=n.defaultProps){a===l&&(a=y({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function Mg(n){ao(n)}function Tg(n){console.error(n)}function Og(n){ao(n)}function No(n,l){try{var a=n.onUncaughtError;a(l.value,{componentStack:l.stack})}catch(c){setTimeout(function(){throw c})}}function Eg(n,l,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rf(n,l,a){return a=Ii(a),a.tag=3,a.payload={element:null},a.callback=function(){No(n,l)},a}function Dg(n){return n=Ii(n),n.tag=3,n}function Ng(n,l,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){Eg(l,a,c)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Eg(l,a,c),typeof d!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function tS(n,l,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(l=a.alternate,l!==null&&Bs(l,a,d,!0),a=hn.current,a!==null){switch(a.tag){case 31:case 13:return Tn===null?Go():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===vo?a.flags|=16384:(l=a.updateQueue,l===null?a.updateQueue=new Set([c]):l.add(c),sh(n,c,d)),!1;case 22:return a.flags|=65536,c===vo?a.flags|=16384:(l=a.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=l):(a=l.retryQueue,a===null?l.retryQueue=new Set([c]):a.add(c)),sh(n,c,d)),!1}throw Error(i(435,a.tag))}return sh(n,c,d),Go(),!1}if(Bt)return l=hn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=d,c!==Pc&&(n=Error(i(422),{cause:c}),zr(wn(n,a)))):(c!==Pc&&(l=Error(i(423),{cause:c}),zr(wn(l,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=wn(c,a),d=Rf(n.stateNode,c,d),cf(n,d),se!==4&&(se=2)),!1;var p=Error(i(520),{cause:c});if(p=wn(p,a),ta===null?ta=[p]:ta.push(p),se!==4&&(se=2),l===null)return!0;c=wn(c,a),a=l;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Rf(a.stateNode,c,n),cf(a,n),!1;case 1:if(l=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ll===null||!ll.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Dg(d),Ng(d,n,a,c),cf(a,d),!1}a=a.return}while(a!==null);return!1}var zf=Error(i(461)),he=!1;function Te(n,l,a,c){l.child=n===null?zp(l,null,a,c):Zl(l,n.child,a,c)}function Bg(n,l,a,c,d){a=a.render;var p=l.ref;if("ref"in c){var v={};for(var x in c)x!=="ref"&&(v[x]=c[x])}else v=c;return Gl(l),c=gf(n,l,a,v,p,d),x=yf(),n!==null&&!he?(vf(n,l,d),Mi(n,l,d)):(Bt&&x&&Fc(l),l.flags|=1,Te(n,l,c,d),l.child)}function _g(n,l,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Zc(p)&&p.defaultProps===void 0&&a.compare===null?(l.tag=15,l.type=p,Rg(n,l,p,c,d)):(n=fo(a.type,null,c,l,l.mode,d),n.ref=l.ref,n.return=l,l.child=n)}if(p=n.child,!Gf(n,d)){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:Br,a(v,c)&&n.ref===l.ref)return Mi(n,l,d)}return l.flags|=1,n=xi(p,c),n.ref=l.ref,n.return=l,l.child=n}function Rg(n,l,a,c,d){if(n!==null){var p=n.memoizedProps;if(Br(p,c)&&n.ref===l.ref)if(he=!1,l.pendingProps=c=p,Gf(n,d))(n.flags&131072)!==0&&(he=!0);else return l.lanes=n.lanes,Mi(n,l,d)}return Lf(n,l,a,c,d)}function zg(n,l,a,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((l.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(c=l.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,l.child=null;return Lg(n,l,p,a,c)}if((a&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&go(l,p!==null?p.cachePool:null),p!==null?Hp(l,p):hf(),Up(l);else return c=l.lanes=536870912,Lg(n,l,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(go(l,p.cachePool),Hp(l,p),tl(),l.memoizedState=null):(n!==null&&go(l,null),hf(),tl());return Te(n,l,d,a),l.child}function Zr(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Lg(n,l,a,c,d){var p=rf();return p=p===null?null:{parent:ce._currentValue,pool:p},l.memoizedState={baseLanes:a,cachePool:p},n!==null&&go(l,null),hf(),Up(l),n!==null&&Bs(n,l,c,!0),l.childLanes=d,null}function Bo(n,l){return l=Ro({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function jg(n,l,a){return Zl(l,n.child,null,a),n=Bo(l,l.pendingProps),n.flags|=2,dn(l),l.memoizedState=null,n}function eS(n,l,a){var c=l.pendingProps,d=(l.flags&128)!==0;if(l.flags&=-129,n===null){if(Bt){if(c.mode==="hidden")return n=Bo(l,c),l.lanes=536870912,Zr(null,n);if(mf(l),(n=Pt)?(n=W0(n,Mn),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ki!==null?{id:ti,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},a=xp(n),a.return=l,l.child=a,Ce=l,Pt=null)):n=null,n===null)throw Ji(l);return l.lanes=536870912,null}return Bo(l,c)}var p=n.memoizedState;if(p!==null){var v=p.dehydrated;if(mf(l),d)if(l.flags&256)l.flags&=-257,l=jg(n,l,a);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(i(558));else if(he||Bs(n,l,a,!1),d=(a&n.childLanes)!==0,he||d){if(c=Zt,c!==null&&(v=Je(c,a),v!==0&&v!==p.retryLane))throw p.retryLane=v,Ul(n,v),en(c,n,v),zf;Go(),l=jg(n,l,a)}else n=p.treeContext,Pt=On(v.nextSibling),Ce=l,Bt=!0,Zi=null,Mn=!1,n!==null&&wp(l,n),l=Bo(l,c),l.flags|=4096;return l}return n=xi(n.child,{mode:c.mode,children:c.children}),n.ref=l.ref,l.child=n,n.return=l,n}function _o(n,l){var a=l.ref;if(a===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(l.flags|=4194816)}}function Lf(n,l,a,c,d){return Gl(l),a=gf(n,l,a,c,void 0,d),c=yf(),n!==null&&!he?(vf(n,l,d),Mi(n,l,d)):(Bt&&c&&Fc(l),l.flags|=1,Te(n,l,a,d),l.child)}function Hg(n,l,a,c,d,p){return Gl(l),l.updateQueue=null,a=Vp(l,c,a,d),qp(n),c=yf(),n!==null&&!he?(vf(n,l,p),Mi(n,l,p)):(Bt&&c&&Fc(l),l.flags|=1,Te(n,l,a,p),l.child)}function Ug(n,l,a,c,d){if(Gl(l),l.stateNode===null){var p=Os,v=a.contextType;typeof v=="object"&&v!==null&&(p=Me(v)),p=new a(c,p),l.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_f,l.stateNode=p,p._reactInternals=l,p=l.stateNode,p.props=c,p.state=l.memoizedState,p.refs={},of(l),v=a.contextType,p.context=typeof v=="object"&&v!==null?Me(v):Os,p.state=l.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bf(l,a,v,c),p.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&_f.enqueueReplaceState(p,p.state,null),Yr(l,c,p,d),Vr(),p.state=l.memoizedState),typeof p.componentDidMount=="function"&&(l.flags|=4194308),c=!0}else if(n===null){p=l.stateNode;var x=l.memoizedProps,A=Wl(a,x);p.props=A;var _=p.context,H=a.contextType;v=Os,typeof H=="object"&&H!==null&&(v=Me(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=l.pendingProps!==x,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||_!==v)&&Cg(l,p,c,v),Fi=!1;var R=l.memoizedState;p.state=R,Yr(l,c,p,d),Vr(),_=l.memoizedState,x||R!==_||Fi?(typeof Y=="function"&&(Bf(l,a,Y,c),_=l.memoizedState),(A=Fi||Ag(l,a,A,c,R,_,v))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(l.flags|=4194308)):(typeof p.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=_),p.props=c,p.state=_,p.context=v,c=A):(typeof p.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{p=l.stateNode,uf(n,l),v=l.memoizedProps,H=Wl(a,v),p.props=H,Y=l.pendingProps,R=p.context,_=a.contextType,A=Os,typeof _=="object"&&_!==null&&(A=Me(_)),x=a.getDerivedStateFromProps,(_=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==Y||R!==A)&&Cg(l,p,c,A),Fi=!1,R=l.memoizedState,p.state=R,Yr(l,c,p,d),Vr();var z=l.memoizedState;v!==Y||R!==z||Fi||n!==null&&n.dependencies!==null&&mo(n.dependencies)?(typeof x=="function"&&(Bf(l,a,x,c),z=l.memoizedState),(H=Fi||Ag(l,a,H,c,R,z,A)||n!==null&&n.dependencies!==null&&mo(n.dependencies))?(_||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,z,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,z,A)),typeof p.componentDidUpdate=="function"&&(l.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&R===n.memoizedState||(l.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&R===n.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=z),p.props=c,p.state=z,p.context=A,c=H):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&R===n.memoizedState||(l.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&R===n.memoizedState||(l.flags|=1024),c=!1)}return p=c,_o(n,l),c=(l.flags&128)!==0,p||c?(p=l.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),l.flags|=1,n!==null&&c?(l.child=Zl(l,n.child,null,d),l.child=Zl(l,null,a,d)):Te(n,l,a,d),l.memoizedState=p.state,n=l.child):n=Mi(n,l,d),n}function qg(n,l,a,c){return Vl(),l.flags|=256,Te(n,l,a,c),l.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(n){return{baseLanes:n,cachePool:Ep()}}function Uf(n,l,a){return n=n!==null?n.childLanes&~a:0,l&&(n|=pn),n}function Vg(n,l,a){var c=l.pendingProps,d=!1,p=(l.flags&128)!==0,v;if((v=p)||(v=n!==null&&n.memoizedState===null?!1:(re.current&2)!==0),v&&(d=!0,l.flags&=-129),v=(l.flags&32)!==0,l.flags&=-33,n===null){if(Bt){if(d?$i(l):tl(),(n=Pt)?(n=W0(n,Mn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ki!==null?{id:ti,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},a=xp(n),a.return=l,l.child=a,Ce=l,Pt=null)):n=null,n===null)throw Ji(l);return Sh(n)?l.lanes=32:l.lanes=536870912,null}var x=c.children;return c=c.fallback,d?(tl(),d=l.mode,x=Ro({mode:"hidden",children:x},d),c=ql(c,d,a,null),x.return=l,c.return=l,x.sibling=c,l.child=x,c=l.child,c.memoizedState=Hf(a),c.childLanes=Uf(n,v,a),l.memoizedState=jf,Zr(null,c)):($i(l),qf(l,x))}var A=n.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(p)l.flags&256?($i(l),l.flags&=-257,l=Vf(n,l,a)):l.memoizedState!==null?(tl(),l.child=n.child,l.flags|=128,l=null):(tl(),x=c.fallback,d=l.mode,c=Ro({mode:"visible",children:c.children},d),x=ql(x,d,a,null),x.flags|=2,c.return=l,x.return=l,c.sibling=x,l.child=c,Zl(l,n.child,null,a),c=l.child,c.memoizedState=Hf(a),c.childLanes=Uf(n,v,a),l.memoizedState=jf,l=Zr(null,c));else if($i(l),Sh(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var _=v.dgst;v=_,c=Error(i(419)),c.stack="",c.digest=v,zr({value:c,source:null,stack:null}),l=Vf(n,l,a)}else if(he||Bs(n,l,a,!1),v=(a&n.childLanes)!==0,he||v){if(v=Zt,v!==null&&(c=Je(v,a),c!==0&&c!==A.retryLane))throw A.retryLane=c,Ul(n,c),en(v,n,c),zf;xh(x)||Go(),l=Vf(n,l,a)}else xh(x)?(l.flags|=192,l.child=n.child,l=null):(n=A.treeContext,Pt=On(x.nextSibling),Ce=l,Bt=!0,Zi=null,Mn=!1,n!==null&&wp(l,n),l=qf(l,c.children),l.flags|=4096);return l}return d?(tl(),x=c.fallback,d=l.mode,A=n.child,_=A.sibling,c=xi(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,_!==null?x=xi(_,x):(x=ql(x,d,a,null),x.flags|=2),x.return=l,c.return=l,c.sibling=x,l.child=c,Zr(null,c),c=l.child,x=n.child.memoizedState,x===null?x=Hf(a):(d=x.cachePool,d!==null?(A=ce._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Ep(),x={baseLanes:x.baseLanes|a,cachePool:d}),c.memoizedState=x,c.childLanes=Uf(n,v,a),l.memoizedState=jf,Zr(n.child,c)):($i(l),a=n.child,n=a.sibling,a=xi(a,{mode:"visible",children:c.children}),a.return=l,a.sibling=null,n!==null&&(v=l.deletions,v===null?(l.deletions=[n],l.flags|=16):v.push(n)),l.child=a,l.memoizedState=null,a)}function qf(n,l){return l=Ro({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function Ro(n,l){return n=fn(22,n,null,l),n.lanes=0,n}function Vf(n,l,a){return Zl(l,n.child,null,a),n=qf(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function Yg(n,l,a){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l),ef(n.return,l,a)}function Yf(n,l,a,c,d,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:p}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=a,v.tailMode=d,v.treeForkCount=p)}function Gg(n,l,a){var c=l.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var v=re.current,x=(v&2)!==0;if(x?(v=v&1|2,l.flags|=128):v&=1,V(re,v),Te(n,l,c,a),c=Bt?Rr:0,!x&&n!==null&&(n.flags&128)!==0)t:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yg(n,a,l);else if(n.tag===19)Yg(n,a,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break t;for(;n.sibling===null;){if(n.return===null||n.return===l)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=l.child,d=null;a!==null;)n=a.alternate,n!==null&&ko(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=l.child,l.child=null):(d=a.sibling,a.sibling=null),Yf(l,!1,d,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=l.child,l.child=null;d!==null;){if(n=d.alternate,n!==null&&ko(n)===null){l.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Yf(l,!0,a,null,p,c);break;case"together":Yf(l,!1,null,null,void 0,c);break;default:l.memoizedState=null}return l.child}function Mi(n,l,a){if(n!==null&&(l.dependencies=n.dependencies),il|=l.lanes,(a&l.childLanes)===0)if(n!==null){if(Bs(n,l,a,!1),(a&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(i(153));if(l.child!==null){for(n=l.child,a=xi(n,n.pendingProps),l.child=a,a.return=l;n.sibling!==null;)n=n.sibling,a=a.sibling=xi(n,n.pendingProps),a.return=l;a.sibling=null}return l.child}function Gf(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&mo(n)))}function nS(n,l,a){switch(l.tag){case 3:wt(l,l.stateNode.containerInfo),Wi(l,ce,n.memoizedState.cache),Vl();break;case 27:case 5:Fn(l);break;case 4:wt(l,l.stateNode.containerInfo);break;case 10:Wi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,mf(l),null;break;case 13:var c=l.memoizedState;if(c!==null)return c.dehydrated!==null?($i(l),l.flags|=128,null):(a&l.child.childLanes)!==0?Vg(n,l,a):($i(l),n=Mi(n,l,a),n!==null?n.sibling:null);$i(l);break;case 19:var d=(n.flags&128)!==0;if(c=(a&l.childLanes)!==0,c||(Bs(n,l,a,!1),c=(a&l.childLanes)!==0),d){if(c)return Gg(n,l,a);l.flags|=128}if(d=l.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),V(re,re.current),c)break;return null;case 22:return l.lanes=0,zg(n,l,a,l.pendingProps);case 24:Wi(l,ce,n.memoizedState.cache)}return Mi(n,l,a)}function Xg(n,l,a){if(n!==null)if(n.memoizedProps!==l.pendingProps)he=!0;else{if(!Gf(n,a)&&(l.flags&128)===0)return he=!1,nS(n,l,a);he=(n.flags&131072)!==0}else he=!1,Bt&&(l.flags&1048576)!==0&&kp(l,Rr,l.index);switch(l.lanes=0,l.tag){case 16:t:{var c=l.pendingProps;if(n=Ql(l.elementType),l.type=n,typeof n=="function")Zc(n)?(c=Wl(n,c),l.tag=1,l=Ug(null,l,n,c,a)):(l.tag=0,l=Lf(null,l,n,c,a));else{if(n!=null){var d=n.$$typeof;if(d===st){l.tag=11,l=Bg(null,l,n,c,a);break t}else if(d===U){l.tag=14,l=_g(null,l,n,c,a);break t}}throw l=gt(n)||n,Error(i(306,l,""))}}return l;case 0:return Lf(n,l,l.type,l.pendingProps,a);case 1:return c=l.type,d=Wl(c,l.pendingProps),Ug(n,l,c,d,a);case 3:t:{if(wt(l,l.stateNode.containerInfo),n===null)throw Error(i(387));c=l.pendingProps;var p=l.memoizedState;d=p.element,uf(n,l),Yr(l,c,null,a);var v=l.memoizedState;if(c=v.cache,Wi(l,ce,c),c!==p.cache&&nf(l,[ce],a,!0),Vr(),c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache},l.updateQueue.baseState=p,l.memoizedState=p,l.flags&256){l=qg(n,l,c,a);break t}else if(c!==d){d=wn(Error(i(424)),l),zr(d),l=qg(n,l,c,a);break t}else for(n=l.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Pt=On(n.firstChild),Ce=l,Bt=!0,Zi=null,Mn=!0,a=zp(l,null,c,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vl(),c===d){l=Mi(n,l,a);break t}Te(n,l,c,a)}l=l.child}return l;case 26:return _o(n,l),n===null?(a=e1(l.type,null,l.pendingProps,null))?l.memoizedState=a:Bt||(a=l.type,n=l.pendingProps,c=Fo(at.current).createElement(a),c[Ae]=l,c[We]=n,Oe(c,a,n),Se(c),l.stateNode=c):l.memoizedState=e1(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return Fn(l),n===null&&Bt&&(c=l.stateNode=P0(l.type,l.pendingProps,at.current),Ce=l,Mn=!0,d=Pt,ol(l.type)?(kh=d,Pt=On(c.firstChild)):Pt=d),Te(n,l,l.pendingProps.children,a),_o(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&Bt&&((d=c=Pt)&&(c=BS(c,l.type,l.pendingProps,Mn),c!==null?(l.stateNode=c,Ce=l,Pt=On(c.firstChild),Mn=!1,d=!0):d=!1),d||Ji(l)),Fn(l),d=l.type,p=l.pendingProps,v=n!==null?n.memoizedProps:null,c=p.children,yh(d,p)?c=null:v!==null&&yh(d,v)&&(l.flags|=32),l.memoizedState!==null&&(d=gf(n,l,Zx,null,null,a),oa._currentValue=d),_o(n,l),Te(n,l,c,a),l.child;case 6:return n===null&&Bt&&((n=a=Pt)&&(a=_S(a,l.pendingProps,Mn),a!==null?(l.stateNode=a,Ce=l,Pt=null,n=!0):n=!1),n||Ji(l)),null;case 13:return Vg(n,l,a);case 4:return wt(l,l.stateNode.containerInfo),c=l.pendingProps,n===null?l.child=Zl(l,null,c,a):Te(n,l,c,a),l.child;case 11:return Bg(n,l,l.type,l.pendingProps,a);case 7:return Te(n,l,l.pendingProps,a),l.child;case 8:return Te(n,l,l.pendingProps.children,a),l.child;case 12:return Te(n,l,l.pendingProps.children,a),l.child;case 10:return c=l.pendingProps,Wi(l,l.type,c.value),Te(n,l,c.children,a),l.child;case 9:return d=l.type._context,c=l.pendingProps.children,Gl(l),d=Me(d),c=c(d),l.flags|=1,Te(n,l,c,a),l.child;case 14:return _g(n,l,l.type,l.pendingProps,a);case 15:return Rg(n,l,l.type,l.pendingProps,a);case 19:return Gg(n,l,a);case 31:return eS(n,l,a);case 22:return zg(n,l,a,l.pendingProps);case 24:return Gl(l),c=Me(ce),n===null?(d=rf(),d===null&&(d=Zt,p=lf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),l.memoizedState={parent:c,cache:d},of(l),Wi(l,ce,d)):((n.lanes&a)!==0&&(uf(n,l),Yr(l,null,null,a),Vr()),d=n.memoizedState,p=l.memoizedState,d.parent!==c?(d={parent:c,cache:c},l.memoizedState=d,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=d),Wi(l,ce,c)):(c=p.cache,Wi(l,ce,c),c!==d.cache&&nf(l,[ce],a,!0))),Te(n,l,l.pendingProps.children,a),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Ti(n){n.flags|=4}function Xf(n,l,a,c,d){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(y0())n.flags|=8192;else throw Kl=vo,af}else n.flags&=-16777217}function Qg(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!r1(l))if(y0())n.flags|=8192;else throw Kl=vo,af}function zo(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?Re():536870912,n.lanes|=l,Xs|=l)}function Jr(n,l){if(!Bt)switch(n.tailMode){case"hidden":l=n.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function $t(n){var l=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(l)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,l}function iS(n,l,a){var c=l.pendingProps;switch(Ic(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(l),null;case 1:return $t(l),null;case 3:return a=l.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),wi(ce),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ns(l)?Ti(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$c())),$t(l),null;case 26:var d=l.type,p=l.memoizedState;return n===null?(Ti(l),p!==null?($t(l),Qg(l,p)):($t(l),Xf(l,d,null,c,a))):p?p!==n.memoizedState?(Ti(l),$t(l),Qg(l,p)):($t(l),l.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ti(l),$t(l),Xf(l,d,n,c,a)),null;case 27:if(pi(l),a=at.current,d=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==c&&Ti(l);else{if(!c){if(l.stateNode===null)throw Error(i(166));return $t(l),null}n=W.current,Ns(l)?Ap(l):(n=P0(d,c,a),l.stateNode=n,Ti(l))}return $t(l),null;case 5:if(pi(l),d=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==c&&Ti(l);else{if(!c){if(l.stateNode===null)throw Error(i(166));return $t(l),null}if(p=W.current,Ns(l))Ap(l);else{var v=Fo(at.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?v.createElement(d,{is:c.is}):v.createElement(d)}}p[Ae]=l,p[We]=c;t:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break t;for(;v.sibling===null;){if(v.return===null||v.return===l)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=p;t:switch(Oe(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ti(l)}}return $t(l),Xf(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,a),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==c&&Ti(l);else{if(typeof c!="string"&&l.stateNode===null)throw Error(i(166));if(n=at.current,Ns(l)){if(n=l.stateNode,a=l.memoizedProps,c=null,d=Ce,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Ae]=l,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||V0(n.nodeValue,a)),n||Ji(l,!0)}else n=Fo(n).createTextNode(c),n[Ae]=l,l.stateNode=n}return $t(l),null;case 31:if(a=l.memoizedState,n===null||n.memoizedState!==null){if(c=Ns(l),a!==null){if(n===null){if(!c)throw Error(i(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Ae]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$t(l),n=!1}else a=$c(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return l.flags&256?(dn(l),l):(dn(l),null);if((l.flags&128)!==0)throw Error(i(558))}return $t(l),null;case 13:if(c=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ns(l),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=l.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ae]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$t(l),d=!1}else d=$c(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return l.flags&256?(dn(l),l):(dn(l),null)}return dn(l),(l.flags&128)!==0?(l.lanes=a,l):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=l.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),a!==n&&a&&(l.child.flags|=8192),zo(l,l.updateQueue),$t(l),null);case 4:return Gt(),n===null&&hh(l.stateNode.containerInfo),$t(l),null;case 10:return wi(l.type),$t(l),null;case 19:if(j(re),c=l.memoizedState,c===null)return $t(l),null;if(d=(l.flags&128)!==0,p=c.rendering,p===null)if(d)Jr(c,!1);else{if(se!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(p=ko(n),p!==null){for(l.flags|=128,Jr(c,!1),n=p.updateQueue,l.updateQueue=n,zo(l,n),l.subtreeFlags=0,n=a,a=l.child;a!==null;)bp(a,n),a=a.sibling;return V(re,re.current&1|2),Bt&&Si(l,c.treeForkCount),l.child}n=n.sibling}c.tail!==null&&Ue()>qo&&(l.flags|=128,d=!0,Jr(c,!1),l.lanes=4194304)}else{if(!d)if(n=ko(p),n!==null){if(l.flags|=128,d=!0,n=n.updateQueue,l.updateQueue=n,zo(l,n),Jr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Bt)return $t(l),null}else 2*Ue()-c.renderingStartTime>qo&&a!==536870912&&(l.flags|=128,d=!0,Jr(c,!1),l.lanes=4194304);c.isBackwards?(p.sibling=l.child,l.child=p):(n=c.last,n!==null?n.sibling=p:l.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ue(),n.sibling=null,a=re.current,V(re,d?a&1|2:a&1),Bt&&Si(l,c.treeForkCount),n):($t(l),null);case 22:case 23:return dn(l),df(),c=l.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(l.flags|=8192):c&&(l.flags|=8192),c?(a&536870912)!==0&&(l.flags&128)===0&&($t(l),l.subtreeFlags&6&&(l.flags|=8192)):$t(l),a=l.updateQueue,a!==null&&zo(l,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==a&&(l.flags|=2048),n!==null&&j(Xl),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),l.memoizedState.cache!==a&&(l.flags|=2048),wi(ce),$t(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function lS(n,l){switch(Ic(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return wi(ce),Gt(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return pi(l),null;case 31:if(l.memoizedState!==null){if(dn(l),l.alternate===null)throw Error(i(340));Vl()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(dn(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Vl()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return j(re),null;case 4:return Gt(),null;case 10:return wi(l.type),null;case 22:case 23:return dn(l),df(),n!==null&&j(Xl),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return wi(ce),null;case 25:return null;default:return null}}function Kg(n,l){switch(Ic(l),l.tag){case 3:wi(ce),Gt();break;case 26:case 27:case 5:pi(l);break;case 4:Gt();break;case 31:l.memoizedState!==null&&dn(l);break;case 13:dn(l);break;case 19:j(re);break;case 10:wi(l.type);break;case 22:case 23:dn(l),df(),n!==null&&j(Xl);break;case 24:wi(ce)}}function Wr(n,l){try{var a=l.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var p=a.create,v=a.inst;c=p(),v.destroy=c}a=a.next}while(a!==d)}}catch(x){Yt(l,l.return,x)}}function el(n,l,a){try{var c=l.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var v=c.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,d=l;var A=a,_=x;try{_()}catch(H){Yt(d,A,H)}}}c=c.next}while(c!==p)}}catch(H){Yt(l,l.return,H)}}function Zg(n){var l=n.updateQueue;if(l!==null){var a=n.stateNode;try{jp(l,a)}catch(c){Yt(n,n.return,c)}}}function Jg(n,l,a){a.props=Wl(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Yt(n,l,c)}}function Fr(n,l){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){Yt(n,l,d)}}function ni(n,l){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Yt(n,l,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Yt(n,l,d)}else a.current=null}function Wg(n){var l=n.type,a=n.memoizedProps,c=n.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Yt(n,n.return,d)}}function Qf(n,l,a){try{var c=n.stateNode;MS(c,n.type,a,l),c[We]=l}catch(d){Yt(n,n.return,d)}}function Fg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ol(n.type)||n.tag===4}function Kf(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Fg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ol(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zf(n,l,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,l?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,l):(l=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.appendChild(n),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=vi));else if(c!==4&&(c===27&&ol(n.type)&&(a=n.stateNode,l=null),n=n.child,n!==null))for(Zf(n,l,a),n=n.sibling;n!==null;)Zf(n,l,a),n=n.sibling}function Lo(n,l,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,l?a.insertBefore(n,l):a.appendChild(n);else if(c!==4&&(c===27&&ol(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Lo(n,l,a),n=n.sibling;n!==null;)Lo(n,l,a),n=n.sibling}function Ig(n){var l=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Oe(l,c,a),l[Ae]=n,l[We]=a}catch(p){Yt(n,n.return,p)}}var Oi=!1,de=!1,Jf=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,ke=null;function sS(n,l){if(n=n.containerInfo,ph=iu,n=cp(n),qc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var v=0,x=-1,A=-1,_=0,H=0,Y=n,R=null;e:for(;;){for(var z;Y!==a||d!==0&&Y.nodeType!==3||(x=v+d),Y!==p||c!==0&&Y.nodeType!==3||(A=v+c),Y.nodeType===3&&(v+=Y.nodeValue.length),(z=Y.firstChild)!==null;)R=Y,Y=z;for(;;){if(Y===n)break e;if(R===a&&++_===d&&(x=v),R===p&&++H===c&&(A=v),(z=Y.nextSibling)!==null)break;Y=R,R=Y.parentNode}Y=z}a=x===-1||A===-1?null:{start:x,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:n,selectionRange:a},iu=!1,ke=l;ke!==null;)if(l=ke,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,ke=n;else for(;ke!==null;){switch(l=ke,p=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=l,d=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var nt=Wl(a.type,d);n=c.getSnapshotBeforeUpdate(nt,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,a=n.nodeType,a===9)bh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=l.sibling,n!==null){n.return=l.return,ke=n;break}ke=l.return}}function $g(n,l,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Di(n,a),c&4&&Wr(5,a);break;case 1:if(Di(n,a),c&4)if(n=a.stateNode,l===null)try{n.componentDidMount()}catch(v){Yt(a,a.return,v)}else{var d=Wl(a.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(d,l,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Yt(a,a.return,v)}}c&64&&Zg(a),c&512&&Fr(a,a.return);break;case 3:if(Di(n,a),c&64&&(n=a.updateQueue,n!==null)){if(l=null,a.child!==null)switch(a.child.tag){case 27:case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}try{jp(n,l)}catch(v){Yt(a,a.return,v)}}break;case 27:l===null&&c&4&&Ig(a);case 26:case 5:Di(n,a),l===null&&c&4&&Wg(a),c&512&&Fr(a,a.return);break;case 12:Di(n,a);break;case 31:Di(n,a),c&4&&n0(n,a);break;case 13:Di(n,a),c&4&&i0(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=mS.bind(null,a),RS(n,a))));break;case 22:if(c=a.memoizedState!==null||Oi,!c){l=l!==null&&l.memoizedState!==null||de,d=Oi;var p=de;Oi=c,(de=l)&&!p?Ni(n,a,(a.subtreeFlags&8772)!==0):Di(n,a),Oi=d,de=p}break;case 30:break;default:Di(n,a)}}function t0(n){var l=n.alternate;l!==null&&(n.alternate=null,t0(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&wc(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Ie=!1;function Ei(n,l,a){for(a=a.child;a!==null;)e0(n,l,a),a=a.sibling}function e0(n,l,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bl,a)}catch{}switch(a.tag){case 26:de||ni(a,l),Ei(n,l,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ni(a,l);var c=ee,d=Ie;ol(a.type)&&(ee=a.stateNode,Ie=!1),Ei(n,l,a),sa(a.stateNode),ee=c,Ie=d;break;case 5:de||ni(a,l);case 6:if(c=ee,d=Ie,ee=null,Ei(n,l,a),ee=c,Ie=d,ee!==null)if(Ie)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(p){Yt(a,l,p)}else try{ee.removeChild(a.stateNode)}catch(p){Yt(a,l,p)}break;case 18:ee!==null&&(Ie?(n=ee,Z0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ps(n)):Z0(ee,a.stateNode));break;case 4:c=ee,d=Ie,ee=a.stateNode.containerInfo,Ie=!0,Ei(n,l,a),ee=c,Ie=d;break;case 0:case 11:case 14:case 15:el(2,a,l),de||el(4,a,l),Ei(n,l,a);break;case 1:de||(ni(a,l),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Jg(a,l,c)),Ei(n,l,a);break;case 21:Ei(n,l,a);break;case 22:de=(c=de)||a.memoizedState!==null,Ei(n,l,a),de=c;break;default:Ei(n,l,a)}}function n0(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ps(n)}catch(a){Yt(l,l.return,a)}}}function i0(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ps(n)}catch(a){Yt(l,l.return,a)}}function rS(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Pg),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Pg),l;default:throw Error(i(435,n.tag))}}function jo(n,l){var a=rS(n);l.forEach(function(c){if(!a.has(c)){a.add(c);var d=pS.bind(null,n,c);c.then(d,d)}})}function Pe(n,l){var a=l.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],p=n,v=l,x=v;t:for(;x!==null;){switch(x.tag){case 27:if(ol(x.type)){ee=x.stateNode,Ie=!1;break t}break;case 5:ee=x.stateNode,Ie=!1;break t;case 3:case 4:ee=x.stateNode.containerInfo,Ie=!0;break t}x=x.return}if(ee===null)throw Error(i(160));e0(p,v,d),ee=null,Ie=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)l0(l,n),l=l.sibling}var Yn=null;function l0(n,l){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pe(l,n),$e(n),c&4&&(el(3,n,n.return),Wr(3,n),el(5,n,n.return));break;case 1:Pe(l,n),$e(n),c&512&&(de||a===null||ni(a,a.return)),c&64&&Oi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=Yn;if(Pe(l,n),$e(n),c&512&&(de||a===null||ni(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){t:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[wr]||p[Ae]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),Oe(p,c,a),p[Ae]=n,Se(p),c=p;break t;case"link":var v=l1("link","href",d).get(c+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(p=v[x],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break e}}p=d.createElement(c),Oe(p,c,a),d.head.appendChild(p);break;case"meta":if(v=l1("meta","content",d).get(c+(a.content||""))){for(x=0;x<v.length;x++)if(p=v[x],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break e}}p=d.createElement(c),Oe(p,c,a),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[Ae]=n,Se(p),c=p}n.stateNode=c}else s1(d,n.type,n.stateNode);else n.stateNode=i1(d,c,n.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?s1(d,n.type,n.stateNode):i1(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Qf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Pe(l,n),$e(n),c&512&&(de||a===null||ni(a,a.return)),a!==null&&c&4&&Qf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Pe(l,n),$e(n),c&512&&(de||a===null||ni(a,a.return)),n.flags&32){d=n.stateNode;try{Ss(d,"")}catch(nt){Yt(n,n.return,nt)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Qf(n,d,a!==null?a.memoizedProps:d)),c&1024&&(Jf=!0);break;case 6:if(Pe(l,n),$e(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(nt){Yt(n,n.return,nt)}}break;case 3:if($o=null,d=Yn,Yn=Io(l.containerInfo),Pe(l,n),Yn=d,$e(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ps(l.containerInfo)}catch(nt){Yt(n,n.return,nt)}Jf&&(Jf=!1,s0(n));break;case 4:c=Yn,Yn=Io(n.stateNode.containerInfo),Pe(l,n),$e(n),Yn=c;break;case 12:Pe(l,n),$e(n);break;case 31:Pe(l,n),$e(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,jo(n,c)));break;case 13:Pe(l,n),$e(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uo=Ue()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,jo(n,c)));break;case 22:d=n.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,_=Oi,H=de;if(Oi=_||d,de=H||A,Pe(l,n),de=H,Oi=_,$e(n),c&8192)t:for(l=n.stateNode,l._visibility=d?l._visibility&-2:l._visibility|1,d&&(a===null||A||Oi||de||Fl(n)),a=null,l=n;;){if(l.tag===5||l.tag===26){if(a===null){A=a=l;try{if(p=A.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=A.stateNode;var Y=A.memoizedProps.style,R=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(nt){Yt(A,A.return,nt)}}}else if(l.tag===6){if(a===null){A=l;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(nt){Yt(A,A.return,nt)}}}else if(l.tag===18){if(a===null){A=l;try{var z=A.stateNode;d?J0(z,!0):J0(A.stateNode,!1)}catch(nt){Yt(A,A.return,nt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break t;for(;l.sibling===null;){if(l.return===null||l.return===n)break t;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,jo(n,a))));break;case 19:Pe(l,n),$e(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,jo(n,c)));break;case 30:break;case 21:break;default:Pe(l,n),$e(n)}}function $e(n){var l=n.flags;if(l&2){try{for(var a,c=n.return;c!==null;){if(Fg(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,p=Kf(n);Lo(n,p,d);break;case 5:var v=a.stateNode;a.flags&32&&(Ss(v,""),a.flags&=-33);var x=Kf(n);Lo(n,x,v);break;case 3:case 4:var A=a.stateNode.containerInfo,_=Kf(n);Zf(n,_,A);break;default:throw Error(i(161))}}catch(H){Yt(n,n.return,H)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function s0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;s0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function Di(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$g(n,l.alternate,l),l=l.sibling}function Fl(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:el(4,l,l.return),Fl(l);break;case 1:ni(l,l.return);var a=l.stateNode;typeof a.componentWillUnmount=="function"&&Jg(l,l.return,a),Fl(l);break;case 27:sa(l.stateNode);case 26:case 5:ni(l,l.return),Fl(l);break;case 22:l.memoizedState===null&&Fl(l);break;case 30:Fl(l);break;default:Fl(l)}n=n.sibling}}function Ni(n,l,a){for(a=a&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var c=l.alternate,d=n,p=l,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ni(d,p,a),Wr(4,p);break;case 1:if(Ni(d,p,a),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(_){Yt(c,c.return,_)}if(c=p,d=c.updateQueue,d!==null){var x=c.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Lp(A[d],x)}catch(_){Yt(c,c.return,_)}}a&&v&64&&Zg(p),Fr(p,p.return);break;case 27:Ig(p);case 26:case 5:Ni(d,p,a),a&&c===null&&v&4&&Wg(p),Fr(p,p.return);break;case 12:Ni(d,p,a);break;case 31:Ni(d,p,a),a&&v&4&&n0(d,p);break;case 13:Ni(d,p,a),a&&v&4&&i0(d,p);break;case 22:p.memoizedState===null&&Ni(d,p,a),Fr(p,p.return);break;case 30:break;default:Ni(d,p,a)}l=l.sibling}}function Wf(n,l){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Lr(a))}function Ff(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Lr(n))}function Gn(n,l,a,c){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)r0(n,l,a,c),l=l.sibling}function r0(n,l,a,c){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Gn(n,l,a,c),d&2048&&Wr(9,l);break;case 1:Gn(n,l,a,c);break;case 3:Gn(n,l,a,c),d&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Lr(n)));break;case 12:if(d&2048){Gn(n,l,a,c),n=l.stateNode;try{var p=l.memoizedProps,v=p.id,x=p.onPostCommit;typeof x=="function"&&x(v,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Yt(l,l.return,A)}}else Gn(n,l,a,c);break;case 31:Gn(n,l,a,c);break;case 13:Gn(n,l,a,c);break;case 23:break;case 22:p=l.stateNode,v=l.alternate,l.memoizedState!==null?p._visibility&2?Gn(n,l,a,c):Ir(n,l):p._visibility&2?Gn(n,l,a,c):(p._visibility|=2,Vs(n,l,a,c,(l.subtreeFlags&10256)!==0||!1)),d&2048&&Wf(v,l);break;case 24:Gn(n,l,a,c),d&2048&&Ff(l.alternate,l);break;default:Gn(n,l,a,c)}}function Vs(n,l,a,c,d){for(d=d&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var p=n,v=l,x=a,A=c,_=v.flags;switch(v.tag){case 0:case 11:case 15:Vs(p,v,x,A,d),Wr(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?Vs(p,v,x,A,d):Ir(p,v):(H._visibility|=2,Vs(p,v,x,A,d)),d&&_&2048&&Wf(v.alternate,v);break;case 24:Vs(p,v,x,A,d),d&&_&2048&&Ff(v.alternate,v);break;default:Vs(p,v,x,A,d)}l=l.sibling}}function Ir(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var a=n,c=l,d=c.flags;switch(c.tag){case 22:Ir(a,c),d&2048&&Wf(c.alternate,c);break;case 24:Ir(a,c),d&2048&&Ff(c.alternate,c);break;default:Ir(a,c)}l=l.sibling}}var Pr=8192;function Ys(n,l,a){if(n.subtreeFlags&Pr)for(n=n.child;n!==null;)a0(n,l,a),n=n.sibling}function a0(n,l,a){switch(n.tag){case 26:Ys(n,l,a),n.flags&Pr&&n.memoizedState!==null&&KS(a,Yn,n.memoizedState,n.memoizedProps);break;case 5:Ys(n,l,a);break;case 3:case 4:var c=Yn;Yn=Io(n.stateNode.containerInfo),Ys(n,l,a),Yn=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Pr,Pr=16777216,Ys(n,l,a),Pr=c):Ys(n,l,a));break;default:Ys(n,l,a)}}function o0(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function $r(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var c=l[a];ke=c,c0(c,n)}o0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u0(n),n=n.sibling}function u0(n){switch(n.tag){case 0:case 11:case 15:$r(n),n.flags&2048&&el(9,n,n.return);break;case 3:$r(n);break;case 12:$r(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,Ho(n)):$r(n);break;default:$r(n)}}function Ho(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var c=l[a];ke=c,c0(c,n)}o0(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:el(8,l,l.return),Ho(l);break;case 22:a=l.stateNode,a._visibility&2&&(a._visibility&=-3,Ho(l));break;default:Ho(l)}n=n.sibling}}function c0(n,l){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:el(8,a,l);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lr(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,ke=c;else t:for(a=n;ke!==null;){c=ke;var d=c.sibling,p=c.return;if(t0(c),c===a){ke=null;break t}if(d!==null){d.return=p,ke=d;break t}ke=p}}}var aS={getCacheForType:function(n){var l=Me(ce),a=l.data.get(n);return a===void 0&&(a=n(),l.data.set(n,a)),a},cacheSignal:function(){return Me(ce).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Zt=null,Tt=null,Et=0,Vt=0,mn=null,nl=!1,Gs=!1,If=!1,Bi=0,se=0,il=0,Il=0,Pf=0,pn=0,Xs=0,ta=null,tn=null,$f=!1,Uo=0,f0=0,qo=1/0,Vo=null,ll=null,ge=0,sl=null,Qs=null,_i=0,th=0,eh=null,h0=null,ea=0,nh=null;function gn(){return(Ut&2)!==0&&Et!==0?Et&-Et:D.T!==null?oh():Sc()}function d0(){if(pn===0)if((Et&536870912)===0||Bt){var n=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),pn=n}else pn=536870912;return n=hn.current,n!==null&&(n.flags|=32),pn}function en(n,l,a){(n===Zt&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)&&(Ks(n,0),rl(n,Et,pn,!1)),ie(n,a),((Ut&2)===0||n!==Zt)&&(n===Zt&&((Ut&2)===0&&(Il|=a),se===4&&rl(n,Et,pn,!1)),ii(n))}function m0(n,l,a){if((Ut&6)!==0)throw Error(i(327));var c=!a&&(l&127)===0&&(l&n.expiredLanes)===0||te(n,l),d=c?fS(n,l):lh(n,l,!0),p=c;do{if(d===0){Gs&&!c&&rl(n,l,0,!1);break}else{if(a=n.current.alternate,p&&!uS(a)){d=lh(n,l,!1),p=!1;continue}if(d===2){if(p=l,n.errorRecoveryDisabledLanes&p)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){l=v;t:{var x=n;d=ta;var A=x.current.memoizedState.isDehydrated;if(A&&(Ks(x,v).flags|=256),v=lh(x,v,!1),v!==2){if(If&&!A){x.errorRecoveryDisabledLanes|=p,Il|=p,d=4;break t}p=tn,tn=d,p!==null&&(tn===null?tn=p:tn.push.apply(tn,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){Ks(n,0),rl(n,l,0,!0);break}t:{switch(c=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:rl(c,l,pn,!nl);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(d=Uo+300-Ue(),10<d)){if(rl(c,l,pn,!nl),yt(c,0,!0)!==0)break t;_i=l,c.timeoutHandle=Q0(p0.bind(null,c,a,tn,Vo,$f,l,pn,Il,Xs,nl,p,"Throttled",-0,0),d);break t}p0(c,a,tn,Vo,$f,l,pn,Il,Xs,nl,p,null,-0,0)}}break}while(!0);ii(n)}function p0(n,l,a,c,d,p,v,x,A,_,H,Y,R,z){if(n.timeoutHandle=-1,Y=l.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},a0(l,p,Y);var nt=(p&62914560)===p?Uo-Ue():(p&4194048)===p?f0-Ue():0;if(nt=ZS(Y,nt),nt!==null){_i=p,n.cancelPendingCommit=nt(w0.bind(null,n,l,p,a,c,d,v,x,A,H,Y,null,R,z)),rl(n,p,v,!_);return}}w0(n,l,p,a,c,d,v,x,A)}function uS(n){for(var l=n;;){var a=l.tag;if((a===0||a===11||a===15)&&l.flags&16384&&(a=l.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!cn(p(),d))return!1}catch{return!1}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function rl(n,l,a,c){l&=~Pf,l&=~Il,n.suspendedLanes|=l,n.pingedLanes&=~l,c&&(n.warmLanes|=l),c=n.expirationTimes;for(var d=l;0<d;){var p=31-_e(d),v=1<<p;c[p]=-1,d&=~v}a!==0&&Rl(n,a,l)}function Yo(){return(Ut&6)===0?(na(0),!1):!0}function ih(){if(Tt!==null){if(Vt===0)var n=Tt.return;else n=Tt,ki=Yl=null,bf(n),Ls=null,Hr=0,n=Tt;for(;n!==null;)Kg(n.alternate,n),n=n.return;Tt=null}}function Ks(n,l){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,ES(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),_i=0,ih(),Zt=n,Tt=a=xi(n.current,null),Et=l,Vt=0,mn=null,nl=!1,Gs=te(n,l),If=!1,Xs=pn=Pf=Il=il=se=0,tn=ta=null,$f=!1,(l&8)!==0&&(l|=l&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=l;0<c;){var d=31-_e(c),p=1<<d;l|=n[d],c&=~p}return Bi=l,oo(),a}function g0(n,l){xt=null,D.H=Kr,l===zs||l===yo?(l=Bp(),Vt=3):l===af?(l=Bp(),Vt=4):Vt=l===zf?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,mn=l,Tt===null&&(se=1,No(n,wn(l,n.current)))}function y0(){var n=hn.current;return n===null?!0:(Et&4194048)===Et?Tn===null:(Et&62914560)===Et||(Et&536870912)!==0?n===Tn:!1}function v0(){var n=D.H;return D.H=Kr,n===null?Kr:n}function b0(){var n=D.A;return D.A=aS,n}function Go(){se=4,nl||(Et&4194048)!==Et&&hn.current!==null||(Gs=!0),(il&134217727)===0&&(Il&134217727)===0||Zt===null||rl(Zt,Et,pn,!1)}function lh(n,l,a){var c=Ut;Ut|=2;var d=v0(),p=b0();(Zt!==n||Et!==l)&&(Vo=null,Ks(n,l)),l=!1;var v=se;t:do try{if(Vt!==0&&Tt!==null){var x=Tt,A=mn;switch(Vt){case 8:ih(),v=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(l=!0);var _=Vt;if(Vt=0,mn=null,Zs(n,x,A,_),a&&Gs){v=0;break t}break;default:_=Vt,Vt=0,mn=null,Zs(n,x,A,_)}}cS(),v=se;break}catch(H){g0(n,H)}while(!0);return l&&n.shellSuspendCounter++,ki=Yl=null,Ut=c,D.H=d,D.A=p,Tt===null&&(Zt=null,Et=0,oo()),v}function cS(){for(;Tt!==null;)x0(Tt)}function fS(n,l){var a=Ut;Ut|=2;var c=v0(),d=b0();Zt!==n||Et!==l?(Vo=null,qo=Ue()+500,Ks(n,l)):Gs=te(n,l);t:do try{if(Vt!==0&&Tt!==null){l=Tt;var p=mn;e:switch(Vt){case 1:Vt=0,mn=null,Zs(n,l,p,1);break;case 2:case 9:if(Dp(p)){Vt=0,mn=null,S0(l);break}l=function(){Vt!==2&&Vt!==9||Zt!==n||(Vt=7),ii(n)},p.then(l,l);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:Dp(p)?(Vt=0,mn=null,S0(l)):(Vt=0,mn=null,Zs(n,l,p,7));break;case 5:var v=null;switch(Tt.tag){case 26:v=Tt.memoizedState;case 5:case 27:var x=Tt;if(v?r1(v):x.stateNode.complete){Vt=0,mn=null;var A=x.sibling;if(A!==null)Tt=A;else{var _=x.return;_!==null?(Tt=_,Xo(_)):Tt=null}break e}}Vt=0,mn=null,Zs(n,l,p,5);break;case 6:Vt=0,mn=null,Zs(n,l,p,6);break;case 8:ih(),se=6;break t;default:throw Error(i(462))}}hS();break}catch(H){g0(n,H)}while(!0);return ki=Yl=null,D.H=c,D.A=d,Ut=a,Tt!==null?0:(Zt=null,Et=0,oo(),se)}function hS(){for(;Tt!==null&&!He();)x0(Tt)}function x0(n){var l=Xg(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,l===null?Xo(n):Tt=l}function S0(n){var l=n,a=l.alternate;switch(l.tag){case 15:case 0:l=Hg(a,l,l.pendingProps,l.type,void 0,Et);break;case 11:l=Hg(a,l,l.pendingProps,l.type.render,l.ref,Et);break;case 5:bf(l);default:Kg(a,l),l=Tt=bp(l,Bi),l=Xg(a,l,Bi)}n.memoizedProps=n.pendingProps,l===null?Xo(n):Tt=l}function Zs(n,l,a,c){ki=Yl=null,bf(l),Ls=null,Hr=0;var d=l.return;try{if(tS(n,d,l,a,Et)){se=1,No(n,wn(a,n.current)),Tt=null;return}}catch(p){if(d!==null)throw Tt=d,p;se=1,No(n,wn(a,n.current)),Tt=null;return}l.flags&32768?(Bt||c===1?n=!0:Gs||(Et&536870912)!==0?n=!1:(nl=n=!0,(c===2||c===9||c===3||c===6)&&(c=hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),k0(l,n)):Xo(l)}function Xo(n){var l=n;do{if((l.flags&32768)!==0){k0(l,nl);return}n=l.return;var a=iS(l.alternate,l,Bi);if(a!==null){Tt=a;return}if(l=l.sibling,l!==null){Tt=l;return}Tt=l=n}while(l!==null);se===0&&(se=5)}function k0(n,l){do{var a=lS(n.alternate,n);if(a!==null){a.flags&=32767,Tt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!l&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=a}while(n!==null);se=6,Tt=null}function w0(n,l,a,c,d,p,v,x,A){n.cancelPendingCommit=null;do Qo();while(ge!==0);if((Ut&6)!==0)throw Error(i(327));if(l!==null){if(l===n.current)throw Error(i(177));if(p=l.lanes|l.childLanes,p|=Qc,Ke(n,a,p,v,x,A),n===Zt&&(Tt=Zt=null,Et=0),Qs=l,sl=n,_i=a,th=p,eh=d,h0=c,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gS(Nl,function(){return O0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,d=X.p,X.p=2,v=Ut,Ut|=4;try{sS(n,l,a)}finally{Ut=v,X.p=d,D.T=c}}ge=1,A0(),C0(),M0()}}function A0(){if(ge===1){ge=0;var n=sl,l=Qs,a=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var c=X.p;X.p=2;var d=Ut;Ut|=4;try{l0(l,n);var p=gh,v=cp(n.containerInfo),x=p.focusedElem,A=p.selectionRange;if(v!==x&&x&&x.ownerDocument&&up(x.ownerDocument.documentElement,x)){if(A!==null&&qc(x)){var _=A.start,H=A.end;if(H===void 0&&(H=_),"selectionStart"in x)x.selectionStart=_,x.selectionEnd=Math.min(H,x.value.length);else{var Y=x.ownerDocument||document,R=Y&&Y.defaultView||window;if(R.getSelection){var z=R.getSelection(),nt=x.textContent.length,dt=Math.min(A.start,nt),Kt=A.end===void 0?dt:Math.min(A.end,nt);!z.extend&&dt>Kt&&(v=Kt,Kt=dt,dt=v);var O=op(x,dt),T=op(x,Kt);if(O&&T&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var B=Y.createRange();B.setStart(O.node,O.offset),z.removeAllRanges(),dt>Kt?(z.addRange(B),z.extend(T.node,T.offset)):(B.setEnd(T.node,T.offset),z.addRange(B))}}}}for(Y=[],z=x;z=z.parentNode;)z.nodeType===1&&Y.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var q=Y[x];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}iu=!!ph,gh=ph=null}finally{Ut=d,X.p=c,D.T=a}}n.current=l,ge=2}}function C0(){if(ge===2){ge=0;var n=sl,l=Qs,a=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var c=X.p;X.p=2;var d=Ut;Ut|=4;try{$g(n,l.alternate,l)}finally{Ut=d,X.p=c,D.T=a}}ge=3}}function M0(){if(ge===4||ge===3){ge=0,Vi();var n=sl,l=Qs,a=_i,c=h0;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ge=5:(ge=0,Qs=sl=null,T0(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ll=null),qn(a),l=l.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bl,l,void 0,(l.current.flags&128)===128)}catch{}if(c!==null){l=D.T,d=X.p,X.p=2,D.T=null;try{for(var p=n.onRecoverableError,v=0;v<c.length;v++){var x=c[v];p(x.value,{componentStack:x.stack})}}finally{D.T=l,X.p=d}}(_i&3)!==0&&Qo(),ii(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===nh?ea++:(ea=0,nh=n):ea=0,na(0)}}function T0(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,Lr(l)))}function Qo(){return A0(),C0(),M0(),O0()}function O0(){if(ge!==5)return!1;var n=sl,l=th;th=0;var a=qn(_i),c=D.T,d=X.p;try{X.p=32>a?32:a,D.T=null,a=eh,eh=null;var p=sl,v=_i;if(ge=0,Qs=sl=null,_i=0,(Ut&6)!==0)throw Error(i(331));var x=Ut;if(Ut|=4,u0(p.current),r0(p,p.current,v,a),Ut=x,na(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bl,p)}catch{}return!0}finally{X.p=d,D.T=c,T0(n,l)}}function E0(n,l,a){l=wn(a,l),l=Rf(n.stateNode,l,2),n=Pi(n,l,2),n!==null&&(ie(n,2),ii(n))}function Yt(n,l,a){if(n.tag===3)E0(n,n,a);else for(;l!==null;){if(l.tag===3){E0(l,n,a);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ll===null||!ll.has(c))){n=wn(a,n),a=Dg(2),c=Pi(l,a,2),c!==null&&(Ng(a,c,l,n),ie(c,2),ii(c));break}}l=l.return}}function sh(n,l,a){var c=n.pingCache;if(c===null){c=n.pingCache=new oS;var d=new Set;c.set(l,d)}else d=c.get(l),d===void 0&&(d=new Set,c.set(l,d));d.has(a)||(If=!0,d.add(a),n=dS.bind(null,n,l,a),l.then(n,n))}function dS(n,l,a){var c=n.pingCache;c!==null&&c.delete(l),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Zt===n&&(Et&a)===a&&(se===4||se===3&&(Et&62914560)===Et&&300>Ue()-Uo?(Ut&2)===0&&Ks(n,0):Pf|=a,Xs===Et&&(Xs=0)),ii(n)}function D0(n,l){l===0&&(l=Re()),n=Ul(n,l),n!==null&&(ie(n,l),ii(n))}function mS(n){var l=n.memoizedState,a=0;l!==null&&(a=l.retryLane),D0(n,a)}function pS(n,l){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(l),D0(n,a)}function gS(n,l){return br(n,l)}var Ko=null,Js=null,rh=!1,Zo=!1,ah=!1,al=0;function ii(n){n!==Js&&n.next===null&&(Js===null?Ko=Js=n:Js=Js.next=n),Zo=!0,rh||(rh=!0,vS())}function na(n,l){if(!ah&&Zo){ah=!0;do for(var a=!1,c=Ko;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var v=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-_e(42|n)+1)-1,p&=d&~(v&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,R0(c,p))}else p=Et,p=yt(c,c===Zt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||te(c,p)||(a=!0,R0(c,p));c=c.next}while(a);ah=!1}}function yS(){N0()}function N0(){Zo=rh=!1;var n=0;al!==0&&OS()&&(n=al);for(var l=Ue(),a=null,c=Ko;c!==null;){var d=c.next,p=B0(c,l);p===0?(c.next=null,a===null?Ko=d:a.next=d,d===null&&(Js=a)):(a=c,(n!==0||(p&3)!==0)&&(Zo=!0)),c=d}ge!==0&&ge!==5||na(n),al!==0&&(al=0)}function B0(n,l){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var v=31-_e(p),x=1<<v,A=d[v];A===-1?((x&a)===0||(x&c)!==0)&&(d[v]=xe(x,l)):A<=l&&(n.expiredLanes|=x),p&=~x}if(l=Zt,a=Et,a=yt(n,n===l?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===l&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&xr(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||te(n,a)){if(l=a&-a,l===n.callbackPriority)return l;switch(c!==null&&xr(c),qn(a)){case 2:case 8:a=Wa;break;case 32:a=Nl;break;case 268435456:a=gi;break;default:a=Nl}return c=_0.bind(null,n),a=br(a,c),n.callbackPriority=l,n.callbackNode=a,l}return c!==null&&c!==null&&xr(c),n.callbackPriority=2,n.callbackNode=null,2}function _0(n,l){if(ge!==0&&ge!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Qo()&&n.callbackNode!==a)return null;var c=Et;return c=yt(n,n===Zt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(m0(n,c,l),B0(n,Ue()),n.callbackNode!=null&&n.callbackNode===a?_0.bind(null,n):null)}function R0(n,l){if(Qo())return null;m0(n,l,!0)}function vS(){DS(function(){(Ut&6)!==0?br(Dl,yS):N0()})}function oh(){if(al===0){var n=_s;n===0&&(n=hs,hs<<=1,(hs&261888)===0&&(hs=256)),al=n}return al}function z0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:to(""+n)}function L0(n,l){var a=l.ownerDocument.createElement("input");return a.name=l.name,a.value=l.value,n.id&&a.setAttribute("form",n.id),l.parentNode.insertBefore(a,l),n=new FormData(n),a.parentNode.removeChild(a),n}function bS(n,l,a,c,d){if(l==="submit"&&a&&a.stateNode===d){var p=z0((d[We]||null).action),v=c.submitter;v&&(l=(l=v[We]||null)?z0(l.formAction):v.getAttribute("formAction"),l!==null&&(p=l,v=null));var x=new lo("action","action",null,c,d);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(al!==0){var A=v?L0(d,v):new FormData(d);Of(a,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(x.preventDefault(),A=v?L0(d,v):new FormData(d),Of(a,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var uh=0;uh<Xc.length;uh++){var ch=Xc[uh],xS=ch.toLowerCase(),SS=ch[0].toUpperCase()+ch.slice(1);Vn(xS,"on"+SS)}Vn(dp,"onAnimationEnd"),Vn(mp,"onAnimationIteration"),Vn(pp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(jx,"onTransitionRun"),Vn(Hx,"onTransitionStart"),Vn(Ux,"onTransitionCancel"),Vn(gp,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zl("onBeforeInput",["compositionend","keypress","textInput","paste"]),zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ia));function j0(n,l){l=(l&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;t:{var p=void 0;if(l)for(var v=c.length-1;0<=v;v--){var x=c[v],A=x.instance,_=x.currentTarget;if(x=x.listener,A!==p&&d.isPropagationStopped())break t;p=x,d.currentTarget=_;try{p(d)}catch(H){ao(H)}d.currentTarget=null,p=A}else for(v=0;v<c.length;v++){if(x=c[v],A=x.instance,_=x.currentTarget,x=x.listener,A!==p&&d.isPropagationStopped())break t;p=x,d.currentTarget=_;try{p(d)}catch(H){ao(H)}d.currentTarget=null,p=A}}}}function Ot(n,l){var a=l[kc];a===void 0&&(a=l[kc]=new Set);var c=n+"__bubble";a.has(c)||(H0(l,n,2,!1),a.add(c))}function fh(n,l,a){var c=0;l&&(c|=4),H0(a,n,c,l)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function hh(n){if(!n[Jo]){n[Jo]=!0,Nm.forEach(function(a){a!=="selectionchange"&&(kS.has(a)||fh(a,!1,n),fh(a,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Jo]||(l[Jo]=!0,fh("selectionchange",!1,l))}}function H0(n,l,a,c){switch(d1(l)){case 2:var d=FS;break;case 8:d=IS;break;default:d=Th}a=d.bind(null,l,a,n),d=void 0,!Nc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(l,a,{capture:!0,passive:d}):n.addEventListener(l,a,!0):d!==void 0?n.addEventListener(l,a,{passive:d}):n.addEventListener(l,a,!1)}function dh(n,l,a,c,d){var p=c;if((l&1)===0&&(l&2)===0&&c!==null)t:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var x=c.stateNode.containerInfo;if(x===d)break;if(v===4)for(v=c.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;x!==null;){if(v=gs(x),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){c=p=v;continue t}x=x.parentNode}}c=c.return}Gm(function(){var _=p,H=Ec(a),Y=[];t:{var R=yp.get(n);if(R!==void 0){var z=lo,nt=n;switch(n){case"keypress":if(no(a)===0)break t;case"keydown":case"keyup":z=px;break;case"focusin":nt="focus",z=zc;break;case"focusout":nt="blur",z=zc;break;case"beforeblur":case"afterblur":z=zc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=vx;break;case dp:case mp:case pp:z=rx;break;case gp:z=xx;break;case"scroll":case"scrollend":z=ex;break;case"wheel":z=kx;break;case"copy":case"cut":case"paste":z=ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Jm;break;case"toggle":case"beforetoggle":z=Ax}var dt=(l&4)!==0,Kt=!dt&&(n==="scroll"||n==="scrollend"),O=dt?R!==null?R+"Capture":null:R;dt=[];for(var T=_,B;T!==null;){var q=T;if(B=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||B===null||O===null||(q=Cr(T,O),q!=null&&dt.push(la(T,q,B))),Kt)break;T=T.return}0<dt.length&&(R=new z(R,nt,null,a,H),Y.push({event:R,listeners:dt}))}}if((l&7)===0){t:{if(R=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",R&&a!==Oc&&(nt=a.relatedTarget||a.fromElement)&&(gs(nt)||nt[ps]))break t;if((z||R)&&(R=H.window===H?H:(R=H.ownerDocument)?R.defaultView||R.parentWindow:window,z?(nt=a.relatedTarget||a.toElement,z=_,nt=nt?gs(nt):null,nt!==null&&(Kt=o(nt),dt=nt.tag,nt!==Kt||dt!==5&&dt!==27&&dt!==6)&&(nt=null)):(z=null,nt=_),z!==nt)){if(dt=Km,q="onMouseLeave",O="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(dt=Jm,q="onPointerLeave",O="onPointerEnter",T="pointer"),Kt=z==null?R:Ar(z),B=nt==null?R:Ar(nt),R=new dt(q,T+"leave",z,a,H),R.target=Kt,R.relatedTarget=B,q=null,gs(H)===_&&(dt=new dt(O,T+"enter",nt,a,H),dt.target=B,dt.relatedTarget=Kt,q=dt),Kt=q,z&&nt)e:{for(dt=wS,O=z,T=nt,B=0,q=O;q;q=dt(q))B++;q=0;for(var ot=T;ot;ot=dt(ot))q++;for(;0<B-q;)O=dt(O),B--;for(;0<q-B;)T=dt(T),q--;for(;B--;){if(O===T||T!==null&&O===T.alternate){dt=O;break e}O=dt(O),T=dt(T)}dt=null}else dt=null;z!==null&&U0(Y,R,z,dt,!1),nt!==null&&Kt!==null&&U0(Y,Kt,nt,dt,!0)}}t:{if(R=_?Ar(_):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var Rt=np;else if(tp(R))if(ip)Rt=Rx;else{Rt=Bx;var it=Nx}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?_&&Tc(_.elementType)&&(Rt=np):Rt=_x;if(Rt&&(Rt=Rt(n,_))){ep(Y,Rt,a,H);break t}it&&it(n,R,_),n==="focusout"&&_&&R.type==="number"&&_.memoizedProps.value!=null&&Mc(R,"number",R.value)}switch(it=_?Ar(_):window,n){case"focusin":(tp(it)||it.contentEditable==="true")&&(Cs=it,Vc=_,_r=null);break;case"focusout":_r=Vc=Cs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,fp(Y,a,H);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":fp(Y,a,H)}var St;if(jc)t:{switch(n){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else As?Pm(n,a)&&(Dt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(Wm&&a.locale!=="ko"&&(As||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&As&&(St=Xm()):(Qi=H,Bc="value"in Qi?Qi.value:Qi.textContent,As=!0)),it=Wo(_,Dt),0<it.length&&(Dt=new Zm(Dt,n,null,a,H),Y.push({event:Dt,listeners:it}),St?Dt.data=St:(St=$m(a),St!==null&&(Dt.data=St)))),(St=Mx?Tx(n,a):Ox(n,a))&&(Dt=Wo(_,"onBeforeInput"),0<Dt.length&&(it=new Zm("onBeforeInput","beforeinput",null,a,H),Y.push({event:it,listeners:Dt}),it.data=St)),bS(Y,n,_,a,H)}j0(Y,l)})}function la(n,l,a){return{instance:n,listener:l,currentTarget:a}}function Wo(n,l){for(var a=l+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Cr(n,a),d!=null&&c.unshift(la(n,d,p)),d=Cr(n,l),d!=null&&c.push(la(n,d,p))),n.tag===3)return c;n=n.return}return[]}function wS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function U0(n,l,a,c,d){for(var p=l._reactName,v=[];a!==null&&a!==c;){var x=a,A=x.alternate,_=x.stateNode;if(x=x.tag,A!==null&&A===c)break;x!==5&&x!==26&&x!==27||_===null||(A=_,d?(_=Cr(a,p),_!=null&&v.unshift(la(a,_,A))):d||(_=Cr(a,p),_!=null&&v.push(la(a,_,A)))),a=a.return}v.length!==0&&n.push({event:l,listeners:v})}var AS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function q0(n){return(typeof n=="string"?n:""+n).replace(AS,`
`).replace(CS,"")}function V0(n,l){return l=q0(l),q0(n)===l}function Qt(n,l,a,c,d,p){switch(a){case"children":typeof c=="string"?l==="body"||l==="textarea"&&c===""||Ss(n,c):(typeof c=="number"||typeof c=="bigint")&&l!=="body"&&Ss(n,""+c);break;case"className":Pa(n,"class",c);break;case"tabIndex":Pa(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(n,a,c);break;case"style":Vm(n,c,p);break;case"data":if(l!=="object"){Pa(n,"data",c);break}case"src":case"href":if(c===""&&(l!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=to(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(l!=="input"&&Qt(n,l,"name",d.name,d,null),Qt(n,l,"formEncType",d.formEncType,d,null),Qt(n,l,"formMethod",d.formMethod,d,null),Qt(n,l,"formTarget",d.formTarget,d,null)):(Qt(n,l,"encType",d.encType,d,null),Qt(n,l,"method",d.method,d,null),Qt(n,l,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=to(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=vi);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=to(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),Ia(n,"popover",c);break;case"xlinkActuate":yi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":yi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":yi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":yi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":yi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":yi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":yi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":yi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":yi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ia(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$2.get(a)||a,Ia(n,a,c))}}function mh(n,l,a,c,d,p){switch(a){case"style":Vm(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Ss(n,c):(typeof c=="number"||typeof c=="bigint")&&Ss(n,""+c);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bm.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),l=a.slice(2,d?a.length-7:void 0),p=n[We]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(l,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(l,c,d);break t}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Ia(n,a,c)}}}function Oe(n,l,a){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var c=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var v=a[p];if(v!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Qt(n,l,p,v,a,null)}}d&&Qt(n,l,"srcSet",a.srcSet,a,null),c&&Qt(n,l,"src",a.src,a,null);return;case"input":Ot("invalid",n);var x=p=v=d=null,A=null,_=null;for(c in a)if(a.hasOwnProperty(c)){var H=a[c];if(H!=null)switch(c){case"name":d=H;break;case"type":v=H;break;case"checked":A=H;break;case"defaultChecked":_=H;break;case"value":p=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,l));break;default:Qt(n,l,c,H,a,null)}}jm(n,p,x,A,_,v,d,!1);return;case"select":Ot("invalid",n),c=v=p=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":v=x;break;case"multiple":c=x;default:Qt(n,l,d,x,a,null)}l=p,a=v,n.multiple=!!c,l!=null?xs(n,!!c,l,!1):a!=null&&xs(n,!!c,a,!0);return;case"textarea":Ot("invalid",n),p=d=c=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":c=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Qt(n,l,v,x,a,null)}Um(n,c,d,p);return;case"option":for(A in a)a.hasOwnProperty(A)&&(c=a[A],c!=null)&&(A==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Qt(n,l,A,c,a,null));return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(c=0;c<ia.length;c++)Ot(ia[c],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in a)if(a.hasOwnProperty(_)&&(c=a[_],c!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Qt(n,l,_,c,a,null)}return;default:if(Tc(l)){for(H in a)a.hasOwnProperty(H)&&(c=a[H],c!==void 0&&mh(n,l,H,c,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(c=a[x],c!=null&&Qt(n,l,x,c,a,null))}function MS(n,l,a,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,x=null,A=null,_=null,H=null;for(z in a){var Y=a[z];if(a.hasOwnProperty(z)&&Y!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":A=Y;default:c.hasOwnProperty(z)||Qt(n,l,z,null,c,Y)}}for(var R in c){var z=c[R];if(Y=a[R],c.hasOwnProperty(R)&&(z!=null||Y!=null))switch(R){case"type":p=z;break;case"name":d=z;break;case"checked":_=z;break;case"defaultChecked":H=z;break;case"value":v=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,l));break;default:z!==Y&&Qt(n,l,R,z,c,Y)}}Cc(n,v,x,A,_,H,p,d);return;case"select":z=v=x=R=null;for(p in a)if(A=a[p],a.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":z=A;default:c.hasOwnProperty(p)||Qt(n,l,p,null,c,A)}for(d in c)if(p=c[d],A=a[d],c.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":R=p;break;case"defaultValue":x=p;break;case"multiple":v=p;default:p!==A&&Qt(n,l,d,p,c,A)}l=x,a=v,c=z,R!=null?xs(n,!!a,R,!1):!!c!=!!a&&(l!=null?xs(n,!!a,l,!0):xs(n,!!a,a?[]:"",!1));return;case"textarea":z=R=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Qt(n,l,x,null,c,d)}for(v in c)if(d=c[v],p=a[v],c.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":R=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Qt(n,l,v,d,c,p)}Hm(n,R,z);return;case"option":for(var nt in a)R=a[nt],a.hasOwnProperty(nt)&&R!=null&&!c.hasOwnProperty(nt)&&(nt==="selected"?n.selected=!1:Qt(n,l,nt,null,c,R));for(A in c)R=c[A],z=a[A],c.hasOwnProperty(A)&&R!==z&&(R!=null||z!=null)&&(A==="selected"?n.selected=R&&typeof R!="function"&&typeof R!="symbol":Qt(n,l,A,R,c,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)R=a[dt],a.hasOwnProperty(dt)&&R!=null&&!c.hasOwnProperty(dt)&&Qt(n,l,dt,null,c,R);for(_ in c)if(R=c[_],z=a[_],c.hasOwnProperty(_)&&R!==z&&(R!=null||z!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,l));break;default:Qt(n,l,_,R,c,z)}return;default:if(Tc(l)){for(var Kt in a)R=a[Kt],a.hasOwnProperty(Kt)&&R!==void 0&&!c.hasOwnProperty(Kt)&&mh(n,l,Kt,void 0,c,R);for(H in c)R=c[H],z=a[H],!c.hasOwnProperty(H)||R===z||R===void 0&&z===void 0||mh(n,l,H,R,c,z);return}}for(var O in a)R=a[O],a.hasOwnProperty(O)&&R!=null&&!c.hasOwnProperty(O)&&Qt(n,l,O,null,c,R);for(Y in c)R=c[Y],z=a[Y],!c.hasOwnProperty(Y)||R===z||R==null&&z==null||Qt(n,l,Y,R,c,z)}function Y0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],p=d.transferSize,v=d.initiatorType,x=d.duration;if(p&&x&&Y0(v)){for(v=0,x=d.responseEnd,c+=1;c<a.length;c++){var A=a[c],_=A.startTime;if(_>x)break;var H=A.transferSize,Y=A.initiatorType;H&&Y0(Y)&&(A=A.responseEnd,v+=H*(A<x?1:(x-_)/(A-_)))}if(--c,l+=8*(p+v)/(d.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ph=null,gh=null;function Fo(n){return n.nodeType===9?n:n.ownerDocument}function G0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function yh(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var vh=null;function OS(){var n=window.event;return n&&n.type==="popstate"?n===vh?!1:(vh=n,!0):(vh=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(n){return K0.resolve(null).then(n).catch(NS)}:Q0;function NS(n){setTimeout(function(){throw n})}function ol(n){return n==="head"}function Z0(n,l){var a=l,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(d),Ps(l);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")sa(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,sa(a);for(var p=a.firstChild;p;){var v=p.nextSibling,x=p.nodeName;p[wr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=v}}else a==="body"&&sa(n.ownerDocument.body);a=d}while(a);Ps(l)}function J0(n,l){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?l?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(l?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function bh(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var a=l;switch(l=l.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bh(a),wc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function BS(n,l,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[wr])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=On(n.nextSibling),n===null)break}return null}function _S(n,l,a){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=On(n.nextSibling),n===null))return null;return n}function W0(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=On(n.nextSibling),n===null))return null;return n}function xh(n){return n.data==="$?"||n.data==="$~"}function Sh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function RS(n,l){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||a.readyState!=="loading")l();else{var c=function(){l(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function On(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var kh=null;function F0(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(l===0)return On(n.nextSibling);l--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||l++}n=n.nextSibling}return null}function I0(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(l===0)return n;l--}else a!=="/$"&&a!=="/&"||l++}n=n.previousSibling}return null}function P0(n,l,a){switch(l=Fo(a),n){case"html":if(n=l.documentElement,!n)throw Error(i(452));return n;case"head":if(n=l.head,!n)throw Error(i(453));return n;case"body":if(n=l.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function sa(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);wc(n)}var En=new Map,$0=new Set;function Io(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ri=X.d;X.d={f:zS,r:LS,D:jS,C:HS,L:US,m:qS,X:YS,S:VS,M:GS};function zS(){var n=Ri.f(),l=Yo();return n||l}function LS(n){var l=ys(n);l!==null&&l.tag===5&&l.type==="form"?gg(l):Ri.r(n)}var Ws=typeof document>"u"?null:document;function t1(n,l,a){var c=Ws;if(c&&typeof l=="string"&&l){var d=Sn(l);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),$0.has(d)||($0.add(d),n={rel:n,crossOrigin:a,href:l},c.querySelector(d)===null&&(l=c.createElement("link"),Oe(l,"link",n),Se(l),c.head.appendChild(l)))}}function jS(n){Ri.D(n),t1("dns-prefetch",n,null)}function HS(n,l){Ri.C(n,l),t1("preconnect",n,l)}function US(n,l,a){Ri.L(n,l,a);var c=Ws;if(c&&n&&l){var d='link[rel="preload"][as="'+Sn(l)+'"]';l==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Sn(a.imageSizes)+'"]')):d+='[href="'+Sn(n)+'"]';var p=d;switch(l){case"style":p=Fs(n);break;case"script":p=Is(n)}En.has(p)||(n=y({rel:"preload",href:l==="image"&&a&&a.imageSrcSet?void 0:n,as:l},a),En.set(p,n),c.querySelector(d)!==null||l==="style"&&c.querySelector(ra(p))||l==="script"&&c.querySelector(aa(p))||(l=c.createElement("link"),Oe(l,"link",n),Se(l),c.head.appendChild(l)))}}function qS(n,l){Ri.m(n,l);var a=Ws;if(a&&n){var c=l&&typeof l.as=="string"?l.as:"script",d='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Is(n)}if(!En.has(p)&&(n=y({rel:"modulepreload",href:n},l),En.set(p,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(aa(p)))return}c=a.createElement("link"),Oe(c,"link",n),Se(c),a.head.appendChild(c)}}}function VS(n,l,a){Ri.S(n,l,a);var c=Ws;if(c&&n){var d=vs(c).hoistableStyles,p=Fs(n);l=l||"default";var v=d.get(p);if(!v){var x={loading:0,preload:null};if(v=c.querySelector(ra(p)))x.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":l},a),(a=En.get(p))&&wh(n,a);var A=v=c.createElement("link");Se(A),Oe(A,"link",n),A._p=new Promise(function(_,H){A.onload=_,A.onerror=H}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Po(v,l,c)}v={type:"stylesheet",instance:v,count:1,state:x},d.set(p,v)}}}function YS(n,l){Ri.X(n,l);var a=Ws;if(a&&n){var c=vs(a).hoistableScripts,d=Is(n),p=c.get(d);p||(p=a.querySelector(aa(d)),p||(n=y({src:n,async:!0},l),(l=En.get(d))&&Ah(n,l),p=a.createElement("script"),Se(p),Oe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function GS(n,l){Ri.M(n,l);var a=Ws;if(a&&n){var c=vs(a).hoistableScripts,d=Is(n),p=c.get(d);p||(p=a.querySelector(aa(d)),p||(n=y({src:n,async:!0,type:"module"},l),(l=En.get(d))&&Ah(n,l),p=a.createElement("script"),Se(p),Oe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function e1(n,l,a,c){var d=(d=at.current)?Io(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(l=Fs(a.href),a=vs(d).hoistableStyles,c=a.get(l),c||(c={type:"style",instance:null,count:0,state:null},a.set(l,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Fs(a.href);var p=vs(d).hoistableStyles,v=p.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,v),(p=d.querySelector(ra(n)))&&!p._p&&(v.instance=p,v.state.loading=5),En.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},En.set(n,a),p||XS(d,n,a,v.state))),l&&c===null)throw Error(i(528,""));return v}if(l&&c!==null)throw Error(i(529,""));return null;case"script":return l=a.async,a=a.src,typeof a=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Is(a),a=vs(d).hoistableScripts,c=a.get(l),c||(c={type:"script",instance:null,count:0,state:null},a.set(l,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Fs(n){return'href="'+Sn(n)+'"'}function ra(n){return'link[rel="stylesheet"]['+n+"]"}function n1(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function XS(n,l,a,c){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=n.createElement("link"),c.preload=l,l.addEventListener("load",function(){return c.loading|=1}),l.addEventListener("error",function(){return c.loading|=2}),Oe(l,"link",a),Se(l),n.head.appendChild(l))}function Is(n){return'[src="'+Sn(n)+'"]'}function aa(n){return"script[async]"+n}function i1(n,l,a){if(l.count++,l.instance===null)switch(l.type){case"style":var c=n.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(c)return l.instance=c,Se(c),c;var d=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Se(c),Oe(c,"style",d),Po(c,a.precedence,n),l.instance=c;case"stylesheet":d=Fs(a.href);var p=n.querySelector(ra(d));if(p)return l.state.loading|=4,l.instance=p,Se(p),p;c=n1(a),(d=En.get(d))&&wh(c,d),p=(n.ownerDocument||n).createElement("link"),Se(p);var v=p;return v._p=new Promise(function(x,A){v.onload=x,v.onerror=A}),Oe(p,"link",c),l.state.loading|=4,Po(p,a.precedence,n),l.instance=p;case"script":return p=Is(a.src),(d=n.querySelector(aa(p)))?(l.instance=d,Se(d),d):(c=a,(d=En.get(p))&&(c=y({},a),Ah(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Se(d),Oe(d,"link",c),n.head.appendChild(d),l.instance=d);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(c=l.instance,l.state.loading|=4,Po(c,a.precedence,n));return l.instance}function Po(n,l,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,v=0;v<c.length;v++){var x=c[v];if(x.dataset.precedence===l)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(l=a.nodeType===9?a.head:a,l.insertBefore(n,l.firstChild))}function wh(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Ah(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var $o=null;function l1(n,l,a){if($o===null){var c=new Map,d=$o=new Map;d.set(a,c)}else d=$o,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var p=a[d];if(!(p[wr]||p[Ae]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(l)||"";v=n+v;var x=c.get(v);x?x.push(p):c.set(v,[p])}}return c}function s1(n,l,a){n=n.ownerDocument||n,n.head.insertBefore(a,l==="title"?n.querySelector("head > title"):null)}function QS(n,l,a){if(a===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(n=l.disabled,typeof l.precedence=="string"&&n==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function r1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function KS(n,l,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Fs(c.href),p=l.querySelector(ra(d));if(p){l=p._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=tu.bind(n),l.then(n,n)),a.state.loading|=4,a.instance=p,Se(p);return}p=l.ownerDocument||l,c=n1(c),(d=En.get(d))&&wh(c,d),p=p.createElement("link"),Se(p);var v=p;v._p=new Promise(function(x,A){v.onload=x,v.onerror=A}),Oe(p,"link",c),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,l),(l=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=tu.bind(n),l.addEventListener("load",a),l.addEventListener("error",a))}}var Ch=0;function ZS(n,l){return n.stylesheets&&n.count===0&&nu(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&nu(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+l);0<n.imgBytes&&Ch===0&&(Ch=62500*TS());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&nu(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Ch?50:800)+l);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function tu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eu=null;function nu(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eu=new Map,l.forEach(JS,n),eu=null,tu.call(n))}function JS(n,l){if(!(l.state.loading&4)){var a=eu.get(n);if(a)var c=a.get(null);else{a=new Map,eu.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),c=v)}c&&a.set(null,c)}d=l.instance,v=d.getAttribute("data-precedence"),p=a.get(v)||c,p===c&&a.set(null,d),a.set(v,d),this.count++,c=tu.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),l.state.loading|=4}}var oa={$$typeof:J,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function WS(n,l,a,c,d,p,v,x,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function a1(n,l,a,c,d,p,v,x,A,_,H,Y){return n=new WS(n,l,a,v,A,_,H,Y,x),l=1,p===!0&&(l|=24),p=fn(3,null,null,l),n.current=p,p.stateNode=n,l=lf(),l.refCount++,n.pooledCache=l,l.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:l},of(p),n}function o1(n){return n?(n=Os,n):Os}function u1(n,l,a,c,d,p){d=o1(d),c.context===null?c.context=d:c.pendingContext=d,c=Ii(l),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=Pi(n,c,l),a!==null&&(en(a,n,l),qr(a,n,l))}function c1(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<l?a:l}}function Mh(n,l){c1(n,l),(n=n.alternate)&&c1(n,l)}function f1(n){if(n.tag===13||n.tag===31){var l=Ul(n,67108864);l!==null&&en(l,n,67108864),Mh(n,67108864)}}function h1(n){if(n.tag===13||n.tag===31){var l=gn();l=ms(l);var a=Ul(n,l);a!==null&&en(a,n,l),Mh(n,l)}}var iu=!0;function FS(n,l,a,c){var d=D.T;D.T=null;var p=X.p;try{X.p=2,Th(n,l,a,c)}finally{X.p=p,D.T=d}}function IS(n,l,a,c){var d=D.T;D.T=null;var p=X.p;try{X.p=8,Th(n,l,a,c)}finally{X.p=p,D.T=d}}function Th(n,l,a,c){if(iu){var d=Oh(c);if(d===null)dh(n,l,c,lu,a),m1(n,c);else if($S(d,n,l,a,c))c.stopPropagation();else if(m1(n,c),l&4&&-1<PS.indexOf(n)){for(;d!==null;){var p=ys(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=$n(p.pendingLanes);if(v!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var A=1<<31-_e(v);x.entanglements[1]|=A,v&=~A}ii(p),(Ut&6)===0&&(qo=Ue()+500,na(0))}}break;case 31:case 13:x=Ul(p,2),x!==null&&en(x,p,2),Yo(),Mh(p,2)}if(p=Oh(c),p===null&&dh(n,l,c,lu,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else dh(n,l,c,null,a)}}function Oh(n){return n=Ec(n),Eh(n)}var lu=null;function Eh(n){if(lu=null,n=gs(n),n!==null){var l=o(n);if(l===null)n=null;else{var a=l.tag;if(a===13){if(n=u(l),n!==null)return n;n=null}else if(a===31){if(n=f(l),n!==null)return n;n=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return lu=n,null}function d1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bc()){case Dl:return 2;case Wa:return 8;case Nl:case Sr:return 32;case gi:return 268435456;default:return 32}default:return 32}}var Dh=!1,ul=null,cl=null,fl=null,ua=new Map,ca=new Map,hl=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m1(n,l){switch(n){case"focusin":case"focusout":ul=null;break;case"dragenter":case"dragleave":cl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":ua.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(l.pointerId)}}function fa(n,l,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:l,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},l!==null&&(l=ys(l),l!==null&&f1(l)),n):(n.eventSystemFlags|=c,l=n.targetContainers,d!==null&&l.indexOf(d)===-1&&l.push(d),n)}function $S(n,l,a,c,d){switch(l){case"focusin":return ul=fa(ul,n,l,a,c,d),!0;case"dragenter":return cl=fa(cl,n,l,a,c,d),!0;case"mouseover":return fl=fa(fl,n,l,a,c,d),!0;case"pointerover":var p=d.pointerId;return ua.set(p,fa(ua.get(p)||null,n,l,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,ca.set(p,fa(ca.get(p)||null,n,l,a,c,d)),!0}return!1}function p1(n){var l=gs(n.target);if(l!==null){var a=o(l);if(a!==null){if(l=a.tag,l===13){if(l=u(a),l!==null){n.blockedOn=l,Em(n.priority,function(){h1(a)});return}}else if(l===31){if(l=f(a),l!==null){n.blockedOn=l,Em(n.priority,function(){h1(a)});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function su(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var a=Oh(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Oc=c,a.target.dispatchEvent(c),Oc=null}else return l=ys(a),l!==null&&f1(l),n.blockedOn=a,!1;l.shift()}return!0}function g1(n,l,a){su(n)&&a.delete(l)}function tk(){Dh=!1,ul!==null&&su(ul)&&(ul=null),cl!==null&&su(cl)&&(cl=null),fl!==null&&su(fl)&&(fl=null),ua.forEach(g1),ca.forEach(g1)}function ru(n,l){n.blockedOn===l&&(n.blockedOn=null,Dh||(Dh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tk)))}var au=null;function y1(n){au!==n&&(au=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){au===n&&(au=null);for(var l=0;l<n.length;l+=3){var a=n[l],c=n[l+1],d=n[l+2];if(typeof c!="function"){if(Eh(c||a)===null)continue;break}var p=ys(a);p!==null&&(n.splice(l,3),l-=3,Of(p,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Ps(n){function l(A){return ru(A,n)}ul!==null&&ru(ul,n),cl!==null&&ru(cl,n),fl!==null&&ru(fl,n),ua.forEach(l),ca.forEach(l);for(var a=0;a<hl.length;a++){var c=hl[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<hl.length&&(a=hl[0],a.blockedOn===null);)p1(a),a.blockedOn===null&&hl.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],v=d[We]||null;if(typeof p=="function")v||y1(a);else if(v){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[We]||null)x=v.formAction;else if(Eh(d)!==null)continue}else x=v.action;typeof x=="function"?a[c+1]=x:(a.splice(c,3),c-=3),y1(a)}}}function v1(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function l(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),d!==null&&(d(),d=null)}}}function Nh(n){this._internalRoot=n}ou.prototype.render=Nh.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(i(409));var a=l.current,c=gn();u1(a,c,n,l,null,null)},ou.prototype.unmount=Nh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;u1(n.current,2,null,n,null,null),Yo(),l[ps]=null}};function ou(n){this._internalRoot=n}ou.prototype.unstable_scheduleHydration=function(n){if(n){var l=Sc();n={blockedOn:null,target:n,priority:l};for(var a=0;a<hl.length&&l!==0&&l<hl[a].priority;a++);hl.splice(a,0,n),a===0&&p1(n)}};var b1=t.version;if(b1!=="19.2.3")throw Error(i(527,b1,"19.2.3"));X.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(l),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ek={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{Bl=uu.inject(ek),qe=uu}catch{}}return da.createRoot=function(n,l){if(!r(n))throw Error(i(299));var a=!1,c="",d=Mg,p=Tg,v=Og;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(d=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=a1(n,1,!1,null,null,a,c,null,d,p,v,v1),n[ps]=l.current,hh(n),new Nh(l)},da.hydrateRoot=function(n,l,a){if(!r(n))throw Error(i(299));var c=!1,d="",p=Mg,v=Tg,x=Og,A=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),l=a1(n,1,!0,l,a??null,c,d,A,p,v,x,v1),l.context=o1(null),a=l.current,c=gn(),c=ms(c),d=Ii(c),d.callback=null,Pi(a,d,c),a=c,l.current.lanes=a,ie(l,a),ii(l),n[ps]=l.current,hh(n),new ou(l)},da.version="19.2.3",da}var E1;function ck(){if(E1)return Rh.exports;E1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rh.exports=uk(),Rh.exports}var fk=ck();const D1=s=>{let t;const e=new Set,i=(m,g)=>{const y=typeof m=="function"?m(t):m;if(!Object.is(y,t)){const b=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),e.forEach(S=>S(t,b))}},r=()=>t,f={setState:i,getState:r,getInitialState:()=>h,subscribe:m=>(e.add(m),()=>e.delete(m))},h=t=s(i,r,f);return f},hk=(s=>s?D1(s):D1),dk=s=>s;function mk(s,t=dk){const e=F.useSyncExternalStore(s.subscribe,F.useCallback(()=>t(s.getState()),[s,t]),F.useCallback(()=>t(s.getInitialState()),[s,t]));return F.useDebugValue(e),e}const pk=s=>{const t=hk(s),e=i=>mk(t,i);return Object.assign(e,t),e},gk=(s=>pk);function yk(s,t){let e;try{e=s()}catch{return}return{getItem:r=>{var o;const u=h=>h===null?null:JSON.parse(h,void 0),f=(o=e.getItem(r))!=null?o:null;return f instanceof Promise?f.then(u):u(f)},setItem:(r,o)=>e.setItem(r,JSON.stringify(o,void 0)),removeItem:r=>e.removeItem(r)}}const ud=s=>t=>{try{const e=s(t);return e instanceof Promise?e:{then(i){return ud(i)(e)},catch(i){return this}}}catch(e){return{then(i){return this},catch(i){return ud(i)(e)}}}},vk=(s,t)=>(e,i,r)=>{let o={storage:yk(()=>localStorage),partialize:w=>w,version:0,merge:(w,E)=>({...E,...w}),...t},u=!1;const f=new Set,h=new Set;let m=o.storage;if(!m)return s((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...w)},i,r);const g=()=>{const w=o.partialize({...i()});return m.setItem(o.name,{state:w,version:o.version})},y=r.setState;r.setState=(w,E)=>(y(w,E),g());const b=s((...w)=>(e(...w),g()),i,r);r.getInitialState=()=>b;let S;const k=()=>{var w,E;if(!m)return;u=!1,f.forEach(G=>{var J;return G((J=i())!=null?J:b)});const N=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(w=i())!=null?w:b))||void 0;return ud(m.getItem.bind(m))(o.name).then(G=>{if(G)if(typeof G.version=="number"&&G.version!==o.version){if(o.migrate){const J=o.migrate(G.state,G.version);return J instanceof Promise?J.then(st=>[!0,st]):[!0,J]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,G.state];return[!1,void 0]}).then(G=>{var J;const[st,K]=G;if(S=o.merge(K,(J=i())!=null?J:b),e(S,!0),st)return g()}).then(()=>{N?.(S,void 0),S=i(),u=!0,h.forEach(G=>G(S))}).catch(G=>{N?.(void 0,G)})};return r.persist={setOptions:w=>{o={...o,...w},w.storage&&(m=w.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:w=>(f.add(w),()=>{f.delete(w)}),onFinishHydration:w=>(h.add(w),()=>{h.delete(w)})},o.skipHydration||k(),S||b},bk=vk;var xk=fv();const Sk=cv(xk);function kk(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}const wk=s=>{switch(s){case"success":return Mk;case"info":return Ok;case"warning":return Tk;case"error":return Ek;default:return null}},Ak=Array(12).fill(0),Ck=({visible:s,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},F.createElement("div",{className:"sonner-spinner"},Ak.map((e,i)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Mk=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tk=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ok=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ek=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dk=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nk=()=>{const[s,t]=F.useState(document.hidden);return F.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),s};let cd=1;class Bk{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:cd++,u=this.toasts.find(h=>h.id===o),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),u?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...t,id:o,title:i}),{...h,...t,id:o,dismissible:f,title:i}):h):this.addToast({title:i,...r,dismissible:f,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=i!==void 0,u;const f=r.then(async m=>{if(u=["resolve",m],F.isValidElement(m))o=!1,this.create({id:i,type:"default",message:m});else if(Rk(m)&&!m.ok){o=!1;const y=typeof e.error=="function"?await e.error(`HTTP error! status: ${m.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${m.status}`):e.description,k=typeof y=="object"&&!F.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:b,...k})}else if(m instanceof Error){o=!1;const y=typeof e.error=="function"?await e.error(m):e.error,b=typeof e.description=="function"?await e.description(m):e.description,k=typeof y=="object"&&!F.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:b,...k})}else if(e.success!==void 0){o=!1;const y=typeof e.success=="function"?await e.success(m):e.success,b=typeof e.description=="function"?await e.description(m):e.description,k=typeof y=="object"&&!F.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:b,...k})}}).catch(async m=>{if(u=["reject",m],e.error!==void 0){o=!1;const g=typeof e.error=="function"?await e.error(m):e.error,y=typeof e.description=="function"?await e.description(m):e.description,S=typeof g=="object"&&!F.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:y,...S})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),h=()=>new Promise((m,g)=>f.then(()=>u[0]==="reject"?g(u[1]):m(u[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(t,e)=>{const i=e?.id||cd++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nn=new Bk,_k=(s,t)=>{const e=t?.id||cd++;return nn.addToast({title:s,...t,id:e}),e},Rk=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",zk=_k,Lk=()=>nn.toasts,jk=()=>nn.getActiveToasts(),bn=Object.assign(zk,{success:nn.success,info:nn.info,warning:nn.warning,error:nn.error,custom:nn.custom,message:nn.message,promise:nn.promise,dismiss:nn.dismiss,loading:nn.loading},{getHistory:Lk,getToasts:jk});kk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function cu(s){return s.label!==void 0}const Hk=3,Uk="24px",qk="16px",N1=4e3,Vk=356,Yk=14,Gk=45,Xk=200;function li(...s){return s.filter(Boolean).join(" ")}function Qk(s){const[t,e]=s.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const Kk=s=>{var t,e,i,r,o,u,f,h,m;const{invert:g,toast:y,unstyled:b,interacting:S,setHeights:k,visibleToasts:w,heights:E,index:N,toasts:G,expanded:J,removeToast:st,defaultRichColors:K,closeButton:Z,style:U,cancelButtonStyle:rt,actionButtonStyle:mt,className:At="",descriptionClassName:ft="",duration:$,position:pt,gap:gt,expandByDefault:vt,classNames:D,icons:X,closeButtonAriaLabel:tt="Close toast"}=s,[ut,ht]=F.useState(null),[M,j]=F.useState(null),[V,W]=F.useState(!1),[P,at]=F.useState(!1),[kt,wt]=F.useState(!1),[Gt,Fn]=F.useState(!1),[pi,In]=F.useState(!1),[Ja,Hn]=F.useState(0),[yr,fs]=F.useState(0),El=F.useRef(y.duration||$||N1),vr=F.useRef(null),un=F.useRef(null),br=N===0,xr=N+1<=w,He=y.type,Vi=y.dismissible!==!1,Ue=y.className||"",bc=y.descriptionClassName||"",Dl=F.useMemo(()=>E.findIndex(yt=>yt.toastId===y.id)||0,[E,y.id]),Wa=F.useMemo(()=>{var yt;return(yt=y.closeButton)!=null?yt:Z},[y.closeButton,Z]),Nl=F.useMemo(()=>y.duration||$||N1,[y.duration,$]),Sr=F.useRef(0),gi=F.useRef(0),Fa=F.useRef(0),Yi=F.useRef(null),[Bl,qe]=pt.split("-"),Un=F.useMemo(()=>E.reduce((yt,te,xe)=>xe>=Dl?yt:yt+te.height,0),[E,Dl]),_e=Nk(),xc=y.invert||g,kr=He==="loading";gi.current=F.useMemo(()=>Dl*gt+Un,[Dl,Un]),F.useEffect(()=>{El.current=Nl},[Nl]),F.useEffect(()=>{W(!0)},[]),F.useEffect(()=>{const yt=un.current;if(yt){const te=yt.getBoundingClientRect().height;return fs(te),k(xe=>[{toastId:y.id,height:te,position:y.position},...xe]),()=>k(xe=>xe.filter(Re=>Re.toastId!==y.id))}},[k,y.id]),F.useLayoutEffect(()=>{if(!V)return;const yt=un.current,te=yt.style.height;yt.style.height="auto";const xe=yt.getBoundingClientRect().height;yt.style.height=te,fs(xe),k(Re=>Re.find(ie=>ie.toastId===y.id)?Re.map(ie=>ie.toastId===y.id?{...ie,height:xe}:ie):[{toastId:y.id,height:xe,position:y.position},...Re])},[V,y.title,y.description,k,y.id,y.jsx,y.action,y.cancel]);const Pn=F.useCallback(()=>{at(!0),Hn(gi.current),k(yt=>yt.filter(te=>te.toastId!==y.id)),setTimeout(()=>{st(y)},Xk)},[y,st,k,gi]);F.useEffect(()=>{if(y.promise&&He==="loading"||y.duration===1/0||y.type==="loading")return;let yt;return J||S||_e?(()=>{if(Fa.current<Sr.current){const Re=new Date().getTime()-Sr.current;El.current=El.current-Re}Fa.current=new Date().getTime()})():El.current!==1/0&&(Sr.current=new Date().getTime(),yt=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Pn()},El.current)),()=>clearTimeout(yt)},[J,S,y,He,_e,Pn]),F.useEffect(()=>{y.delete&&(Pn(),y.onDismiss==null||y.onDismiss.call(y,y))},[Pn,y.delete]);function hs(){var yt;if(X?.loading){var te;return F.createElement("div",{className:li(D?.loader,y==null||(te=y.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":He==="loading"},X.loading)}return F.createElement(Ck,{className:li(D?.loader,y==null||(yt=y.classNames)==null?void 0:yt.loader),visible:He==="loading"})}const ds=y.icon||X?.[He]||wk(He);var _l,$n;return F.createElement("li",{tabIndex:0,ref:un,className:li(At,Ue,D?.toast,y==null||(t=y.classNames)==null?void 0:t.toast,D?.default,D?.[He],y==null||(e=y.classNames)==null?void 0:e[He]),"data-sonner-toast":"","data-rich-colors":(_l=y.richColors)!=null?_l:K,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":V,"data-promise":!!y.promise,"data-swiped":pi,"data-removed":P,"data-visible":xr,"data-y-position":Bl,"data-x-position":qe,"data-index":N,"data-front":br,"data-swiping":kt,"data-dismissible":Vi,"data-type":He,"data-invert":xc,"data-swipe-out":Gt,"data-swipe-direction":M,"data-expanded":!!(J||vt&&V),"data-testid":y.testId,style:{"--index":N,"--toasts-before":N,"--z-index":G.length-N,"--offset":`${P?Ja:gi.current}px`,"--initial-height":vt?"auto":`${yr}px`,...U,...y.style},onDragEnd:()=>{wt(!1),ht(null),Yi.current=null},onPointerDown:yt=>{yt.button!==2&&(kr||!Vi||(vr.current=new Date,Hn(gi.current),yt.target.setPointerCapture(yt.pointerId),yt.target.tagName!=="BUTTON"&&(wt(!0),Yi.current={x:yt.clientX,y:yt.clientY})))},onPointerUp:()=>{var yt,te,xe;if(Gt||!Vi)return;Yi.current=null;const Re=Number(((yt=un.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gi=Number(((te=un.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((xe=vr.current)==null?void 0:xe.getTime()),Ke=ut==="x"?Re:Gi,Rl=Math.abs(Ke)/ie;if(Math.abs(Ke)>=Gk||Rl>.11){Hn(gi.current),y.onDismiss==null||y.onDismiss.call(y,y),j(ut==="x"?Re>0?"right":"left":Gi>0?"down":"up"),Pn(),Fn(!0);return}else{var Ze,Je;(Ze=un.current)==null||Ze.style.setProperty("--swipe-amount-x","0px"),(Je=un.current)==null||Je.style.setProperty("--swipe-amount-y","0px")}In(!1),wt(!1),ht(null)},onPointerMove:yt=>{var te,xe,Re;if(!Yi.current||!Vi||((te=window.getSelection())==null?void 0:te.toString().length)>0)return;const ie=yt.clientY-Yi.current.y,Ke=yt.clientX-Yi.current.x;var Rl;const Ze=(Rl=s.swipeDirections)!=null?Rl:Qk(pt);!ut&&(Math.abs(Ke)>1||Math.abs(ie)>1)&&ht(Math.abs(Ke)>Math.abs(ie)?"x":"y");let Je={x:0,y:0};const ms=qn=>1/(1.5+Math.abs(qn)/20);if(ut==="y"){if(Ze.includes("top")||Ze.includes("bottom"))if(Ze.includes("top")&&ie<0||Ze.includes("bottom")&&ie>0)Je.y=ie;else{const qn=ie*ms(ie);Je.y=Math.abs(qn)<Math.abs(ie)?qn:ie}}else if(ut==="x"&&(Ze.includes("left")||Ze.includes("right")))if(Ze.includes("left")&&Ke<0||Ze.includes("right")&&Ke>0)Je.x=Ke;else{const qn=Ke*ms(Ke);Je.x=Math.abs(qn)<Math.abs(Ke)?qn:Ke}(Math.abs(Je.x)>0||Math.abs(Je.y)>0)&&In(!0),(xe=un.current)==null||xe.style.setProperty("--swipe-amount-x",`${Je.x}px`),(Re=un.current)==null||Re.style.setProperty("--swipe-amount-y",`${Je.y}px`)}},Wa&&!y.jsx&&He!=="loading"?F.createElement("button",{"aria-label":tt,"data-disabled":kr,"data-close-button":!0,onClick:kr||!Vi?()=>{}:()=>{Pn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:li(D?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},($n=X?.close)!=null?$n:Dk):null,(He||y.icon||y.promise)&&y.icon!==null&&(X?.[He]!==null||y.icon)?F.createElement("div",{"data-icon":"",className:li(D?.icon,y==null||(r=y.classNames)==null?void 0:r.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||hs():null,y.type!=="loading"?ds:null):null,F.createElement("div",{"data-content":"",className:li(D?.content,y==null||(o=y.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:li(D?.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?F.createElement("div",{"data-description":"",className:li(ft,bc,D?.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),F.isValidElement(y.cancel)?y.cancel:y.cancel&&cu(y.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||rt,onClick:yt=>{cu(y.cancel)&&Vi&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,yt),Pn())},className:li(D?.cancelButton,y==null||(h=y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,F.isValidElement(y.action)?y.action:y.action&&cu(y.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||mt,onClick:yt=>{cu(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,yt),!yt.defaultPrevented&&Pn())},className:li(D?.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function B1(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Zk(s,t){const e={};return[s,t].forEach((i,r)=>{const o=r===1,u=o?"--mobile-offset":"--offset",f=o?qk:Uk;function h(m){["top","right","bottom","left"].forEach(g=>{e[`${u}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?h(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?e[`${u}-${m}`]=f:e[`${u}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):h(f)}),e}const Jk=F.forwardRef(function(t,e){const{id:i,invert:r,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:h,className:m,offset:g,mobileOffset:y,theme:b="light",richColors:S,duration:k,style:w,visibleToasts:E=Hk,toastOptions:N,dir:G=B1(),gap:J=Yk,icons:st,containerAriaLabel:K="Notifications"}=t,[Z,U]=F.useState([]),rt=F.useMemo(()=>i?Z.filter(V=>V.toasterId===i):Z.filter(V=>!V.toasterId),[Z,i]),mt=F.useMemo(()=>Array.from(new Set([o].concat(rt.filter(V=>V.position).map(V=>V.position)))),[rt,o]),[At,ft]=F.useState([]),[$,pt]=F.useState(!1),[gt,vt]=F.useState(!1),[D,X]=F.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),tt=F.useRef(null),ut=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ht=F.useRef(null),M=F.useRef(!1),j=F.useCallback(V=>{U(W=>{var P;return(P=W.find(at=>at.id===V.id))!=null&&P.delete||nn.dismiss(V.id),W.filter(({id:at})=>at!==V.id)})},[]);return F.useEffect(()=>nn.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{U(W=>W.map(P=>P.id===V.id?{...P,delete:!0}:P))});return}setTimeout(()=>{Sk.flushSync(()=>{U(W=>{const P=W.findIndex(at=>at.id===V.id);return P!==-1?[...W.slice(0,P),{...W[P],...V},...W.slice(P+1)]:[V,...W]})})})}),[Z]),F.useEffect(()=>{if(b!=="system"){X(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:W})=>{X(W?"dark":"light")})}catch{V.addListener(({matches:P})=>{try{X(P?"dark":"light")}catch(at){console.error(at)}})}},[b]),F.useEffect(()=>{Z.length<=1&&pt(!1)},[Z]),F.useEffect(()=>{const V=W=>{var P;if(u.every(wt=>W[wt]||W.code===wt)){var kt;pt(!0),(kt=tt.current)==null||kt.focus()}W.code==="Escape"&&(document.activeElement===tt.current||(P=tt.current)!=null&&P.contains(document.activeElement))&&pt(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[u]),F.useEffect(()=>{if(tt.current)return()=>{ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null,M.current=!1)}},[tt.current]),F.createElement("section",{ref:e,"aria-label":`${K} ${ut}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},mt.map((V,W)=>{var P;const[at,kt]=V.split("-");return rt.length?F.createElement("ol",{key:V,dir:G==="auto"?B1():G,tabIndex:-1,ref:tt,className:m,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":at,"data-x-position":kt,style:{"--front-toast-height":`${((P=At[0])==null?void 0:P.height)||0}px`,"--width":`${Vk}px`,"--gap":`${J}px`,...w,...Zk(g,y)},onBlur:wt=>{M.current&&!wt.currentTarget.contains(wt.relatedTarget)&&(M.current=!1,ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null))},onFocus:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||M.current||(M.current=!0,ht.current=wt.relatedTarget)},onMouseEnter:()=>pt(!0),onMouseMove:()=>pt(!0),onMouseLeave:()=>{gt||pt(!1)},onDragEnd:()=>pt(!1),onPointerDown:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||vt(!0)},onPointerUp:()=>vt(!1)},rt.filter(wt=>!wt.position&&W===0||wt.position===V).map((wt,Gt)=>{var Fn,pi;return F.createElement(Kk,{key:wt.id,icons:st,index:Gt,toast:wt,defaultRichColors:S,duration:(Fn=N?.duration)!=null?Fn:k,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:E,closeButton:(pi=N?.closeButton)!=null?pi:h,interacting:gt,position:V,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:j,toasts:rt.filter(In=>In.position==wt.position),heights:At.filter(In=>In.position==wt.position),setHeights:ft,expandByDefault:f,gap:J,expanded:$,swipeDirections:t.swipeDirections})})):null}))}),Wk=s=>{try{return{data:JSON.parse(s),error:null}}catch(t){return{data:null,error:{message:t.message}}}},Fk=(s,t=2)=>{try{const e=JSON.parse(s);return JSON.stringify(e,null,t)}catch{return s}},Ik=s=>{try{const t=JSON.parse(s);return JSON.stringify(t)}catch{return s}},Pk=async(s,t,e="auto")=>{let i=e;(!i||i==="auto")&&(i=await dv(t)),console.log("Using Gemini Model:",i);const r=`You are a JSON repair tool. Your task is to fix the following invalid JSON string.
  Rules:
  1. Output ONLY the valid JSON. No markdown, no "here is the fixed json", no explanations.
  2. If it is already valid, return it as is.
  3. Format it nicely with 2 spaces indentation.
  
  Invalid JSON:
  ${s}`;try{const o=i.startsWith("models/")?i:`models/${i}`,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/${o}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}]})});if(!u.ok){const g=await u.json();throw u.status===429?new Error("Rate limit exceeded. Please wait a moment before trying again."):new Error(g.error?.message||"Failed to contact Gemini")}const h=(await u.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!h)throw new Error("No response from AI");return h.replace(/```json\n?|```/g,"").trim()}catch(o){throw console.error("AI Fix Error:",o),o}},$k=async(s,t,e="auto")=>hv(s,t,e,`You are a TypeScript expert. Generate a TypeScript interface for this JSON.
      Rules:
      1. Output ONLY the TypeScript code. No markdown fences.
      2. Use 'Root' as the main interface name.
      3. Use nice indentation.`),tw=async(s,t,e="auto")=>hv(s,t,e,`Explain this JSON data in simple terms.
      Rules:
      1. Be concise. High-level summary of what this data represents.
      2. Mention key fields if important.
      3. No markdown formatting, just plain text or simple bullet points.`),hv=async(s,t,e,i)=>{let r=e;(!r||r==="auto")&&(r=await dv(t));const o=r.startsWith("models/")?r:`models/${r}`,u=`${i}

JSON:
${s}`;try{const f=await fetch(`https://generativelanguage.googleapis.com/v1beta/${o}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:u}]}]})});if(!f.ok){const g=await f.json();throw f.status===429?new Error("Rate limit exceeded. Please wait a moment."):new Error(g.error?.message||"Failed to contact Gemini")}const m=(await f.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!m)throw new Error("No response from AI");return m.replace(/```typescript\n?|```json\n?|```/g,"").trim()}catch(f){throw console.error("AI Error:",f),f}},dv=async s=>{try{const t=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${s}`);if(!t.ok)return console.warn("Failed to list models, defaulting to 1.5-flash-001"),"gemini-1.5-flash-001";const r=((await t.json()).models||[]).filter(f=>f.supportedGenerationMethods?.includes("generateContent")),o=(f,h)=>f.name.includes(h),u=r.find(f=>o(f,"gemini-1.5-flash"))||r.find(f=>o(f,"gemini-1.5-pro"))||r.find(f=>o(f,"gemini-1.0-pro"))||r.find(f=>o(f,"gemini-pro"))||r[0];if(!u)throw new Error("No compatible Gemini models found for this key.");return u.name}catch(t){return console.error("Error fetching models:",t),"gemini-1.5-flash-001"}},ew=async s=>{try{const t=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${s}`);return t.ok?((await t.json()).models||[]).filter(i=>i.supportedGenerationMethods?.includes("generateContent")):[]}catch(t){return console.error("Error fetching models:",t),[]}},us=gk()(bk((s,t)=>({rawText:"",parsedData:null,error:null,isValid:!0,theme:"dark",apiKey:"",preferredModel:"auto",isAiModalOpen:!1,isInfoModalOpen:!1,viewMode:"split",isGenerating:!1,generatedContent:null,setGeneratedContent:e=>s({generatedContent:e}),setTheme:e=>{s({theme:e}),document.documentElement.setAttribute("data-theme",e)},setViewMode:e=>s({viewMode:e}),setApiKey:e=>s({apiKey:e}),setPreferredModel:e=>s({preferredModel:e}),setAiModalOpen:e=>s({isAiModalOpen:e}),setInfoModalOpen:e=>s({isInfoModalOpen:e}),isFixing:!1,fixJsonWithAI:async()=>{const{apiKey:e,rawText:i,preferredModel:r}=t();if(!e){s({isAiModalOpen:!0});return}s({isFixing:!0});try{const o=await Pk(i,e,r);t().setText(o),bn.success("JSON fixed via AI")}catch(o){const u=o instanceof Error?o.message:"Failed to fix JSON";bn.error(u)}finally{s({isFixing:!1})}},generateSchemaWithAI:async()=>{const{apiKey:e,rawText:i,preferredModel:r}=t();if(!e){s({isAiModalOpen:!0});return}s({isGenerating:!0});try{const o=await $k(i,e,r);s({generatedContent:{title:"TypeScript Schema",content:o}}),bn.success("Schema generated")}catch(o){const u=o instanceof Error?o.message:"Failed to generate schema";bn.error(u)}finally{s({isGenerating:!1})}},explainJsonWithAI:async()=>{const{apiKey:e,rawText:i,preferredModel:r}=t();if(!e){s({isAiModalOpen:!0});return}s({isGenerating:!0});try{const o=await tw(i,e,r);s({generatedContent:{title:"Explanation",content:o}}),bn.success("Explanation generated")}catch(o){const u=o instanceof Error?o.message:"Failed to explain JSON";bn.error(u)}finally{s({isGenerating:!1})}},setText:e=>{const{data:i,error:r}=Wk(e);s({rawText:e,parsedData:i,error:r?r.message:null,isValid:!r})},format:()=>{const{rawText:e}=t(),i=Fk(e);t().setText(i)},minify:()=>{const{rawText:e}=t(),i=Ik(e);t().setText(i)},clear:()=>{t().setText("")}}),{name:"json-studio-storage",partialize:s=>({theme:s.theme,apiKey:s.apiKey,preferredModel:s.preferredModel,rawText:s.rawText,viewMode:s.viewMode}),onRehydrateStorage:()=>s=>{s?.theme&&document.documentElement.setAttribute("data-theme",s.theme),s?.rawText&&s.setText(s.rawText)}}));let fd=[],mv=[];(()=>{let s="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,e=0;t<s.length;t++)(t%2?mv:fd).push(e=e+s[t])})();function nw(s){if(s<768)return!1;for(let t=0,e=fd.length;;){let i=t+e>>1;if(s<fd[i])e=i;else if(s>=mv[i])t=i+1;else return!0;if(t==e)return!1}}function _1(s){return s>=127462&&s<=127487}const R1=8205;function iw(s,t,e=!0,i=!0){return(e?pv:lw)(s,t,i)}function pv(s,t,e){if(t==s.length)return t;t&&gv(s.charCodeAt(t))&&yv(s.charCodeAt(t-1))&&t--;let i=Hh(s,t);for(t+=z1(i);t<s.length;){let r=Hh(s,t);if(i==R1||r==R1||e&&nw(r))t+=z1(r),i=r;else if(_1(r)){let o=0,u=t-2;for(;u>=0&&_1(Hh(s,u));)o++,u-=2;if(o%2==0)break;t+=2}else break}return t}function lw(s,t,e){for(;t>0;){let i=pv(s,t-2,e);if(i<t)return i;t--}return 0}function Hh(s,t){let e=s.charCodeAt(t);if(!yv(e)||t+1==s.length)return e;let i=s.charCodeAt(t+1);return gv(i)?(e-55296<<10)+(i-56320)+65536:e}function gv(s){return s>=56320&&s<57344}function yv(s){return s>=55296&&s<56320}function z1(s){return s<65536?1:2}class Ht{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=or(this,t,e);let r=[];return this.decompose(0,t,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(e,this.length,r,1),ui.from(r,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=or(this,t,e);let i=[];return this.decompose(t,e,i,0),ui.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),r=new wa(this),o=new wa(t);for(let u=e,f=e;;){if(r.next(u),o.next(u),u=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(f+=r.value.length,r.done||f>=i)return!0}}iter(t=1){return new wa(this,t)}iterRange(t,e=this.length){return new vv(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let r=this.line(t).from;i=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new bv(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Ht.empty:t.length<=32?new ue(t):ui.from(ue.split(t,[]))}}class ue extends Ht{constructor(t,e=sw(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,r){for(let o=0;;o++){let u=this.text[o],f=r+u.length;if((e?i:f)>=t)return new rw(r,f,i,u);r=f+1,i++}}decompose(t,e,i,r){let o=t<=0&&e>=this.length?this:new ue(L1(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(r&1){let u=i.pop(),f=Ou(o.text,u.text.slice(),0,o.length);if(f.length<=32)i.push(new ue(f,u.length+o.length));else{let h=f.length>>1;i.push(new ue(f.slice(0,h)),new ue(f.slice(h)))}}else i.push(o)}replace(t,e,i){if(!(i instanceof ue))return super.replace(t,e,i);[t,e]=or(this,t,e);let r=Ou(this.text,Ou(i.text,L1(this.text,0,t)),e),o=this.length+i.length-(e-t);return r.length<=32?new ue(r,o):ui.from(ue.split(r,[]),o)}sliceString(t,e=this.length,i=`
`){[t,e]=or(this,t,e);let r="";for(let o=0,u=0;o<=e&&u<this.text.length;u++){let f=this.text[u],h=o+f.length;o>t&&u&&(r+=i),t<h&&e>o&&(r+=f.slice(Math.max(0,t-o),e-o)),o=h+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],r=-1;for(let o of t)i.push(o),r+=o.length+1,i.length==32&&(e.push(new ue(i,r)),i=[],r=-1);return r>-1&&e.push(new ue(i,r)),e}}class ui extends Ht{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,r){for(let o=0;;o++){let u=this.children[o],f=r+u.length,h=i+u.lines-1;if((e?h:f)>=t)return u.lineInner(t,e,i,r);r=f+1,i=h+1}}decompose(t,e,i,r){for(let o=0,u=0;u<=e&&o<this.children.length;o++){let f=this.children[o],h=u+f.length;if(t<=h&&e>=u){let m=r&((u<=t?1:0)|(h>=e?2:0));u>=t&&h<=e&&!m?i.push(f):f.decompose(t-u,e-u,i,m)}u=h+1}}replace(t,e,i){if([t,e]=or(this,t,e),i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let u=this.children[r],f=o+u.length;if(t>=o&&e<=f){let h=u.replace(t-o,e-o,i),m=this.lines-u.lines+h.lines;if(h.lines<m>>4&&h.lines>m>>6){let g=this.children.slice();return g[r]=h,new ui(g,this.length-(e-t)+i.length)}return super.replace(o,f,h)}o=f+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){[t,e]=or(this,t,e);let r="";for(let o=0,u=0;o<this.children.length&&u<=e;o++){let f=this.children[o],h=u+f.length;u>t&&o&&(r+=i),t<h&&e>u&&(r+=f.sliceString(t-u,e-u,i)),u=h+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof ui))return 0;let i=0,[r,o,u,f]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,o+=e){if(r==u||o==f)return i;let h=this.children[r],m=t.children[o];if(h!=m)return i+h.scanIdentical(m,e);i+=h.length+1}}static from(t,e=t.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let S of t)i+=S.lines;if(i<32){let S=[];for(let k of t)k.flatten(S);return new ue(S,e)}let r=Math.max(32,i>>5),o=r<<1,u=r>>1,f=[],h=0,m=-1,g=[];function y(S){let k;if(S.lines>o&&S instanceof ui)for(let w of S.children)y(w);else S.lines>u&&(h>u||!h)?(b(),f.push(S)):S instanceof ue&&h&&(k=g[g.length-1])instanceof ue&&S.lines+k.lines<=32?(h+=S.lines,m+=S.length+1,g[g.length-1]=new ue(k.text.concat(S.text),k.length+1+S.length)):(h+S.lines>r&&b(),h+=S.lines,m+=S.length+1,g.push(S))}function b(){h!=0&&(f.push(g.length==1?g[0]:ui.from(g,m)),m=-1,h=g.length=0)}for(let S of t)y(S);return b(),f.length==1?f[0]:new ui(f,e)}}Ht.empty=new ue([""],0);function sw(s){let t=-1;for(let e of s)t+=e.length+1;return t}function Ou(s,t,e=0,i=1e9){for(let r=0,o=0,u=!0;o<s.length&&r<=i;o++){let f=s[o],h=r+f.length;h>=e&&(h>i&&(f=f.slice(0,i-r)),r<e&&(f=f.slice(e-r)),u?(t[t.length-1]+=f,u=!1):t.push(f)),r=h+1}return t}function L1(s,t,e){return Ou(s,[""],t,e)}class wa{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof ue?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],u=o>>1,f=r instanceof ue?r.text.length:r.children.length;if(u==(e>0?f:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(r instanceof ue){let h=r.text[u+(e<0?-1:0)];if(this.offsets[i]+=e,h.length>Math.max(0,t))return this.value=t==0?h:e>0?h.slice(t):h.slice(0,h.length-t),this;t-=h.length}else{let h=r.children[u+(e<0?-1:0)];t>h.length?(t-=h.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(h),this.offsets.push(e>0?1:(h instanceof ue?h.text.length:h.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class vv{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new wa(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=i?r:e<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class bv{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ht.prototype[Symbol.iterator]=function(){return this.iter()},wa.prototype[Symbol.iterator]=vv.prototype[Symbol.iterator]=bv.prototype[Symbol.iterator]=function(){return this});class rw{constructor(t,e,i,r){this.from=t,this.to=e,this.number=i,this.text=r}get length(){return this.to-this.from}}function or(s,t,e){return t=Math.max(0,Math.min(s.length,t)),[t,Math.max(t,Math.min(s.length,e))]}function Ne(s,t,e=!0,i=!0){return iw(s,t,e,i)}function aw(s){return s>=56320&&s<57344}function ow(s){return s>=55296&&s<56320}function cs(s,t){let e=s.charCodeAt(t);if(!ow(e)||t+1==s.length)return e;let i=s.charCodeAt(t+1);return aw(i)?(e-55296<<10)+(i-56320)+65536:e}function uw(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}function rc(s){return s<65536?1:2}const hd=/\r\n?|\n/;var ln=(function(s){return s[s.Simple=0]="Simple",s[s.TrackDel=1]="TrackDel",s[s.TrackBefore=2]="TrackBefore",s[s.TrackAfter=3]="TrackAfter",s})(ln||(ln={}));class mi{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,r=0;e<this.sections.length;){let o=this.sections[e++],u=this.sections[e++];u<0?(t(i,r,o),r+=o):r+=u,i+=o}}iterChangedRanges(t,e=!1){dd(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];r<0?t.push(i,r):t.push(r,i)}return new mi(t)}composeDesc(t){return this.empty?t:t.empty?this:xv(this,t)}mapDesc(t,e=!1){return t.empty?this:md(this,t,e)}mapPos(t,e=-1,i=ln.Simple){let r=0,o=0;for(let u=0;u<this.sections.length;){let f=this.sections[u++],h=this.sections[u++],m=r+f;if(h<0){if(m>t)return o+(t-r);o+=f}else{if(i!=ln.Simple&&m>=t&&(i==ln.TrackDel&&r<t&&m>t||i==ln.TrackBefore&&r<t||i==ln.TrackAfter&&m>t))return null;if(m>t||m==t&&e<0&&!f)return t==r||e<0?o:o+h;o+=h}r=m}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return o}touchesRange(t,e=t){for(let i=0,r=0;i<this.sections.length&&r<=e;){let o=this.sections[i++],u=this.sections[i++],f=r+o;if(u>=0&&r<=e&&f>=t)return r<t&&f>e?"cover":!0;r=f}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+i+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new mi(t)}static create(t){return new mi(t)}}class ye extends mi{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return dd(this,(e,i,r,o,u)=>t=t.replace(r,r+(i-e),u),!1),t}mapDesc(t,e=!1){return md(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let r=0,o=0;r<e.length;r+=2){let u=e[r],f=e[r+1];if(f>=0){e[r]=f,e[r+1]=u;let h=r>>1;for(;i.length<h;)i.push(Ht.empty);i.push(u?t.slice(o,o+u):Ht.empty)}o+=u}return new ye(e,i)}compose(t){return this.empty?t:t.empty?this:xv(this,t,!0)}map(t,e=!1){return t.empty?this:md(this,t,e,!0)}iterChanges(t,e=!1){dd(this,t,e)}get desc(){return mi.create(this.sections)}filter(t){let e=[],i=[],r=[],o=new Oa(this);t:for(let u=0,f=0;;){let h=u==t.length?1e9:t[u++];for(;f<h||f==h&&o.len==0;){if(o.done)break t;let g=Math.min(o.len,h-f);Le(r,g,-1);let y=o.ins==-1?-1:o.off==0?o.ins:0;Le(e,g,y),y>0&&yl(i,e,o.text),o.forward(g),f+=g}let m=t[u++];for(;f<m;){if(o.done)break t;let g=Math.min(o.len,m-f);Le(e,g,-1),Le(r,g,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(g),f+=g}}return{changes:new ye(e,i),filtered:mi.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],r=this.sections[e+1];r<0?t.push(i):r==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let r=[],o=[],u=0,f=null;function h(g=!1){if(!g&&!r.length)return;u<e&&Le(r,e-u,-1);let y=new ye(r,o);f=f?f.compose(y.map(f)):y,r=[],o=[],u=0}function m(g){if(Array.isArray(g))for(let y of g)m(y);else if(g instanceof ye){if(g.length!=e)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${e})`);h(),f=f?f.compose(g.map(f)):g}else{let{from:y,to:b=y,insert:S}=g;if(y>b||y<0||b>e)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${e})`);let k=S?typeof S=="string"?Ht.of(S.split(i||hd)):S:Ht.empty,w=k.length;if(y==b&&w==0)return;y<u&&h(),y>u&&Le(r,y-u,-1),Le(r,b-y,w),yl(o,r,k),u=b}}return m(t),h(!f),f}static empty(t){return new ye(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let r=0;r<t.length;r++){let o=t[r];if(typeof o=="number")e.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((u,f)=>f&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)e.push(o[0],0);else{for(;i.length<r;)i.push(Ht.empty);i[r]=Ht.of(o.slice(1)),e.push(o[0],i[r].length)}}}return new ye(e,i)}static createSet(t,e){return new ye(t,e)}}function Le(s,t,e,i=!1){if(t==0&&e<=0)return;let r=s.length-2;r>=0&&e<=0&&e==s[r+1]?s[r]+=t:r>=0&&t==0&&s[r]==0?s[r+1]+=e:i?(s[r]+=t,s[r+1]+=e):s.push(t,e)}function yl(s,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<s.length)s[s.length-1]=s[s.length-1].append(e);else{for(;s.length<i;)s.push(Ht.empty);s.push(e)}}function dd(s,t,e){let i=s.inserted;for(let r=0,o=0,u=0;u<s.sections.length;){let f=s.sections[u++],h=s.sections[u++];if(h<0)r+=f,o+=f;else{let m=r,g=o,y=Ht.empty;for(;m+=f,g+=h,h&&i&&(y=y.append(i[u-2>>1])),!(e||u==s.sections.length||s.sections[u+1]<0);)f=s.sections[u++],h=s.sections[u++];t(r,m,o,g,y),r=m,o=g}}}function md(s,t,e,i=!1){let r=[],o=i?[]:null,u=new Oa(s),f=new Oa(t);for(let h=-1;;){if(u.done&&f.len||f.done&&u.len)throw new Error("Mismatched change set lengths");if(u.ins==-1&&f.ins==-1){let m=Math.min(u.len,f.len);Le(r,m,-1),u.forward(m),f.forward(m)}else if(f.ins>=0&&(u.ins<0||h==u.i||u.off==0&&(f.len<u.len||f.len==u.len&&!e))){let m=f.len;for(Le(r,f.ins,-1);m;){let g=Math.min(u.len,m);u.ins>=0&&h<u.i&&u.len<=g&&(Le(r,0,u.ins),o&&yl(o,r,u.text),h=u.i),u.forward(g),m-=g}f.next()}else if(u.ins>=0){let m=0,g=u.len;for(;g;)if(f.ins==-1){let y=Math.min(g,f.len);m+=y,g-=y,f.forward(y)}else if(f.ins==0&&f.len<g)g-=f.len,f.next();else break;Le(r,m,h<u.i?u.ins:0),o&&h<u.i&&yl(o,r,u.text),h=u.i,u.forward(u.len-g)}else{if(u.done&&f.done)return o?ye.createSet(r,o):mi.create(r);throw new Error("Mismatched change set lengths")}}}function xv(s,t,e=!1){let i=[],r=e?[]:null,o=new Oa(s),u=new Oa(t);for(let f=!1;;){if(o.done&&u.done)return r?ye.createSet(i,r):mi.create(i);if(o.ins==0)Le(i,o.len,0,f),o.next();else if(u.len==0&&!u.done)Le(i,0,u.ins,f),r&&yl(r,i,u.text),u.next();else{if(o.done||u.done)throw new Error("Mismatched change set lengths");{let h=Math.min(o.len2,u.len),m=i.length;if(o.ins==-1){let g=u.ins==-1?-1:u.off?0:u.ins;Le(i,h,g,f),r&&g&&yl(r,i,u.text)}else u.ins==-1?(Le(i,o.off?0:o.len,h,f),r&&yl(r,i,o.textBit(h))):(Le(i,o.off?0:o.len,u.off?0:u.ins,f),r&&!u.off&&yl(r,i,u.text));f=(o.ins>h||u.ins>=0&&u.len>h)&&(f||i.length>m),o.forward2(h),u.forward(h)}}}}class Oa{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Ht.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?Ht.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class es{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let i,r;return this.empty?i=r=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new es(i,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Q.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Q.range(this.anchor,i)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Q.range(t.anchor,t.head)}static create(t,e,i){return new es(t,e,i)}}class Q{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:Q.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Q([this.main],0)}addRange(t,e=!0){return Q.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,Q.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Q(t.ranges.map(e=>es.fromJSON(e)),t.main)}static single(t,e=t){return new Q([Q.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<t.length;r++){let o=t[r];if(o.empty?o.from<=i:o.from<i)return Q.normalized(t.slice(),e);i=o.to}return new Q(t,e)}static cursor(t,e=0,i,r){return es.create(t,t,(e==0?0:e<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(t,e,i,r){let o=(i??16777215)<<6|(r==null?7:Math.min(6,r));return e<t?es.create(e,t,48|o):es.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let i=t[e];t.sort((r,o)=>r.from-o.from),e=t.indexOf(i);for(let r=1;r<t.length;r++){let o=t[r],u=t[r-1];if(o.empty?o.from<=u.to:o.from<u.to){let f=u.from,h=Math.max(o.to,u.to);r<=e&&e--,t.splice(--r,2,o.anchor>o.head?Q.range(h,f):Q.range(f,h))}}return new Q(t,e)}}function Sv(s,t){for(let e of s.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let lm=0;class lt{constructor(t,e,i,r,o){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=r,this.id=lm++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new lt(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:sm),!!t.static,t.enables)}of(t){return new Eu([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eu(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eu(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}}function sm(s,t){return s==t||s.length==t.length&&s.every((e,i)=>e===t[i])}class Eu{constructor(t,e,i,r){this.dependencies=t,this.facet=e,this.type=i,this.value=r,this.id=lm++}dynamicSlot(t){var e;let i=this.value,r=this.facet.compareInput,o=this.id,u=t[o]>>1,f=this.type==2,h=!1,m=!1,g=[];for(let y of this.dependencies)y=="doc"?h=!0:y=="selection"?m=!0:(((e=t[y.id])!==null&&e!==void 0?e:1)&1)==0&&g.push(t[y.id]);return{create(y){return y.values[u]=i(y),1},update(y,b){if(h&&b.docChanged||m&&(b.docChanged||b.selection)||pd(y,g)){let S=i(y);if(f?!j1(S,y.values[u],r):!r(S,y.values[u]))return y.values[u]=S,1}return 0},reconfigure:(y,b)=>{let S,k=b.config.address[o];if(k!=null){let w=qu(b,k);if(this.dependencies.every(E=>E instanceof lt?b.facet(E)===y.facet(E):E instanceof Ln?b.field(E,!1)==y.field(E,!1):!0)||(f?j1(S=i(y),w,r):r(S=i(y),w)))return y.values[u]=w,0}else S=i(y);return y.values[u]=S,1}}}}function j1(s,t,e){if(s.length!=t.length)return!1;for(let i=0;i<s.length;i++)if(!e(s[i],t[i]))return!1;return!0}function pd(s,t){let e=!1;for(let i of t)Aa(s,i)&1&&(e=!0);return e}function cw(s,t,e){let i=e.map(h=>s[h.id]),r=e.map(h=>h.type),o=i.filter(h=>!(h&1)),u=s[t.id]>>1;function f(h){let m=[];for(let g=0;g<i.length;g++){let y=qu(h,i[g]);if(r[g]==2)for(let b of y)m.push(b);else m.push(y)}return t.combine(m)}return{create(h){for(let m of i)Aa(h,m);return h.values[u]=f(h),1},update(h,m){if(!pd(h,o))return 0;let g=f(h);return t.compare(g,h.values[u])?0:(h.values[u]=g,1)},reconfigure(h,m){let g=pd(h,i),y=m.config.facets[t.id],b=m.facet(t);if(y&&!g&&sm(e,y))return h.values[u]=b,0;let S=f(h);return t.compare(S,b)?(h.values[u]=b,0):(h.values[u]=S,1)}}}const fu=lt.define({static:!0});class Ln{constructor(t,e,i,r,o){this.id=t,this.createF=e,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(t){let e=new Ln(lm++,t.create,t.update,t.compare||((i,r)=>i===r),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(fu).find(i=>i.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,r)=>{let o=i.values[e],u=this.updateF(o,r);return this.compareF(o,u)?0:(i.values[e]=u,1)},reconfigure:(i,r)=>{let o=i.facet(fu),u=r.facet(fu),f;return(f=o.find(h=>h.field==this))&&f!=u.find(h=>h.field==this)?(i.values[e]=f.create(i),1):r.config.address[this.id]!=null?(i.values[e]=r.field(this),0):(i.values[e]=this.create(i),1)}}}init(t){return[this,fu.of({field:this,create:t})]}get extension(){return this}}const ts={lowest:4,low:3,default:2,high:1,highest:0};function ma(s){return t=>new kv(t,s)}const ac={highest:ma(ts.highest),high:ma(ts.high),default:ma(ts.default),low:ma(ts.low),lowest:ma(ts.lowest)};class kv{constructor(t,e){this.inner=t,this.prec=e}}class qa{of(t){return new gd(this,t)}reconfigure(t){return qa.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class gd{constructor(t,e){this.compartment=t,this.inner=e}}class Uu{constructor(t,e,i,r,o,u){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let r=[],o=Object.create(null),u=new Map;for(let b of fw(t,e,u))b instanceof Ln?r.push(b):(o[b.facet.id]||(o[b.facet.id]=[])).push(b);let f=Object.create(null),h=[],m=[];for(let b of r)f[b.id]=m.length<<1,m.push(S=>b.slot(S));let g=i?.config.facets;for(let b in o){let S=o[b],k=S[0].facet,w=g&&g[b]||[];if(S.every(E=>E.type==0))if(f[k.id]=h.length<<1|1,sm(w,S))h.push(i.facet(k));else{let E=k.combine(S.map(N=>N.value));h.push(i&&k.compare(E,i.facet(k))?i.facet(k):E)}else{for(let E of S)E.type==0?(f[E.id]=h.length<<1|1,h.push(E.value)):(f[E.id]=m.length<<1,m.push(N=>E.dynamicSlot(N)));f[k.id]=m.length<<1,m.push(E=>cw(E,k,S))}}let y=m.map(b=>b(f));return new Uu(t,u,y,f,h,o)}}function fw(s,t,e){let i=[[],[],[],[],[]],r=new Map;function o(u,f){let h=r.get(u);if(h!=null){if(h<=f)return;let m=i[h].indexOf(u);m>-1&&i[h].splice(m,1),u instanceof gd&&e.delete(u.compartment)}if(r.set(u,f),Array.isArray(u))for(let m of u)o(m,f);else if(u instanceof gd){if(e.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let m=t.get(u.compartment)||u.inner;e.set(u.compartment,m),o(m,f)}else if(u instanceof kv)o(u.inner,u.prec);else if(u instanceof Ln)i[f].push(u),u.provides&&o(u.provides,f);else if(u instanceof Eu)i[f].push(u),u.facet.extensions&&o(u.facet.extensions,ts.default);else{let m=u.extension;if(!m)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(m,f)}}return o(s,ts.default),i.reduce((u,f)=>u.concat(f))}function Aa(s,t){if(t&1)return 2;let e=t>>1,i=s.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;s.status[e]=4;let r=s.computeSlot(s,s.config.dynamicSlots[e]);return s.status[e]=2|r}function qu(s,t){return t&1?s.config.staticValues[t>>1]:s.values[t>>1]}const wv=lt.define(),yd=lt.define({combine:s=>s.some(t=>t),static:!0}),Av=lt.define({combine:s=>s.length?s[0]:void 0,static:!0}),Cv=lt.define(),Mv=lt.define(),Tv=lt.define(),Ov=lt.define({combine:s=>s.length?s[0]:!1});class Ml{constructor(t,e){this.type=t,this.value=e}static define(){return new hw}}class hw{of(t){return new Ml(this,t)}}class dw{constructor(t){this.map=t}of(t){return new It(this,t)}}class It{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new It(this.type,e)}is(t){return this.type==t}static define(t={}){return new dw(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let r of t){let o=r.map(e);o&&i.push(o)}return i}}It.reconfigure=It.define();It.appendConfig=It.define();class ve{constructor(t,e,i,r,o,u){this.startState=t,this.changes=e,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=u,this._doc=null,this._state=null,i&&Sv(i,e.newLength),o.some(f=>f.type==ve.time)||(this.annotations=o.concat(ve.time.of(Date.now())))}static create(t,e,i,r,o,u){return new ve(t,e,i,r,o,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(ve.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}ve.time=Ml.define();ve.userEvent=Ml.define();ve.addToHistory=Ml.define();ve.remote=Ml.define();function mw(s,t){let e=[];for(let i=0,r=0;;){let o,u;if(i<s.length&&(r==t.length||t[r]>=s[i]))o=s[i++],u=s[i++];else if(r<t.length)o=t[r++],u=t[r++];else return e;!e.length||e[e.length-1]<o?e.push(o,u):e[e.length-1]<u&&(e[e.length-1]=u)}}function Ev(s,t,e){var i;let r,o,u;return e?(r=t.changes,o=ye.empty(t.changes.length),u=s.changes.compose(t.changes)):(r=t.changes.map(s.changes),o=s.changes.mapDesc(t.changes,!0),u=s.changes.compose(r)),{changes:u,selection:t.selection?t.selection.map(o):(i=s.selection)===null||i===void 0?void 0:i.map(r),effects:It.mapEffects(s.effects,r).concat(It.mapEffects(t.effects,o)),annotations:s.annotations.length?s.annotations.concat(t.annotations):t.annotations,scrollIntoView:s.scrollIntoView||t.scrollIntoView}}function vd(s,t,e){let i=t.selection,r=ir(t.annotations);return t.userEvent&&(r=r.concat(ve.userEvent.of(t.userEvent))),{changes:t.changes instanceof ye?t.changes:ye.of(t.changes||[],e,s.facet(Av)),selection:i&&(i instanceof Q?i:Q.single(i.anchor,i.head)),effects:ir(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function Dv(s,t,e){let i=vd(s,t.length?t[0]:{},s.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(e=!1);let u=!!t[o].sequential;i=Ev(i,vd(s,t[o],u?i.changes.newLength:s.doc.length),u)}let r=ve.create(s,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return gw(e?pw(r):r)}function pw(s){let t=s.startState,e=!0;for(let r of t.facet(Cv)){let o=r(s);if(o===!1){e=!1;break}Array.isArray(o)&&(e=e===!0?o:mw(e,o))}if(e!==!0){let r,o;if(e===!1)o=s.changes.invertedDesc,r=ye.empty(t.doc.length);else{let u=s.changes.filter(e);r=u.changes,o=u.filtered.mapDesc(u.changes).invertedDesc}s=ve.create(t,r,s.selection&&s.selection.map(o),It.mapEffects(s.effects,o),s.annotations,s.scrollIntoView)}let i=t.facet(Mv);for(let r=i.length-1;r>=0;r--){let o=i[r](s);o instanceof ve?s=o:Array.isArray(o)&&o.length==1&&o[0]instanceof ve?s=o[0]:s=Dv(t,ir(o),!1)}return s}function gw(s){let t=s.startState,e=t.facet(Tv),i=s;for(let r=e.length-1;r>=0;r--){let o=e[r](s);o&&Object.keys(o).length&&(i=Ev(i,vd(t,o,s.changes.newLength),!0))}return i==s?s:ve.create(t,s.changes,s.selection,i.effects,i.annotations,i.scrollIntoView)}const yw=[];function ir(s){return s==null?yw:Array.isArray(s)?s:[s]}var Nn=(function(s){return s[s.Word=0]="Word",s[s.Space=1]="Space",s[s.Other=2]="Other",s})(Nn||(Nn={}));const vw=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let bd;try{bd=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function bw(s){if(bd)return bd.test(s);for(let t=0;t<s.length;t++){let e=s[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||vw.test(e)))return!0}return!1}function xw(s){return t=>{if(!/\S/.test(t))return Nn.Space;if(bw(t))return Nn.Word;for(let e=0;e<s.length;e++)if(t.indexOf(s[e])>-1)return Nn.Word;return Nn.Other}}class jt{constructor(t,e,i,r,o,u){this.config=t,this.doc=e,this.selection=i,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=o,u&&(u._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)Aa(this,f<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return Aa(this,i),qu(this,i)}update(...t){return Dv(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:r}=e;for(let f of t.effects)f.is(qa.reconfigure)?(e&&(r=new Map,e.compartments.forEach((h,m)=>r.set(m,h)),e=null),r.set(f.value.compartment,f.value.extension)):f.is(It.reconfigure)?(e=null,i=f.value):f.is(It.appendConfig)&&(e=null,i=ir(i).concat(f.value));let o;e?o=t.startState.values.slice():(e=Uu.resolve(i,r,this),o=new jt(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(h,m)=>m.reconfigure(h,this),null).values);let u=t.startState.facet(yd)?t.newSelection:t.newSelection.asSingle();new jt(e,t.newDoc,u,o,(f,h)=>h.update(f,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Q.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),r=this.changes(i.changes),o=[i.range],u=ir(i.effects);for(let f=1;f<e.ranges.length;f++){let h=t(e.ranges[f]),m=this.changes(h.changes),g=m.map(r);for(let b=0;b<f;b++)o[b]=o[b].map(g);let y=r.mapDesc(m,!0);o.push(h.range.map(y)),r=r.compose(g),u=It.mapEffects(u,g).concat(It.mapEffects(ir(h.effects),y))}return{changes:r,selection:Q.create(o,e.mainIndex),effects:u}}changes(t=[]){return t instanceof ye?t:ye.of(t,this.doc.length,this.facet(jt.lineSeparator))}toText(t){return Ht.of(t.split(this.facet(jt.lineSeparator)||hd))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(Aa(this,e),qu(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let r=t[i];r instanceof Ln&&this.config.address[r.id]!=null&&(e[i]=r.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(t,o)){let u=i[o],f=t[o];r.push(u.init(h=>u.spec.fromJSON(f,h)))}}return jt.create({doc:t.doc,selection:Q.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=Uu.resolve(t.extensions||[],new Map),i=t.doc instanceof Ht?t.doc:Ht.of((t.doc||"").split(e.staticFacet(jt.lineSeparator)||hd)),r=t.selection?t.selection instanceof Q?t.selection:Q.single(t.selection.anchor,t.selection.head):Q.single(0);return Sv(r,i.length),e.staticFacet(yd)||(r=r.asSingle()),new jt(e,i,r,e.dynamicSlots.map(()=>null),(o,u)=>u.create(o),null)}get tabSize(){return this.facet(jt.tabSize)}get lineBreak(){return this.facet(jt.lineSeparator)||`
`}get readOnly(){return this.facet(Ov)}phrase(t,...e){for(let i of this.facet(jt.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>e.length?i:e[o-1]})),t}languageDataAt(t,e,i=-1){let r=[];for(let o of this.facet(wv))for(let u of o(this,e,i))Object.prototype.hasOwnProperty.call(u,t)&&r.push(u[t]);return r}charCategorizer(t){return xw(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:r}=this.doc.lineAt(t),o=this.charCategorizer(t),u=t-i,f=t-i;for(;u>0;){let h=Ne(e,u,!1);if(o(e.slice(h,u))!=Nn.Word)break;u=h}for(;f<r;){let h=Ne(e,f);if(o(e.slice(f,h))!=Nn.Word)break;f=h}return u==f?null:Q.range(u+i,f+i)}}jt.allowMultipleSelections=yd;jt.tabSize=lt.define({combine:s=>s.length?s[0]:4});jt.lineSeparator=Av;jt.readOnly=Ov;jt.phrases=lt.define({compare(s,t){let e=Object.keys(s),i=Object.keys(t);return e.length==i.length&&e.every(r=>s[r]==t[r])}});jt.languageData=wv;jt.changeFilter=Cv;jt.transactionFilter=Mv;jt.transactionExtender=Tv;qa.reconfigure=It.define();function mr(s,t,e={}){let i={};for(let r of s)for(let o of Object.keys(r)){let u=r[o],f=i[o];if(f===void 0)i[o]=u;else if(!(f===u||u===void 0))if(Object.hasOwnProperty.call(e,o))i[o]=e[o](f,u);else throw new Error("Config merge conflict for field "+o)}for(let r in t)i[r]===void 0&&(i[r]=t[r]);return i}class xl{eq(t){return this==t}range(t,e=t){return xd.create(t,e,this)}}xl.prototype.startSide=xl.prototype.endSide=0;xl.prototype.point=!1;xl.prototype.mapMode=ln.TrackDel;let xd=class Nv{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new Nv(t,e,i)}};function Sd(s,t){return s.from-t.from||s.value.startSide-t.value.startSide}class rm{constructor(t,e,i,r){this.from=t,this.to=e,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,r=0){let o=i?this.to:this.from;for(let u=r,f=o.length;;){if(u==f)return u;let h=u+f>>1,m=o[h]-t||(i?this.value[h].endSide:this.value[h].startSide)-e;if(h==u)return m>=0?u:f;m>=0?f=h:u=h+1}}between(t,e,i,r){for(let o=this.findIndex(e,-1e9,!0),u=this.findIndex(i,1e9,!1,o);o<u;o++)if(r(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,e){let i=[],r=[],o=[],u=-1,f=-1;for(let h=0;h<this.value.length;h++){let m=this.value[h],g=this.from[h]+t,y=this.to[h]+t,b,S;if(g==y){let k=e.mapPos(g,m.startSide,m.mapMode);if(k==null||(b=S=k,m.startSide!=m.endSide&&(S=e.mapPos(g,m.endSide),S<b)))continue}else if(b=e.mapPos(g,m.startSide),S=e.mapPos(y,m.endSide),b>S||b==S&&m.startSide>0&&m.endSide<=0)continue;(S-b||m.endSide-m.startSide)<0||(u<0&&(u=b),m.point&&(f=Math.max(f,S-b)),i.push(m),r.push(b-u),o.push(S-u))}return{mapped:i.length?new rm(r,o,i,f):null,pos:u}}}class Nt{constructor(t,e,i,r){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=r}static create(t,e,i,r){return new Nt(t,e,i,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=t,u=t.filter;if(e.length==0&&!u)return this;if(i&&(e=e.slice().sort(Sd)),this.isEmpty)return e.length?Nt.of(e):this;let f=new Bv(this,null,-1).goto(0),h=0,m=[],g=new ss;for(;f.value||h<e.length;)if(h<e.length&&(f.from-e[h].from||f.startSide-e[h].value.startSide)>=0){let y=e[h++];g.addInner(y.from,y.to,y.value)||m.push(y)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(h==e.length||this.chunkEnd(f.chunkIndex)<e[h].from)&&(!u||r>this.chunkEnd(f.chunkIndex)||o<this.chunkPos[f.chunkIndex])&&g.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!u||r>f.to||o<f.from||u(f.from,f.to,f.value))&&(g.addInner(f.from,f.to,f.value)||m.push(xd.create(f.from,f.to,f.value))),f.next());return g.finishInner(this.nextLayer.isEmpty&&!m.length?Nt.empty:this.nextLayer.update({add:m,filter:u,filterFrom:r,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],r=-1;for(let u=0;u<this.chunk.length;u++){let f=this.chunkPos[u],h=this.chunk[u],m=t.touchesRange(f,f+h.length);if(m===!1)r=Math.max(r,h.maxPoint),e.push(h),i.push(t.mapPos(f));else if(m===!0){let{mapped:g,pos:y}=h.map(f,t);g&&(r=Math.max(r,g.maxPoint),e.push(g),i.push(y))}}let o=this.nextLayer.map(t);return e.length==0?o:new Nt(i,e,o||Nt.empty,r)}between(t,e,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],u=this.chunk[r];if(e>=o&&t<=o+u.length&&u.between(o,t-o,e-o,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return Ea.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Ea.from(t).goto(e)}static compare(t,e,i,r,o=-1){let u=t.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=o),f=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=o),h=H1(u,f,i),m=new pa(u,h,o),g=new pa(f,h,o);i.iterGaps((y,b,S)=>U1(m,y,g,b,S,r)),i.empty&&i.length==0&&U1(m,0,g,0,0,r)}static eq(t,e,i=0,r){r==null&&(r=999999999);let o=t.filter(g=>!g.isEmpty&&e.indexOf(g)<0),u=e.filter(g=>!g.isEmpty&&t.indexOf(g)<0);if(o.length!=u.length)return!1;if(!o.length)return!0;let f=H1(o,u),h=new pa(o,f,0).goto(i),m=new pa(u,f,0).goto(i);for(;;){if(h.to!=m.to||!kd(h.active,m.active)||h.point&&(!m.point||!h.point.eq(m.point)))return!1;if(h.to>r)return!0;h.next(),m.next()}}static spans(t,e,i,r,o=-1){let u=new pa(t,null,o).goto(e),f=e,h=u.openStart;for(;;){let m=Math.min(u.to,i);if(u.point){let g=u.activeForPoint(u.to),y=u.pointFrom<e?g.length+1:u.point.startSide<0?g.length:Math.min(g.length,h);r.point(f,m,u.point,g,y,u.pointRank),h=Math.min(u.openEnd(m),g.length)}else m>f&&(r.span(f,m,u.active,h),h=u.openEnd(m));if(u.to>i)return h+(u.point&&u.to>i?1:0);f=u.to,u.next()}}static of(t,e=!1){let i=new ss;for(let r of t instanceof xd?[t]:e?Sw(t):t)i.add(r.from,r.to,r.value);return i.finish()}static join(t){if(!t.length)return Nt.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let r=t[i];r!=Nt.empty;r=r.nextLayer)e=new Nt(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}Nt.empty=new Nt([],[],null,-1);function Sw(s){if(s.length>1)for(let t=s[0],e=1;e<s.length;e++){let i=s[e];if(Sd(t,i)>0)return s.slice().sort(Sd);t=i}return s}Nt.empty.nextLayer=Nt.empty;class ss{finishChunk(t){this.chunks.push(new rm(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new ss)).add(t,e,i)}addInner(t,e,i){let r=t-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(Nt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=Nt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function H1(s,t,e){let i=new Map;for(let o of s)for(let u=0;u<o.chunk.length;u++)o.chunk[u].maxPoint<=0&&i.set(o.chunk[u],o.chunkPos[u]);let r=new Set;for(let o of t)for(let u=0;u<o.chunk.length;u++){let f=i.get(o.chunk[u]);f!=null&&(e?e.mapPos(f):f)==o.chunkPos[u]&&!e?.touchesRange(f,f+o.chunk[u].length)&&r.add(o.chunk[u])}return r}class Bv{constructor(t,e,i,r=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Ea{constructor(t){this.heap=t}static from(t,e=null,i=-1){let r=[];for(let o=0;o<t.length;o++)for(let u=t[o];!u.isEmpty;u=u.nextLayer)u.maxPoint>=i&&r.push(new Bv(u,e,i,o));return r.length==1?r[0]:new Ea(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)Uh(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)Uh(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Uh(this.heap,0)}}}function Uh(s,t){for(let e=s[t];;){let i=(t<<1)+1;if(i>=s.length)break;let r=s[i];if(i+1<s.length&&r.compare(s[i+1])>=0&&(r=s[i+1],i++),e.compare(r)<0)break;s[i]=e,s[t]=r,t=i}}class pa{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ea.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){hu(this.active,t),hu(this.activeTo,t),hu(this.activeRank,t),this.minActive=q1(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:r,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||r-this.activeTo[e])>0;)e++;du(this.active,e,i),du(this.activeTo,e,r),du(this.activeRank,e,o),t&&du(t,e,this.cursor.from),this.minActive=q1(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&hu(i,r)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function U1(s,t,e,i,r,o){s.goto(t),e.goto(i);let u=i+r,f=i,h=i-t;for(;;){let m=s.to+h-e.to,g=m||s.endSide-e.endSide,y=g<0?s.to+h:e.to,b=Math.min(y,u);if(s.point||e.point?s.point&&e.point&&(s.point==e.point||s.point.eq(e.point))&&kd(s.activeForPoint(s.to),e.activeForPoint(e.to))||o.comparePoint(f,b,s.point,e.point):b>f&&!kd(s.active,e.active)&&o.compareRange(f,b,s.active,e.active),y>u)break;(m||s.openEnd!=e.openEnd)&&o.boundChange&&o.boundChange(y),f=y,g<=0&&s.next(),g>=0&&e.next()}}function kd(s,t){if(s.length!=t.length)return!1;for(let e=0;e<s.length;e++)if(s[e]!=t[e]&&!s[e].eq(t[e]))return!1;return!0}function hu(s,t){for(let e=t,i=s.length-1;e<i;e++)s[e]=s[e+1];s.pop()}function du(s,t,e){for(let i=s.length-1;i>=t;i--)s[i+1]=s[i];s[t]=e}function q1(s,t){let e=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||s[r].endSide-s[e].endSide)<0&&(e=r,i=t[r]);return e}function pr(s,t,e=s.length){let i=0;for(let r=0;r<e&&r<s.length;)s.charCodeAt(r)==9?(i+=t-i%t,r++):(i++,r=Ne(s,r));return i}function wd(s,t,e,i){for(let r=0,o=0;;){if(o>=t)return r;if(r==s.length)break;o+=s.charCodeAt(r)==9?e-o%e:1,r=Ne(s,r)}return i===!0?-1:s.length}const Ad="",V1=typeof Symbol>"u"?"__"+Ad:Symbol.for(Ad),Cd=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Sl{constructor(t,e){this.rules=[];let{finish:i}=e||{};function r(u){return/^@/.test(u)?[u]:u.split(/,\s*/)}function o(u,f,h,m){let g=[],y=/^@(\w+)\b/.exec(u[0]),b=y&&y[1]=="keyframes";if(y&&f==null)return h.push(u[0]+";");for(let S in f){let k=f[S];if(/&/.test(S))o(S.split(/,\s*/).map(w=>u.map(E=>w.replace(/&/,E))).reduce((w,E)=>w.concat(E)),k,h);else if(k&&typeof k=="object"){if(!y)throw new RangeError("The value of a property ("+S+") should be a primitive value.");o(r(S),k,g,b)}else k!=null&&g.push(S.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+k+";")}(g.length||b)&&h.push((i&&!y&&!m?u.map(i):u).join(", ")+" {"+g.join(" ")+"}")}for(let u in t)o(r(u),t[u],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=Y1[V1]||1;return Y1[V1]=t+1,Ad+t.toString(36)}static mount(t,e,i){let r=t[Cd],o=i&&i.nonce;r?o&&r.setNonce(o):r=new kw(t,o),r.mount(Array.isArray(e)?e:[e],t)}}let G1=new Map;class kw{constructor(t,e){let i=t.ownerDocument||t,r=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let o=G1.get(i);if(o)return t[Cd]=o;this.sheet=new r.CSSStyleSheet,G1.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[Cd]=this}mount(t,e){let i=this.sheet,r=0,o=0;for(let u=0;u<t.length;u++){let f=t[u],h=this.modules.indexOf(f);if(h<o&&h>-1&&(this.modules.splice(h,1),o--,h=-1),h==-1){if(this.modules.splice(o++,0,f),i)for(let m=0;m<f.rules.length;m++)i.insertRule(f.rules[m],r++)}else{for(;o<h;)r+=this.modules[o++].rules.length;r+=f.rules.length,o++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let u="";for(let h=0;h<this.modules.length;h++)u+=this.modules[h].getRules()+`
`;this.styleTag.textContent=u;let f=e.head||e;this.styleTag.parentNode!=f&&f.insertBefore(this.styleTag,f.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var kl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Da={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ww=typeof navigator<"u"&&/Mac/.test(navigator.platform),Aw=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var De=0;De<10;De++)kl[48+De]=kl[96+De]=String(De);for(var De=1;De<=24;De++)kl[De+111]="F"+De;for(var De=65;De<=90;De++)kl[De]=String.fromCharCode(De+32),Da[De]=String.fromCharCode(De);for(var qh in kl)Da.hasOwnProperty(qh)||(Da[qh]=kl[qh]);function Cw(s){var t=ww&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||Aw&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",e=!t&&s.key||(s.shiftKey?Da:kl)[s.keyCode]||s.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}let Ge=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Md=typeof document<"u"?document:{documentElement:{style:{}}};const Td=/Edge\/(\d+)/.exec(Ge.userAgent),_v=/MSIE \d/.test(Ge.userAgent),Od=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ge.userAgent),oc=!!(_v||Od||Td),X1=!oc&&/gecko\/(\d+)/i.test(Ge.userAgent),Vh=!oc&&/Chrome\/(\d+)/.exec(Ge.userAgent),Mw="webkitFontSmoothing"in Md.documentElement.style,Ed=!oc&&/Apple Computer/.test(Ge.vendor),Q1=Ed&&(/Mobile\/\w+/.test(Ge.userAgent)||Ge.maxTouchPoints>2);var et={mac:Q1||/Mac/.test(Ge.platform),windows:/Win/.test(Ge.platform),linux:/Linux|X11/.test(Ge.platform),ie:oc,ie_version:_v?Md.documentMode||6:Od?+Od[1]:Td?+Td[1]:0,gecko:X1,gecko_version:X1?+(/Firefox\/(\d+)/.exec(Ge.userAgent)||[0,0])[1]:0,chrome:!!Vh,chrome_version:Vh?+Vh[1]:0,ios:Q1,android:/Android\b/.test(Ge.userAgent),webkit_version:Mw?+(/\bAppleWebKit\/(\d+)/.exec(Ge.userAgent)||[0,0])[1]:0,safari:Ed,safari_version:Ed?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ge.userAgent)||[0,0])[1]:0,tabSize:Md.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function am(s,t){for(let e in s)e=="class"&&t.class?t.class+=" "+s.class:e=="style"&&t.style?t.style+=";"+s.style:t[e]=s[e];return t}const Vu=Object.create(null);function om(s,t,e){if(s==t)return!0;s||(s=Vu),t||(t=Vu);let i=Object.keys(s),r=Object.keys(t);if(i.length-0!=r.length-0)return!1;for(let o of i)if(o!=e&&(r.indexOf(o)==-1||s[o]!==t[o]))return!1;return!0}function Tw(s,t){for(let e=s.attributes.length-1;e>=0;e--){let i=s.attributes[e].name;t[i]==null&&s.removeAttribute(i)}for(let e in t){let i=t[e];e=="style"?s.style.cssText=i:s.getAttribute(e)!=i&&s.setAttribute(e,i)}}function K1(s,t,e){let i=!1;if(t)for(let r in t)e&&r in e||(i=!0,r=="style"?s.style.cssText="":s.removeAttribute(r));if(e)for(let r in e)t&&t[r]==e[r]||(i=!0,r=="style"?s.style.cssText=e[r]:s.setAttribute(r,e[r]));return i}function Ow(s){let t=Object.create(null);for(let e=0;e<s.attributes.length;e++){let i=s.attributes[e];t[i.name]=i.value}return t}class Tl{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Be=(function(s){return s[s.Text=0]="Text",s[s.WidgetBefore=1]="WidgetBefore",s[s.WidgetAfter=2]="WidgetAfter",s[s.WidgetRange=3]="WidgetRange",s})(Be||(Be={}));class qt extends xl{constructor(t,e,i,r){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(t){return new Va(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new rs(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,r;if(t.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:u}=Rv(t,e);i=(o?e?-3e8:-1:5e8)-1,r=(u?e?2e8:1:-6e8)+1}return new rs(t,i,r,e,t.widget||null,!0)}static line(t){return new Ya(t)}static set(t,e=!1){return Nt.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}qt.none=Nt.empty;class Va extends qt{constructor(t){let{start:e,end:i}=Rv(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.attrs=t.class&&t.attributes?am(t.attributes,{class:t.class}):t.class?{class:t.class}:t.attributes||Vu}eq(t){return this==t||t instanceof Va&&this.tagName==t.tagName&&om(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Va.prototype.point=!1;class Ya extends qt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Ya&&this.spec.class==t.spec.class&&om(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Ya.prototype.mapMode=ln.TrackBefore;Ya.prototype.point=!0;class rs extends qt{constructor(t,e,i,r,o,u){super(e,i,o,t),this.block=r,this.isReplace=u,this.mapMode=r?e<=0?ln.TrackBefore:ln.TrackAfter:ln.TrackDel}get type(){return this.startSide!=this.endSide?Be.WidgetRange:this.startSide<=0?Be.WidgetBefore:Be.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof rs&&Ew(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}rs.prototype.point=!0;function Rv(s,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=s;return e==null&&(e=s.inclusive),i==null&&(i=s.inclusive),{start:e??t,end:i??t}}function Ew(s,t){return s==t||!!(s&&t&&s.compare(t))}function lr(s,t,e,i=0){let r=e.length-1;r>=0&&e[r]+i>=s?e[r]=Math.max(e[r],t):e.push(s,t)}class Na extends xl{constructor(t,e){super(),this.tagName=t,this.attributes=e}eq(t){return t==this||t instanceof Na&&this.tagName==t.tagName&&om(this.attributes,t.attributes)}static create(t){return new Na(t.tagName,t.attributes||Vu)}static set(t,e=!1){return Nt.of(t,e)}}Na.prototype.startSide=Na.prototype.endSide=-1;function Ba(s){let t;return s.nodeType==11?t=s.getSelection?s:s.ownerDocument:t=s,t.getSelection()}function Dd(s,t){return t?s==t||s.contains(t.nodeType!=1?t.parentNode:t):!1}function Du(s,t){if(!t.anchorNode)return!1;try{return Dd(s,t.anchorNode)}catch{return!1}}function Nu(s){return s.nodeType==3?_a(s,0,s.nodeValue.length).getClientRects():s.nodeType==1?s.getClientRects():[]}function Ca(s,t,e,i){return e?Z1(s,t,e,i,-1)||Z1(s,t,e,i,1):!1}function wl(s){for(var t=0;;t++)if(s=s.previousSibling,!s)return t}function Yu(s){return s.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(s.nodeName)}function Z1(s,t,e,i,r){for(;;){if(s==e&&t==i)return!0;if(t==(r<0?0:Ui(s))){if(s.nodeName=="DIV")return!1;let o=s.parentNode;if(!o||o.nodeType!=1)return!1;t=wl(s)+(r<0?0:1),s=o}else if(s.nodeType==1){if(s=s.childNodes[t+(r<0?-1:0)],s.nodeType==1&&s.contentEditable=="false")return!1;t=r<0?Ui(s):0}else return!1}}function Ui(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function Gu(s,t){let e=t?s.left:s.right;return{left:e,right:e,top:s.top,bottom:s.bottom}}function Dw(s){let t=s.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:s.innerWidth,top:0,bottom:s.innerHeight}}function zv(s,t){let e=t.width/s.offsetWidth,i=t.height/s.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-s.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.height-s.offsetHeight)<1)&&(i=1),{scaleX:e,scaleY:i}}function Nw(s,t,e,i,r,o,u,f){let h=s.ownerDocument,m=h.defaultView||window;for(let g=s,y=!1;g&&!y;)if(g.nodeType==1){let b,S=g==h.body,k=1,w=1;if(S)b=Dw(m);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(y=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let G=g.getBoundingClientRect();({scaleX:k,scaleY:w}=zv(g,G)),b={left:G.left,right:G.left+g.clientWidth*k,top:G.top,bottom:G.top+g.clientHeight*w}}let E=0,N=0;if(r=="nearest")t.top<b.top?(N=t.top-(b.top+u),e>0&&t.bottom>b.bottom+N&&(N=t.bottom-b.bottom+u)):t.bottom>b.bottom&&(N=t.bottom-b.bottom+u,e<0&&t.top-N<b.top&&(N=t.top-(b.top+u)));else{let G=t.bottom-t.top,J=b.bottom-b.top;N=(r=="center"&&G<=J?t.top+G/2-J/2:r=="start"||r=="center"&&e<0?t.top-u:t.bottom-J+u)-b.top}if(i=="nearest"?t.left<b.left?(E=t.left-(b.left+o),e>0&&t.right>b.right+E&&(E=t.right-b.right+o)):t.right>b.right&&(E=t.right-b.right+o,e<0&&t.left<b.left+E&&(E=t.left-(b.left+o))):E=(i=="center"?t.left+(t.right-t.left)/2-(b.right-b.left)/2:i=="start"==f?t.left-o:t.right-(b.right-b.left)+o)-b.left,E||N)if(S)m.scrollBy(E,N);else{let G=0,J=0;if(N){let st=g.scrollTop;g.scrollTop+=N/w,J=(g.scrollTop-st)*w}if(E){let st=g.scrollLeft;g.scrollLeft+=E/k,G=(g.scrollLeft-st)*k}t={left:t.left-G,top:t.top-J,right:t.right-G,bottom:t.bottom-J},G&&Math.abs(G-E)<1&&(i="nearest"),J&&Math.abs(J-N)<1&&(r="nearest")}if(S)break;(t.top<b.top||t.bottom>b.bottom||t.left<b.left||t.right>b.right)&&(t={left:Math.max(t.left,b.left),right:Math.min(t.right,b.right),top:Math.max(t.top,b.top),bottom:Math.min(t.bottom,b.bottom)}),g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function Bw(s){let t=s.ownerDocument,e,i;for(let r=s.parentNode;r&&!(r==t.body||e&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:e,y:i}}class _w{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?Ui(e):0),i,Math.min(t.focusOffset,i?Ui(i):0))}set(t,e,i,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=r}}let $l=null;et.safari&&et.safari_version>=26&&($l=!1);function Lv(s){if(s.setActive)return s.setActive();if($l)return s.focus($l);let t=[];for(let e=s;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(s.focus($l==null?{get preventScroll(){return $l={preventScroll:!0},!0}}:void 0),!$l){$l=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],o=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let J1;function _a(s,t,e=t){let i=J1||(J1=document.createRange());return i.setEnd(s,e),i.setStart(s,t),i}function sr(s,t,e,i){let r={key:t,code:t,keyCode:e,which:e,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,s.dispatchEvent(o);let u=new KeyboardEvent("keyup",r);return u.synthetic=!0,s.dispatchEvent(u),o.defaultPrevented||u.defaultPrevented}function Rw(s){for(;s;){if(s&&(s.nodeType==9||s.nodeType==11&&s.host))return s;s=s.assignedSlot||s.parentNode}return null}function zw(s,t){let e=t.focusNode,i=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=i)return!1;for(i=Math.min(i,Ui(e));;)if(i){if(e.nodeType!=1)return!1;let r=e.childNodes[i-1];r.contentEditable=="false"?i--:(e=r,i=Ui(e))}else{if(e==s)return!0;i=wl(e),e=e.parentNode}}function jv(s){return s.scrollTop>Math.max(1,s.scrollHeight-s.clientHeight-4)}function Hv(s,t){for(let e=s,i=t;;){if(e.nodeType==3&&i>0)return{node:e,offset:i};if(e.nodeType==1&&i>0){if(e.contentEditable=="false")return null;e=e.childNodes[i-1],i=Ui(e)}else if(e.parentNode&&!Yu(e))i=wl(e),e=e.parentNode;else return null}}function Uv(s,t){for(let e=s,i=t;;){if(e.nodeType==3&&i<e.nodeValue.length)return{node:e,offset:i};if(e.nodeType==1&&i<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[i],i=0}else if(e.parentNode&&!Yu(e))i=wl(e)+1,e=e.parentNode;else return null}}class Qn{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Qn(t.parentNode,wl(t),e)}static after(t,e){return new Qn(t.parentNode,wl(t)+1,e)}}var ne=(function(s){return s[s.LTR=0]="LTR",s[s.RTL=1]="RTL",s})(ne||(ne={}));const as=ne.LTR,um=ne.RTL;function qv(s){let t=[];for(let e=0;e<s.length;e++)t.push(1<<+s[e]);return t}const Lw=qv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),jw=qv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Nd=Object.create(null),si=[];for(let s of["()","[]","{}"]){let t=s.charCodeAt(0),e=s.charCodeAt(1);Nd[t]=e,Nd[e]=-t}function Vv(s){return s<=247?Lw[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?jw[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8204?256:64336<=s&&s<=65023?4:1}const Hw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Hi{get dir(){return this.level%2?um:as}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,r){let o=-1;for(let u=0;u<t.length;u++){let f=t[u];if(f.from<=e&&f.to>=e){if(f.level==i)return u;(o<0||(r!=0?r<0?f.from<e:f.to>e:t[o].level>f.level))&&(o=u)}}if(o<0)throw new RangeError("Index out of range");return o}}function Yv(s,t){if(s.length!=t.length)return!1;for(let e=0;e<s.length;e++){let i=s[e],r=t[e];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!Yv(i.inner,r.inner))return!1}return!0}const Jt=[];function Uw(s,t,e,i,r){for(let o=0;o<=i.length;o++){let u=o?i[o-1].to:t,f=o<i.length?i[o].from:e,h=o?256:r;for(let m=u,g=h,y=h;m<f;m++){let b=Vv(s.charCodeAt(m));b==512?b=g:b==8&&y==4&&(b=16),Jt[m]=b==4?2:b,b&7&&(y=b),g=b}for(let m=u,g=h,y=h;m<f;m++){let b=Jt[m];if(b==128)m<f-1&&g==Jt[m+1]&&g&24?b=Jt[m]=g:Jt[m]=256;else if(b==64){let S=m+1;for(;S<f&&Jt[S]==64;)S++;let k=m&&g==8||S<e&&Jt[S]==8?y==1?1:8:256;for(let w=m;w<S;w++)Jt[w]=k;m=S-1}else b==8&&y==1&&(Jt[m]=1);g=b,b&7&&(y=b)}}}function qw(s,t,e,i,r){let o=r==1?2:1;for(let u=0,f=0,h=0;u<=i.length;u++){let m=u?i[u-1].to:t,g=u<i.length?i[u].from:e;for(let y=m,b,S,k;y<g;y++)if(S=Nd[b=s.charCodeAt(y)])if(S<0){for(let w=f-3;w>=0;w-=3)if(si[w+1]==-S){let E=si[w+2],N=E&2?r:E&4?E&1?o:r:0;N&&(Jt[y]=Jt[si[w]]=N),f=w;break}}else{if(si.length==189)break;si[f++]=y,si[f++]=b,si[f++]=h}else if((k=Jt[y])==2||k==1){let w=k==r;h=w?0:1;for(let E=f-3;E>=0;E-=3){let N=si[E+2];if(N&2)break;if(w)si[E+2]|=2;else{if(N&4)break;si[E+2]|=4}}}}}function Vw(s,t,e,i){for(let r=0,o=i;r<=e.length;r++){let u=r?e[r-1].to:s,f=r<e.length?e[r].from:t;for(let h=u;h<f;){let m=Jt[h];if(m==256){let g=h+1;for(;;)if(g==f){if(r==e.length)break;g=e[r++].to,f=r<e.length?e[r].from:t}else if(Jt[g]==256)g++;else break;let y=o==1,b=(g<t?Jt[g]:i)==1,S=y==b?y?1:2:i;for(let k=g,w=r,E=w?e[w-1].to:s;k>h;)k==E&&(k=e[--w].from,E=w?e[w-1].to:s),Jt[--k]=S;h=g}else o=m,h++}}}function Bd(s,t,e,i,r,o,u){let f=i%2?2:1;if(i%2==r%2)for(let h=t,m=0;h<e;){let g=!0,y=!1;if(m==o.length||h<o[m].from){let w=Jt[h];w!=f&&(g=!1,y=w==16)}let b=!g&&f==1?[]:null,S=g?i:i+1,k=h;t:for(;;)if(m<o.length&&k==o[m].from){if(y)break t;let w=o[m];if(!g)for(let E=w.to,N=m+1;;){if(E==e)break t;if(N<o.length&&o[N].from==E)E=o[N++].to;else{if(Jt[E]==f)break t;break}}if(m++,b)b.push(w);else{w.from>h&&u.push(new Hi(h,w.from,S));let E=w.direction==as!=!(S%2);_d(s,E?i+1:i,r,w.inner,w.from,w.to,u),h=w.to}k=w.to}else{if(k==e||(g?Jt[k]!=f:Jt[k]==f))break;k++}b?Bd(s,h,k,i+1,r,b,u):h<k&&u.push(new Hi(h,k,S)),h=k}else for(let h=e,m=o.length;h>t;){let g=!0,y=!1;if(!m||h>o[m-1].to){let w=Jt[h-1];w!=f&&(g=!1,y=w==16)}let b=!g&&f==1?[]:null,S=g?i:i+1,k=h;t:for(;;)if(m&&k==o[m-1].to){if(y)break t;let w=o[--m];if(!g)for(let E=w.from,N=m;;){if(E==t)break t;if(N&&o[N-1].to==E)E=o[--N].from;else{if(Jt[E-1]==f)break t;break}}if(b)b.push(w);else{w.to<h&&u.push(new Hi(w.to,h,S));let E=w.direction==as!=!(S%2);_d(s,E?i+1:i,r,w.inner,w.from,w.to,u),h=w.from}k=w.from}else{if(k==t||(g?Jt[k-1]!=f:Jt[k-1]==f))break;k--}b?Bd(s,k,h,i+1,r,b,u):k<h&&u.push(new Hi(k,h,S)),h=k}}function _d(s,t,e,i,r,o,u){let f=t%2?2:1;Uw(s,r,o,i,f),qw(s,r,o,i,f),Vw(r,o,i,f),Bd(s,r,o,t,e,i,u)}function Yw(s,t,e){if(!s)return[new Hi(0,0,t==um?1:0)];if(t==as&&!e.length&&!Hw.test(s))return Gv(s.length);if(e.length)for(;s.length>Jt.length;)Jt[Jt.length]=256;let i=[],r=t==as?0:1;return _d(s,r,r,e,0,s.length,i),i}function Gv(s){return[new Hi(0,s,0)]}let Xv="";function Gw(s,t,e,i,r){var o;let u=i.head-s.from,f=Hi.find(t,u,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc),h=t[f],m=h.side(r,e);if(u==m){let b=f+=r?1:-1;if(b<0||b>=t.length)return null;h=t[f=b],u=h.side(!r,e),m=h.side(r,e)}let g=Ne(s.text,u,h.forward(r,e));(g<h.from||g>h.to)&&(g=m),Xv=s.text.slice(Math.min(u,g),Math.max(u,g));let y=f==(r?t.length-1:0)?null:t[f+(r?1:-1)];return y&&g==m&&y.level+(r?0:1)<h.level?Q.cursor(y.side(!r,e)+s.from,y.forward(r,e)?1:-1,y.level):Q.cursor(g+s.from,h.forward(r,e)?-1:1,h.level)}function Xw(s,t,e){for(let i=t;i<e;i++){let r=Vv(s.charCodeAt(i));if(r==1)return as;if(r==2||r==4)return um}return as}const Qv=lt.define(),Kv=lt.define(),Zv=lt.define(),Jv=lt.define(),Rd=lt.define(),Wv=lt.define(),Fv=lt.define(),cm=lt.define(),fm=lt.define(),Iv=lt.define({combine:s=>s.some(t=>t)}),Pv=lt.define({combine:s=>s.some(t=>t)}),$v=lt.define();class rr{constructor(t,e="nearest",i="nearest",r=5,o=5,u=!1){this.range=t,this.y=e,this.x=i,this.yMargin=r,this.xMargin=o,this.isSnapshot=u}map(t){return t.empty?this:new rr(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new rr(Q.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const mu=It.define({map:(s,t)=>s.map(t)}),tb=It.define();function fi(s,t,e){let i=s.facet(Jv);i.length?i[0](t):window.onerror&&window.onerror(String(t),e,void 0,void 0,t)||(e?console.error(e+":",t):console.error(t))}const ji=lt.define({combine:s=>s.length?s[0]:!0});let Qw=0;const tr=lt.define({combine(s){return s.filter((t,e)=>{for(let i=0;i<e;i++)if(s[i].plugin==t.plugin)return!1;return!0})}});class an{constructor(t,e,i,r,o){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=r,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(tr.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(tr.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:i,eventObservers:r,provide:o,decorations:u}=e||{};return new an(Qw++,t,i,r,f=>{let h=[];return u&&h.push(Ra.of(m=>{let g=m.plugin(f);return g?u(g):qt.none})),o&&h.push(o(f)),h})}static fromClass(t,e){return an.define((i,r)=>new t(i,r),e)}}class Yh{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(fi(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){fi(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){fi(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const eb=lt.define(),hm=lt.define(),Ra=lt.define(),nb=lt.define(),ib=lt.define(),Ga=lt.define(),lb=lt.define();function W1(s,t){let e=s.state.facet(lb);if(!e.length)return e;let i=e.map(o=>o instanceof Function?o(s):o),r=[];return Nt.spans(i,t.from,t.to,{point(){},span(o,u,f,h){let m=o-t.from,g=u-t.from,y=r;for(let b=f.length-1;b>=0;b--,h--){let S=f[b].spec.bidiIsolate,k;if(S==null&&(S=Xw(t.text,m,g)),h>0&&y.length&&(k=y[y.length-1]).to==m&&k.direction==S)k.to=g,y=k.inner;else{let w={from:m,to:g,direction:S,inner:[]};y.push(w),y=w.inner}}}}),r}const sb=lt.define();function rb(s){let t=0,e=0,i=0,r=0;for(let o of s.state.facet(sb)){let u=o(s);u&&(u.left!=null&&(t=Math.max(t,u.left)),u.right!=null&&(e=Math.max(e,u.right)),u.top!=null&&(i=Math.max(i,u.top)),u.bottom!=null&&(r=Math.max(r,u.bottom)))}return{left:t,right:e,top:i,bottom:r}}const ba=lt.define();class Bn{constructor(t,e,i,r){this.fromA=t,this.toA=e,this.fromB=i,this.toB=r}join(t){return new Bn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let r=0,o=0,u=0;;){let f=r<t.length?t[r].fromB:1e9,h=o<e.length?e[o]:1e9,m=Math.min(f,h);if(m==1e9)break;let g=m+u,y=m,b=g;for(;;)if(o<e.length&&e[o]<=y){let S=e[o+1];o+=2,y=Math.max(y,S);for(let k=r;k<t.length&&t[k].fromB<=y;k++)u=t[k].toA-t[k].toB;b=Math.max(b,S+u)}else if(r<t.length&&t[r].fromB<=y){let S=t[r++];y=Math.max(y,S.toB),b=Math.max(b,S.toA),u=S.toA-S.toB}else break;i.push(new Bn(g,b,m,y))}return i}}class Xu{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=ye.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,u,f,h)=>r.push(new Bn(o,u,f,h))),this.changedRanges=r}static create(t,e,i){return new Xu(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Kw=[];class be{constructor(t,e,i=0){this.dom=t,this.length=e,this.flags=i,this.parent=null,t.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Kw}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(t){if(this.flags|=2,this.flags&4){this.flags&=-5;let e=this.domAttrs;e&&Tw(this.dom,e)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(t){this.dom=t,t.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t,e=this.posAtStart){let i=e;for(let r of this.children){if(r==t)return i;i+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}covers(t){return!0}coordsIn(t,e){return null}domPosFor(t,e){let i=wl(this.dom),r=this.length?t>0:e>0;return new Qn(this.parent.dom,i+(r?1:0),t==0||t==this.length)}markDirty(t){this.flags&=-3,t&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let t=this;t;t=t.parent)if(t instanceof cc)return t;return null}static get(t){return t.cmTile}}class uc extends be{constructor(t){super(t,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(t){this.children.push(t),t.parent=this}sync(t){if(this.flags&2)return;super.sync(t);let e=this.dom,i=null,r,o=t?.node==e?t:null,u=0;for(let f of this.children){if(f.sync(t),u+=f.length+f.breakAfter,r=i?i.nextSibling:e.firstChild,o&&r!=f.dom&&(o.written=!0),f.dom.parentNode==e)for(;r&&r!=f.dom;)r=F1(r);else e.insertBefore(f.dom,r);i=f.dom}for(r=i?i.nextSibling:e.firstChild,o&&r&&(o.written=!0);r;)r=F1(r);this.length=u}}function F1(s){let t=s.nextSibling;return s.parentNode.removeChild(s),t}class cc extends uc{constructor(t,e){super(e),this.view=t}owns(t){for(;t;t=t.parent)if(t==this)return!0;return!1}isBlock(){return!0}nearest(t){for(;;){if(!t)return null;let e=be.get(t);if(e&&this.owns(e))return e;t=t.parentNode}}blockTiles(t){for(let e=[],i=this,r=0,o=0;;)if(r==i.children.length){if(!e.length)return;i=i.parent,i.breakAfter&&o++,r=e.pop()}else{let u=i.children[r++];if(u instanceof bl)e.push(r),i=u,r=0;else{let f=o+u.length,h=t(u,o);if(h!==void 0)return h;o=f+u.breakAfter}}}resolveBlock(t,e){let i,r=-1,o,u=-1;if(this.blockTiles((f,h)=>{let m=h+f.length;if(t>=h&&t<=m){if(f.isWidget()&&e>=-1&&e<=1){if(f.flags&32)return!0;f.flags&16&&(i=void 0)}(h<t||t==m&&(e<-1?f.length:f.covers(1)))&&(!i||!f.isWidget()&&i.isWidget())&&(i=f,r=t-h),(m>t||t==h&&(e>1?f.length:f.covers(-1)))&&(!o||!f.isWidget()&&o.isWidget())&&(o=f,u=t-h)}}),!i&&!o)throw new Error("No tile at position "+t);return i&&e<0||!o?{tile:i,offset:r}:{tile:o,offset:u}}}class bl extends uc{constructor(t,e){super(t),this.wrapper=e}isBlock(){return!0}covers(t){return this.children.length?t<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(t,e){let i=new bl(e||document.createElement(t.tagName),t);return e||(i.flags|=4),i}}class ur extends uc{constructor(t,e){super(t),this.attrs=e}isLine(){return!0}static start(t,e,i){let r=new ur(e||document.createElement("div"),t);return(!e||!i)&&(r.flags|=4),r}get domAttrs(){return this.attrs}resolveInline(t,e,i){let r=null,o=-1,u=null,f=-1;function h(g,y){for(let b=0,S=0;b<g.children.length&&S<=y;b++){let k=g.children[b],w=S+k.length;w>=y&&(k.isComposite()?h(k,y-S):(!u||u.isHidden&&(e>0||i&&Jw(u,k)))&&(w>y||k.flags&32)?(u=k,f=y-S):(S<y||k.flags&16&&!k.isHidden)&&(r=k,o=y-S)),S=w}}h(this,t);let m=(e<0?r:u)||r||u;return m?{tile:m,offset:m==r?o:f}:null}coordsIn(t,e){let i=this.resolveInline(t,e,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),e):Zw(this)}domIn(t,e){let i=this.resolveInline(t,e);if(i){let{tile:r,offset:o}=i;if(this.dom.contains(r.dom))return r.isText()?new Qn(r.dom,Math.min(r.dom.nodeValue.length,o)):r.domPosFor(o,r.flags&16?1:r.flags&32?-1:e);let u=i.tile.parent,f=!1;for(let h of u.children){if(f)return new Qn(h.dom,0);h==i.tile&&(f=!0)}}return new Qn(this.dom,0)}}function Zw(s){let t=s.dom.lastChild;if(!t)return s.dom.getBoundingClientRect();let e=Nu(t);return e[e.length-1]||null}function Jw(s,t){let e=s.coordsIn(0,1),i=t.coordsIn(0,1);return e&&i&&i.top<e.bottom}class sn extends uc{constructor(t,e){super(t),this.mark=e}get domAttrs(){return this.mark.attrs}static of(t,e){let i=new sn(e||document.createElement(t.tagName),t);return e||(i.flags|=4),i}}class ns extends be{constructor(t,e){super(t,e.length),this.text=e}sync(t){this.flags&2||(super.sync(t),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(t,e){let i=this.dom.nodeValue.length;t>i&&(t=i);let r=t,o=t,u=0;t==0&&e<0||t==i&&e>=0?et.chrome||et.gecko||(t?(r--,u=1):o<i&&(o++,u=-1)):e<0?r--:o<i&&o++;let f=_a(this.dom,r,o).getClientRects();if(!f.length)return null;let h=f[(u?u<0:e>=0)?0:f.length-1];return et.safari&&!u&&h.width==0&&(h=Array.prototype.find.call(f,m=>m.width)||h),u?Gu(h,u<0):h||null}static of(t,e){let i=new ns(e||document.createTextNode(t),t);return e||(i.flags|=2),i}}class cr extends be{constructor(t,e,i,r){super(t,e,r),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(t){return this.flags&48?!1:(this.flags&(t<0?64:128))>0}coordsIn(t,e){return this.coordsInWidget(t,e,!1)}coordsInWidget(t,e,i){let r=this.widget.coordsAt(this.dom,t,e);if(r)return r;if(i)return Gu(this.dom.getBoundingClientRect(),this.length?t==0:e<=0);{let o=this.dom.getClientRects(),u=null;if(!o.length)return null;let f=this.flags&16?!0:this.flags&32?!1:t>0;for(let h=f?o.length-1:0;u=o[h],!(t>0?h==0:h==o.length-1||u.top<u.bottom);h+=f?-1:1);return Gu(u,!f)}}get overrideDOMText(){if(!this.length)return Ht.empty;let{root:t}=this;if(!t)return Ht.empty;let e=this.posAtStart;return t.view.state.doc.slice(e,e+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(t,e,i,r,o){return o||(o=t.toDOM(e),t.editable||(o.contentEditable="false")),new cr(o,i,t,r)}}class Qu extends be{constructor(t){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),super(e,0,t)}get isHidden(){return!1}get overrideDOMText(){return Ht.empty}coordsIn(t){return this.dom.getBoundingClientRect()}}class Ww{constructor(t){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=t}advance(t,e,i){let{tile:r,index:o,beforeBreak:u,parents:f}=this;for(;t||e>0;)if(r.isComposite())if(u){if(!t)break;i&&i.break(),t--,u=!1}else if(o==r.children.length){if(!t&&!f.length)break;i&&i.leave(r),u=!!r.breakAfter,{tile:r,index:o}=f.pop(),o++}else{let h=r.children[o],m=h.breakAfter;(e>0?h.length<=t:h.length<t)&&(!i||i.skip(h,0,h.length)!==!1||!h.isComposite)?(u=!!m,o++,t-=h.length):(f.push({tile:r,index:o}),r=h,o=0,i&&h.isComposite()&&i.enter(h))}else if(o==r.length)u=!!r.breakAfter,{tile:r,index:o}=f.pop(),o++;else if(t){let h=Math.min(t,r.length-o);i&&i.skip(r,o,o+h),t-=h,o+=h}else break;return this.tile=r,this.index=o,this.beforeBreak=u,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Fw{constructor(t,e,i,r){this.from=t,this.to=e,this.wrapper=i,this.rank=r}}class Iw{constructor(t,e,i){this.cache=t,this.root=e,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(t,e,i,r){var o;this.flushBuffer();let u=this.ensureMarks(e,i),f=u.lastChild;if(f&&f.isText()&&!(f.flags&8)){this.cache.reused.set(f,2);let h=u.children[u.children.length-1]=new ns(f.dom,f.text+t);h.parent=u}else u.append(r||ns.of(t,(o=this.cache.find(ns))===null||o===void 0?void 0:o.dom));this.pos+=t.length,this.afterWidget=null}addComposition(t,e){let i=this.curLine;i.dom!=e.line.dom&&(i.setDOM(this.cache.reused.has(e.line)?Gh(e.line.dom):e.line.dom),this.cache.reused.set(e.line,2));let r=i;for(let u=e.marks.length-1;u>=0;u--){let f=e.marks[u],h=r.lastChild;if(h instanceof sn&&h.mark.eq(f.mark))h.dom!=f.dom&&h.setDOM(Gh(f.dom)),r=h;else{if(this.cache.reused.get(f)){let g=be.get(f.dom);g&&g.setDOM(Gh(f.dom))}let m=sn.of(f.mark,f.dom);r.append(m),r=m}this.cache.reused.set(f,2)}let o=new ns(t.text,t.text.nodeValue);o.flags|=8,r.append(o)}addInlineWidget(t,e,i){let r=this.afterWidget&&t.flags&48&&(this.afterWidget.flags&48)==(t.flags&48);r||this.flushBuffer();let o=this.ensureMarks(e,i);!r&&!(t.flags&16)&&o.append(this.getBuffer(1)),o.append(t),this.pos+=t.length,this.afterWidget=t}addMark(t,e,i){this.flushBuffer(),this.ensureMarks(e,i).append(t),this.pos+=t.length,this.afterWidget=null}addBlockWidget(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}continueWidget(t){let e=this.afterWidget||this.lastBlock;e.length+=t,this.pos+=t}addLineStart(t,e){var i;t||(t=ab);let r=ur.start(t,e||((i=this.cache.find(ur))===null||i===void 0?void 0:i.dom),!!e);this.getBlockPos().append(this.lastBlock=this.curLine=r)}addLine(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(t){this.blockPosCovered()||this.addLineStart(t)}ensureLine(t){this.curLine||this.addLineStart(t)}ensureMarks(t,e){var i;let r=this.curLine;for(let o=t.length-1;o>=0;o--){let u=t[o],f;if(e>0&&(f=r.lastChild)&&f instanceof sn&&f.mark.eq(u))r=f,e--;else{let h=sn.of(u,(i=this.cache.find(sn,m=>m.mark.eq(u)))===null||i===void 0?void 0:i.dom);r.append(h),r=h,e=0}}return r}endLine(){if(this.curLine){this.flushBuffer();let t=this.curLine.lastChild;(!t||!I1(this.curLine,!1)||t.dom.nodeName!="BR"&&t.isWidget()&&!(et.ios&&I1(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Xh,0,32)||new cr(Xh.toDOM(),0,Xh,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let t=this.wrappers.length-1;t>=0;t--)this.wrappers[t].to<this.pos&&this.wrappers.splice(t,1);for(let t=this.blockWrappers;t.value&&t.from<=this.pos;t.next())if(t.to>=this.pos){let e=new Fw(t.from,t.to,t.value,t.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-e.rank||this.wrappers[i-1].to-e.to)<0;)i--;this.wrappers.splice(i,0,e)}this.wrapperPos=this.pos}getBlockPos(){var t;this.updateBlockWrappers();let e=this.root;for(let i of this.wrappers){let r=e.lastChild;if(i.from<this.pos&&r instanceof bl&&r.wrapper.eq(i.wrapper))e=r;else{let o=bl.of(i.wrapper,(t=this.cache.find(bl,u=>u.wrapper.eq(i.wrapper)))===null||t===void 0?void 0:t.dom);e.append(o),e=o}}return e}blockPosCovered(){let t=this.lastBlock;return t!=null&&!t.breakAfter&&(!t.isWidget()||(t.flags&160)>0)}getBuffer(t){let e=2|(t<0?16:32),i=this.cache.find(Qu,void 0,1);return i&&(i.flags=e),i||new Qu(e)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Pw{constructor(t){this.skipCount=0,this.text="",this.textOff=0,this.cursor=t.iter()}skip(t){this.textOff+t<=this.text.length?this.textOff+=t:(this.skipCount+=t-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(t){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:u}=this.cursor.next(this.skipCount);if(this.skipCount=0,u)throw new Error("Ran out of text content when drawing inline views");this.text=r;let f=this.textOff=Math.min(t,r.length);return o?null:r.slice(0,f)}let e=Math.min(this.text.length,this.textOff+t),i=this.text.slice(this.textOff,e);return this.textOff=e,i}}const Ku=[cr,ur,ns,sn,Qu,bl,cc];for(let s=0;s<Ku.length;s++)Ku[s].bucket=s;class $w{constructor(t){this.view=t,this.buckets=Ku.map(()=>[]),this.index=Ku.map(()=>0),this.reused=new Map}add(t){let e=t.constructor.bucket,i=this.buckets[e];i.length<6?i.push(t):i[this.index[e]=(this.index[e]+1)%6]=t}find(t,e,i=2){let r=t.bucket,o=this.buckets[r],u=this.index[r];for(let f=o.length-1;f>=0;f--){let h=(f+u)%o.length,m=o[h];if((!e||e(m))&&!this.reused.has(m))return o.splice(h,1),h<u&&this.index[r]--,this.reused.set(m,i),m}return null}findWidget(t,e,i){let r=this.buckets[0];if(r.length)for(let o=0,u=0;;o++){if(o==r.length){if(u)return null;u=1,o=0}let f=r[o];if(!this.reused.has(f)&&(u==0?f.widget.compare(t):f.widget.constructor==t.constructor&&t.updateDOM(f.dom,this.view)))return r.splice(o,1),o<this.index[0]&&this.index[0]--,this.reused.set(f,1),f.length=e,f.flags=f.flags&-498|i,f}}reuse(t){return this.reused.set(t,1),t}maybeReuse(t,e=2){if(!this.reused.has(t))return this.reused.set(t,e),t.dom}}class tA{constructor(t,e,i,r,o){this.view=t,this.decorations=r,this.disallowBlockEffectsFor=o,this.openWidget=!1,this.openMarks=0,this.cache=new $w(t),this.text=new Pw(t.state.doc),this.builder=new Iw(this.cache,new cc(t,t.contentDOM),Nt.iter(i)),this.cache.reused.set(e,2),this.old=new Ww(e)}run(t,e){let i=e&&this.getCompositionContext(e.text);for(let r=0,o=0,u=0;;){let f=u<t.length?t[u++]:null,h=f?f.fromA:this.old.root.length;if(h>r){let m=h-r;this.preserve(m,!u,!f),r=h,o+=m}if(!f)break;this.forward(f.fromA,f.toA),e&&f.fromA<=e.range.fromA&&f.toA>=e.range.toA?(this.emit(o,e.range.fromB),this.builder.addComposition(e,i),this.emit(e.range.toB,f.toB)):this.emit(o,f.toB),o=f.toB,r=f.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(t,e,i){let r=iA(this.old),o=this.openMarks;this.old.advance(t,i?1:-1,{skip:(u,f,h)=>{if(u.isWidget())if(this.openWidget)this.builder.continueWidget(h-f);else{let m=h>0||f<u.length?cr.of(u.widget,this.view,h-f,u.flags&496,this.cache.maybeReuse(u)):this.cache.reuse(u);m.flags&256?(m.flags&=-2,this.builder.addBlockWidget(m)):(this.builder.ensureLine(null),this.builder.addInlineWidget(m,r,o),o=r.length)}else if(u.isText())this.builder.ensureLine(null),!f&&h==u.length?this.builder.addText(u.text,r,o,this.cache.reuse(u)):(this.cache.add(u),this.builder.addText(u.text.slice(f,h),r,o)),o=r.length;else if(u.isLine())u.flags&=-2,this.cache.reused.set(u,1),this.builder.addLine(u);else if(u instanceof Qu)this.cache.add(u);else if(u instanceof sn)this.builder.ensureLine(null),this.builder.addMark(u,r,o),this.cache.reused.set(u,1),o=r.length;else return!1;this.openWidget=!1},enter:u=>{u.isLine()?this.builder.addLineStart(u.attrs,this.cache.maybeReuse(u)):(this.cache.add(u),u instanceof sn&&r.unshift(u.mark)),this.openWidget=!1},leave:u=>{u.isLine()?r.length&&(r.length=o=0):u instanceof sn&&(r.shift(),o=Math.min(o,r.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(t)}emit(t,e){let i=null,r=this.builder,o=0,u=Nt.spans(this.decorations,t,e,{point:(f,h,m,g,y,b)=>{if(m instanceof rs){if(this.disallowBlockEffectsFor[b]){if(m.block)throw new RangeError("Block decorations may not be specified via plugins");if(h>this.view.state.doc.lineAt(f).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(o=g.length,y>g.length)r.continueWidget(h-f);else{let S=m.widget||(m.block?fr.block:fr.inline),k=eA(m),w=this.cache.findWidget(S,h-f,k)||cr.of(S,this.view,h-f,k);m.block?(m.startSide>0&&r.addLineStartIfNotCovered(i),r.addBlockWidget(w)):(r.ensureLine(i),r.addInlineWidget(w,g,y))}i=null}else i=nA(i,m);h>f&&this.text.skip(h-f)},span:(f,h,m,g)=>{for(let y=f;y<h;){let b=this.text.next(Math.min(512,h-y));b==null?(r.addLineStartIfNotCovered(i),r.addBreak(),y++):(r.ensureLine(i),r.addText(b,m,g),y+=b.length),i=null}}});r.addLineStartIfNotCovered(i),this.openWidget=u>o,this.openMarks=u}forward(t,e){this.old.advance(e-t,1,{skip:(i,r,o)=>{(i.isText()||o==i.length)&&this.cache.add(i)},enter:i=>this.cache.add(i),leave:()=>{},break:()=>{}})}getCompositionContext(t){let e=[],i=null;for(let r=t.parentNode;;r=r.parentNode){let o=be.get(r);if(r==this.view.contentDOM)break;o instanceof sn?e.push(o):o?.isLine()?i=o:r.nodeName=="DIV"&&!i&&r!=this.view.contentDOM?i=new ur(r,ab):e.push(sn.of(new Va({tagName:r.nodeName.toLowerCase(),attributes:Ow(r)}),r))}return{line:i,marks:e}}}function I1(s,t){let e=i=>{for(let r of i.children)if((t?r.isText():r.length)||e(r))return!0;return!1};return e(s)}function eA(s){let t=s.isReplace?(s.startSide<0?64:0)|(s.endSide>0?128:0):s.startSide>0?32:16;return s.block&&(t|=256),t}const ab={class:"cm-line"};function nA(s,t){let e=t.spec.attributes,i=t.spec.class;return!e&&!i||(s||(s={class:"cm-line"}),e&&am(e,s),i&&(s.class+=" "+i)),s}function iA(s){let t=[];for(let e=s.parents.length;e>1;e--){let i=e==s.parents.length?s.tile:s.parents[e].tile;i instanceof sn&&t.push(i.mark)}return t}function Gh(s){let t=be.get(s);return t&&t.setDOM(s.cloneNode()),s}class fr extends Tl{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}fr.inline=new fr("span");fr.block=new fr("div");const Xh=new class extends Tl{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class P1{constructor(t){this.view=t,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=qt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new cc(t,t.contentDOM),this.updateInner([new Bn(0,0,0,t.state.doc.length)],null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:g,toA:y})=>y<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?r=this.domChanged.newSel.head:!hA(t.changes,this.hasComposition)&&!t.selectionSet&&(r=t.state.selection.main.head));let o=r>-1?sA(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){let{from:g,to:y}=this.hasComposition;i=new Bn(g,y,t.changes.mapPos(g,-1),t.changes.mapPos(y,1)).addToSet(i.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(et.ie||et.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let u=this.decorations,f=this.blockWrappers;this.updateDeco();let h=oA(u,this.decorations,t.changes);h.length&&(i=Bn.extendWithRanges(i,h));let m=cA(f,this.blockWrappers,t.changes);return m.length&&(i=Bn.extendWithRanges(i,m)),o&&!i.some(g=>g.fromA<=o.range.fromA&&g.toA>=o.range.toA)&&(i=o.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(e||t.length){let u=this.tile,f=new tA(this.view,u,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=f.run(t,e),zd(u,f.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=et.chrome||et.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(o),o&&(o.written||i.selectionRange.focusNode!=o.node||!this.tile.dom.contains(o.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.tile.children)o.isWidget()&&o.widget instanceof Qh&&r.push(o.dom);i.updateGaps(r)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let i of e.effects)i.is(tb)&&(this.editContextFormatting=i.value)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,r=this.view.root.activeElement,o=r==i,u=!o&&!(this.view.state.facet(ji)||i.tabIndex>-1)&&Du(i,this.view.observer.selectionRange)&&!(r&&i.contains(r));if(!(o||e||u))return;let f=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,m,g;if(h.empty?g=m=this.inlineDOMNearPos(h.anchor,h.assoc||1):(g=this.inlineDOMNearPos(h.head,h.head==h.from?1:-1),m=this.inlineDOMNearPos(h.anchor,h.anchor==h.from?1:-1)),et.gecko&&h.empty&&!this.hasComposition&&lA(m)){let b=document.createTextNode("");this.view.observer.ignore(()=>m.node.insertBefore(b,m.node.childNodes[m.offset]||null)),m=g=new Qn(b,0),f=!0}let y=this.view.observer.selectionRange;(f||!y.focusNode||(!Ca(m.node,m.offset,y.anchorNode,y.anchorOffset)||!Ca(g.node,g.offset,y.focusNode,y.focusOffset))&&!this.suppressWidgetCursorChange(y,h))&&(this.view.observer.ignore(()=>{et.android&&et.chrome&&i.contains(y.focusNode)&&fA(y.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let b=Ba(this.view.root);if(b)if(h.empty){if(et.gecko){let S=rA(m.node,m.offset);if(S&&S!=3){let k=(S==1?Hv:Uv)(m.node,m.offset);k&&(m=new Qn(k.node,k.offset))}}b.collapse(m.node,m.offset),h.bidiLevel!=null&&b.caretBidiLevel!==void 0&&(b.caretBidiLevel=h.bidiLevel)}else if(b.extend){b.collapse(m.node,m.offset);try{b.extend(g.node,g.offset)}catch{}}else{let S=document.createRange();h.anchor>h.head&&([m,g]=[g,m]),S.setEnd(g.node,g.offset),S.setStart(m.node,m.offset),b.removeAllRanges(),b.addRange(S)}u&&this.view.root.activeElement==i&&(i.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(m,g)),this.impreciseAnchor=m.precise?null:new Qn(y.anchorNode,y.anchorOffset),this.impreciseHead=g.precise?null:new Qn(y.focusNode,y.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&Ca(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=Ba(t.root),{anchorNode:r,anchorOffset:o}=t.observer.selectionRange;if(!i||!e.empty||!e.assoc||!i.modify)return;let u=this.lineAt(e.head,e.assoc);if(!u)return;let f=u.posAtStart;if(e.head==f||e.head==f+u.length)return;let h=this.coordsAt(e.head,-1),m=this.coordsAt(e.head,1);if(!h||!m||h.bottom>m.top)return;let g=this.domAtPos(e.head+e.assoc,e.assoc);i.collapse(g.node,g.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let y=t.observer.selectionRange;t.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=e.from&&i.collapse(r,o)}posFromDOM(t,e){let i=this.tile.nearest(t);if(!i)return this.tile.dom.compareDocumentPosition(t)&2?0:this.view.state.doc.length;let r=i.posAtStart;if(i.isComposite()){let o;if(t==i.dom)o=i.dom.childNodes[e];else{let u=Ui(t)==0?0:e==0?-1:1;for(;;){let f=t.parentNode;if(f==i.dom)break;u==0&&f.firstChild!=f.lastChild&&(t==f.firstChild?u=-1:u=1),t=f}u<0?o=t:o=t.nextSibling}if(o==i.dom.firstChild)return r;for(;o&&!be.get(o);)o=o.nextSibling;if(!o)return r+i.length;for(let u=0,f=r;;u++){let h=i.children[u];if(h.dom==o)return f;f+=h.length+h.breakAfter}}else return i.isText()?t==i.dom?r+e:r+(e?i.length:0):r}domAtPos(t,e){let{tile:i,offset:r}=this.tile.resolveBlock(t,e);return i.isWidget()?i.domPosFor(t,e):i.domIn(r,e)}inlineDOMNearPos(t,e){let i,r=-1,o=!1,u,f=-1,h=!1;return this.tile.blockTiles((m,g)=>{if(m.isWidget()){if(m.flags&32&&g>=t)return!0;m.flags&16&&(o=!0)}else{let y=g+m.length;if(g<=t&&(i=m,r=t-g,o=y<t),y>=t&&!u&&(u=m,f=t-g,h=g>t),g>t&&u)return!0}}),!i&&!u?this.domAtPos(t,e):(o&&u?i=null:h&&i&&(u=null),i&&e<0||!u?i.domIn(r,e):u.domIn(f,e))}coordsAt(t,e){let{tile:i,offset:r}=this.tile.resolveBlock(t,e);return i.isWidget()?i.widget instanceof Qh?null:i.coordsInWidget(r,e,!0):i.coordsIn(r,e)}lineAt(t,e){let{tile:i}=this.tile.resolveBlock(t,e);return i.isLine()?i:null}coordsForChar(t){let{tile:e,offset:i}=this.tile.resolveBlock(t,1);if(!e.isLine())return null;function r(o,u){if(o.isComposite())for(let f of o.children){if(f.length>=u){let h=r(f,u);if(h)return h}if(u-=f.length,u<0)break}else if(o.isText()&&u<o.length){let f=Ne(o.text,u);if(f==u)return null;let h=_a(o.dom,u,f).getClientRects();for(let m=0;m<h.length;m++){let g=h[m];if(m==h.length-1||g.top<g.bottom&&g.left<g.right)return g}}return null}return r(e,i)}measureVisibleLineHeights(t){let e=[],{from:i,to:r}=t,o=this.view.contentDOM.clientWidth,u=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,h=this.view.textDirection==ne.LTR,m=0,g=(y,b,S)=>{for(let k=0;k<y.children.length&&!(b>r);k++){let w=y.children[k],E=b+w.length,N=w.dom.getBoundingClientRect(),{height:G}=N;if(S&&!k&&(m+=N.top-S.top),w instanceof bl)E>i&&g(w,b,N);else if(b>=i&&(m>0&&e.push(-m),e.push(G+m),m=0,u)){let J=w.dom.lastChild,st=J?Nu(J):[];if(st.length){let K=st[st.length-1],Z=h?K.right-N.left:N.right-K.left;Z>f&&(f=Z,this.minWidth=o,this.minWidthFrom=b,this.minWidthTo=E)}}S&&k==y.children.length-1&&(m+=S.bottom-N.bottom),b=E+w.breakAfter}};return g(this.tile,0,null),e}textDirectionAt(t){let{tile:e}=this.tile.resolveBlock(t,1);return getComputedStyle(e.dom).direction=="rtl"?ne.RTL:ne.LTR}measureTextSize(){let t=this.tile.blockTiles(u=>{if(u.isLine()&&u.children.length&&u.length<=20){let f=0,h;for(let m of u.children){if(!m.isText()||/[^ -~]/.test(m.text))return;let g=Nu(m.dom);if(g.length!=1)return;f+=g[0].width,h=g[0].height}if(f)return{lineHeight:u.dom.getBoundingClientRect().height,charWidth:f/u.length,textHeight:h}}});if(t)return t;let e=document.createElement("div"),i,r,o;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(e);let u=Nu(e.firstChild)[0];i=e.getBoundingClientRect().height,r=u&&u.width?u.width/27:7,o=u&&u.height?u.height:i,e.remove()}),{lineHeight:i,charWidth:r,textHeight:o}}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,r=0;;r++){let o=r==e.viewports.length?null:e.viewports[r],u=o?o.from-1:this.view.state.doc.length;if(u>i){let f=(e.lineBlockAt(u).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(qt.replace({widget:new Qh(f),block:!0,inclusive:!0,isBlockGap:!0}).range(i,u))}if(!o)break;i=o.to+1}return qt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(Ra).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),i=!1,r=this.view.state.facet(ib).map((o,u)=>{let f=typeof o=="function";return f&&(i=!0),f?o(this.view):o});for(r.length&&(this.dynamicDecorationMap[t++]=i,e.push(Nt.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;this.blockWrappers=this.view.state.facet(nb).map(o=>typeof o=="function"?o(this.view):o)}scrollIntoView(t){if(t.isSnapshot){let m=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=m.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let m of this.view.state.facet($v))try{if(m(this.view,t.range,t))return!0}catch(g){fi(this.view.state,g,"scroll handler")}let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),r;if(!i)return;!e.empty&&(r=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=rb(this.view),u={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:f,offsetHeight:h}=this.view.scrollDOM;Nw(this.view.scrollDOM,u,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,f),-f),Math.max(Math.min(t.yMargin,h),-h),this.view.textDirection==ne.LTR)}lineHasWidget(t){let e=i=>i.isWidget()||i.children.some(e);return e(this.tile.resolveBlock(t,1).tile)}destroy(){zd(this.tile)}}function zd(s,t){let e=t?.get(s);if(e!=1){e==null&&s.destroy();for(let i of s.children)zd(i,t)}}function lA(s){return s.node.nodeType==1&&s.node.firstChild&&(s.offset==0||s.node.childNodes[s.offset-1].contentEditable=="false")&&(s.offset==s.node.childNodes.length||s.node.childNodes[s.offset].contentEditable=="false")}function ob(s,t){let e=s.observer.selectionRange;if(!e.focusNode)return null;let i=Hv(e.focusNode,e.focusOffset),r=Uv(e.focusNode,e.focusOffset),o=i||r;if(r&&i&&r.node!=i.node){let f=be.get(r.node);if(!f||f.isText()&&f.text!=r.node.nodeValue)o=r;else if(s.docView.lastCompositionAfterCursor){let h=be.get(i.node);!h||h.isText()&&h.text!=i.node.nodeValue||(o=r)}}if(s.docView.lastCompositionAfterCursor=o!=i,!o)return null;let u=t-o.offset;return{from:u,to:u+o.node.nodeValue.length,node:o.node}}function sA(s,t,e){let i=ob(s,e);if(!i)return null;let{node:r,from:o,to:u}=i,f=r.nodeValue;if(/[\n\r]/.test(f)||s.state.doc.sliceString(i.from,i.to)!=f)return null;let h=t.invertedDesc;return{range:new Bn(h.mapPos(o),h.mapPos(u),o,u),text:r}}function rA(s,t){return s.nodeType!=1?0:(t&&s.childNodes[t-1].contentEditable=="false"?1:0)|(t<s.childNodes.length&&s.childNodes[t].contentEditable=="false"?2:0)}let aA=class{constructor(){this.changes=[]}compareRange(t,e){lr(t,e,this.changes)}comparePoint(t,e){lr(t,e,this.changes)}boundChange(t){lr(t,t,this.changes)}};function oA(s,t,e){let i=new aA;return Nt.compare(s,t,e,i),i.changes}class uA{constructor(){this.changes=[]}compareRange(t,e){lr(t,e,this.changes)}comparePoint(){}boundChange(t){lr(t,t,this.changes)}}function cA(s,t,e){let i=new uA;return Nt.compare(s,t,e,i),i.changes}function fA(s,t){for(let e=s;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function hA(s,t){let e=!1;return t&&s.iterChangedRanges((i,r)=>{i<t.to&&r>t.from&&(e=!0)}),e}class Qh extends Tl{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function dA(s,t,e=1){let i=s.charCategorizer(t),r=s.doc.lineAt(t),o=t-r.from;if(r.length==0)return Q.cursor(t);o==0?e=1:o==r.length&&(e=-1);let u=o,f=o;e<0?u=Ne(r.text,o,!1):f=Ne(r.text,o);let h=i(r.text.slice(u,f));for(;u>0;){let m=Ne(r.text,u,!1);if(i(r.text.slice(m,u))!=h)break;u=m}for(;f<r.length;){let m=Ne(r.text,f);if(i(r.text.slice(f,m))!=h)break;f=m}return Q.range(u+r.from,f+r.from)}function mA(s,t,e,i,r){let o=Math.round((i-t.left)*s.defaultCharacterWidth);if(s.lineWrapping&&e.height>s.defaultLineHeight*1.5){let f=s.viewState.heightOracle.textHeight,h=Math.floor((r-e.top-(s.defaultLineHeight-f)*.5)/f);o+=h*s.viewState.heightOracle.lineLength}let u=s.state.sliceDoc(e.from,e.to);return e.from+wd(u,o,s.state.tabSize)}function Ld(s,t,e){let i=s.lineBlockAt(t);if(Array.isArray(i.type)){let r;for(let o of i.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;(!r||o.type==Be.Text&&(r.type!=o.type||(e<0?o.from<t:o.to>t)))&&(r=o)}}return r||i}return i}function pA(s,t,e,i){let r=Ld(s,t.head,t.assoc||-1),o=!i||r.type!=Be.Text||!(s.lineWrapping||r.widgetLineBreaks)?null:s.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head);if(o){let u=s.dom.getBoundingClientRect(),f=s.textDirectionAt(r.from),h=s.posAtCoords({x:e==(f==ne.LTR)?u.right-1:u.left+1,y:(o.top+o.bottom)/2});if(h!=null)return Q.cursor(h,e?-1:1)}return Q.cursor(e?r.to:r.from,e?-1:1)}function $1(s,t,e,i){let r=s.state.doc.lineAt(t.head),o=s.bidiSpans(r),u=s.textDirectionAt(r.from);for(let f=t,h=null;;){let m=Gw(r,o,u,f,e),g=Xv;if(!m){if(r.number==(e?s.state.doc.lines:1))return f;g=`
`,r=s.state.doc.line(r.number+(e?1:-1)),o=s.bidiSpans(r),m=s.visualLineSide(r,!e)}if(h){if(!h(g))return f}else{if(!i)return m;h=i(g)}f=m}}function gA(s,t,e){let i=s.state.charCategorizer(t),r=i(e);return o=>{let u=i(o);return r==Nn.Space&&(r=u),r==u}}function yA(s,t,e,i){let r=t.head,o=e?1:-1;if(r==(e?s.state.doc.length:0))return Q.cursor(r,t.assoc);let u=t.goalColumn,f,h=s.contentDOM.getBoundingClientRect(),m=s.coordsAtPos(r,t.assoc||-1),g=s.documentTop;if(m)u==null&&(u=m.left-h.left),f=o<0?m.top:m.bottom;else{let S=s.viewState.lineBlockAt(r);u==null&&(u=Math.min(h.right-h.left,s.defaultCharacterWidth*(r-S.from))),f=(o<0?S.top:S.bottom)+g}let y=h.left+u,b=i??s.viewState.heightOracle.textHeight>>1;for(let S=0;;S+=10){let k=f+(b+S)*o,w=jd(s,{x:y,y:k},!1,o);return Q.cursor(w.pos,w.assoc,void 0,u)}}function Ma(s,t,e){for(;;){let i=0;for(let r of s)r.between(t-1,t+1,(o,u,f)=>{if(t>o&&t<u){let h=i||e||(t-o<u-t?-1:1);t=h<0?o:u,i=h}});if(!i)return t}}function ub(s,t){let e=null;for(let i=0;i<t.ranges.length;i++){let r=t.ranges[i],o=null;if(r.empty){let u=Ma(s,r.from,0);u!=r.from&&(o=Q.cursor(u,-1))}else{let u=Ma(s,r.from,-1),f=Ma(s,r.to,1);(u!=r.from||f!=r.to)&&(o=Q.range(r.from==r.anchor?u:f,r.from==r.head?u:f))}o&&(e||(e=t.ranges.slice()),e[i]=o)}return e?Q.create(e,t.mainIndex):t}function Kh(s,t,e){let i=Ma(s.state.facet(Ga).map(r=>r(s)),e.from,t.head>e.from?-1:1);return i==e.from?e:Q.cursor(i,i<e.from?1:-1)}class ci{constructor(t,e){this.pos=t,this.assoc=e}}function jd(s,t,e,i){let r=s.contentDOM.getBoundingClientRect(),o=r.top+s.viewState.paddingTop,{x:u,y:f}=t,h=f-o,m;for(;;){if(h<0)return new ci(0,1);if(h>s.viewState.docHeight)return new ci(s.state.doc.length,-1);if(m=s.elementAtHeight(h),i==null)break;if(m.type==Be.Text){let b=s.docView.coordsAt(i<0?m.from:m.to,i);if(b&&(i<0?b.top<=h+o:b.bottom>=h+o))break}let y=s.viewState.heightOracle.textHeight/2;h=i>0?m.bottom+y:m.top-y}if(s.viewport.from>=m.to||s.viewport.to<=m.from){if(e)return null;if(m.type==Be.Text){let y=mA(s,r,m,u,f);return new ci(y,y==m.from?1:-1)}}if(m.type!=Be.Text)return h<(m.top+m.bottom)/2?new ci(m.from,1):new ci(m.to,-1);let g=s.docView.lineAt(m.from,2);return(!g||g.length!=m.length)&&(g=s.docView.lineAt(m.from,-2)),cb(s,g,m.from,u,f)}function cb(s,t,e,i,r){let o=-1,u=null,f=1e9,h=1e9,m=r,g=r,y=(b,S)=>{for(let k=0;k<b.length;k++){let w=b[k];if(w.top==w.bottom)continue;let E=w.left>i?w.left-i:w.right<i?i-w.right:0,N=w.top>r?w.top-r:w.bottom<r?r-w.bottom:0;w.top<=g&&w.bottom>=m&&(m=Math.min(w.top,m),g=Math.max(w.bottom,g),N=0),(o<0||(N-h||E-f)<0)&&(o>=0&&h&&f<E&&u.top<=g-2&&u.bottom>=m+2?h=0:(o=S,f=E,h=N,u=w))}};if(t.isText()){for(let S=0;S<t.length;){let k=Ne(t.text,S);if(y(_a(t.dom,S,k).getClientRects(),S),!f&&!h)break;S=k}return i>(u.left+u.right)/2==(ty(s,o+e)==ne.LTR)?new ci(e+Ne(t.text,o),-1):new ci(e+o,1)}else{if(!t.length)return new ci(e,1);for(let w=0;w<t.children.length;w++){let E=t.children[w];if(E.flags&48)continue;let N=(E.dom.nodeType==1?E.dom:_a(E.dom,0,E.length)).getClientRects();if(y(N,w),!f&&!h)break}let b=t.children[o],S=t.posBefore(b,e);return b.isComposite()||b.isText()?cb(s,b,S,Math.max(u.left,Math.min(u.right,i)),r):i>(u.left+u.right)/2==(ty(s,o+e)==ne.LTR)?new ci(S+b.length,-1):new ci(S,1)}}function ty(s,t){let e=s.state.doc.lineAt(t);return s.bidiSpans(e)[Hi.find(s.bidiSpans(e),t-e.from,-1,1)].dir}const xa="";class vA{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(jt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=xa}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let r=t;;){this.findPointBefore(i,r);let o=this.text.length;this.readNode(r);let u=be.get(r),f=r.nextSibling;if(f==e){u?.breakAfter&&!f&&this.lineBreak();break}let h=be.get(f);(u&&h?u.breakAfter:(u?u.breakAfter:Yu(r))||Yu(f)&&(r.nodeName!="BR"||u?.isWidget())&&this.text.length>o)&&!xA(f,e)&&this.lineBreak(),r=f}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,u=1,f;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,i),u=this.lineSeparator.length):(f=r.exec(e))&&(o=f.index,u=f[0].length),this.append(e.slice(i,o<0?e.length:o)),o<0)break;if(this.lineBreak(),u>1)for(let h of this.points)h.node==t&&h.pos>this.text.length&&(h.pos-=u-1);i=o+u}}readNode(t){let e=be.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(bA(t,i.node,i.offset)?e:0))}}function bA(s,t,e){for(;;){if(!t||e<Ui(t))return!1;if(t==s)return!0;e=wl(t)+1,t=t.parentNode}}function xA(s,t){let e;for(;!(s==t||!s);s=s.nextSibling){let i=be.get(s);if(!i?.isWidget())return!1;i&&(e||(e=[])).push(i)}if(e)for(let i of e){let r=i.overrideDOMText;if(r?.length)return!1}return!0}class ey{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class SA{constructor(t,e,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:u}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=fb(t.docView.tile,e,i,0))){let f=o||u?[]:wA(t),h=new vA(f,t.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=AA(f,this.bounds.from)}else{let f=t.observer.selectionRange,h=o&&o.node==f.focusNode&&o.offset==f.focusOffset||!Dd(t.contentDOM,f.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(f.focusNode,f.focusOffset),m=u&&u.node==f.anchorNode&&u.offset==f.anchorOffset||!Dd(t.contentDOM,f.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(f.anchorNode,f.anchorOffset),g=t.viewport;if((et.ios||et.chrome)&&t.state.selection.main.empty&&h!=m&&(g.from>0||g.to<t.state.doc.length)){let y=Math.min(h,m),b=Math.max(h,m),S=g.from-y,k=g.to-b;(S==0||S==1||y==0)&&(k==0||k==-1||b==t.state.doc.length)&&(h=0,m=t.state.doc.length)}t.inputState.composing>-1&&t.state.selection.ranges.length>1?this.newSel=t.state.selection.replaceRange(Q.range(m,h)):this.newSel=Q.single(m,h)}}}function fb(s,t,e,i){if(s.isComposite()){let r=-1,o=-1,u=-1,f=-1;for(let h=0,m=i,g=i;h<s.children.length;h++){let y=s.children[h],b=m+y.length;if(m<t&&b>e)return fb(y,t,e,m);if(b>=t&&r==-1&&(r=h,o=m),m>e&&y.dom.parentNode==s.dom){u=h,f=g;break}g=b,m=b+y.breakAfter}return{from:o,to:f<0?i+s.length:f,startDOM:(r?s.children[r-1].dom.nextSibling:null)||s.dom.firstChild,endDOM:u<s.children.length&&u>=0?s.children[u].dom:null}}else return s.isText()?{from:i,to:i+s.length,startDOM:s.dom,endDOM:s.dom.nextSibling}:null}function hb(s,t){let e,{newSel:i}=t,r=s.state.selection.main,o=s.inputState.lastKeyTime>Date.now()-100?s.inputState.lastKeyCode:-1;if(t.bounds){let{from:u,to:f}=t.bounds,h=r.from,m=null;(o===8||et.android&&t.text.length<f-u)&&(h=r.to,m="end");let g=db(s.state.doc.sliceString(u,f,xa),t.text,h-u,m);g&&(et.chrome&&o==13&&g.toB==g.from+2&&t.text.slice(g.from,g.toB)==xa+xa&&g.toB--,e={from:u+g.from,to:u+g.toA,insert:Ht.of(t.text.slice(g.from,g.toB).split(xa))})}else i&&(!s.hasFocus&&s.state.facet(ji)||i.main.eq(r))&&(i=null);if(!e&&!i)return!1;if(!e&&t.typeOver&&!r.empty&&i&&i.main.empty?e={from:r.from,to:r.to,insert:s.state.doc.slice(r.from,r.to)}:(et.mac||et.android)&&e&&e.from==e.to&&e.from==r.head-1&&/^\. ?$/.test(e.insert.toString())&&s.contentDOM.getAttribute("autocorrect")=="off"?(i&&e.insert.length==2&&(i=Q.single(i.main.anchor-1,i.main.head-1)),e={from:e.from,to:e.to,insert:Ht.of([e.insert.toString().replace("."," ")])}):e&&e.from>=r.from&&e.to<=r.to&&(e.from!=r.from||e.to!=r.to)&&r.to-r.from-(e.to-e.from)<=4?e={from:r.from,to:r.to,insert:s.state.doc.slice(r.from,e.from).append(e.insert).append(s.state.doc.slice(e.to,r.to))}:s.state.doc.lineAt(r.from).to<r.to&&s.docView.lineHasWidget(r.to)&&s.inputState.insertingTextAt>Date.now()-50?e={from:r.from,to:r.to,insert:s.state.toText(s.inputState.insertingText)}:et.chrome&&e&&e.from==e.to&&e.from==r.head&&e.insert.toString()==`
 `&&s.lineWrapping&&(i&&(i=Q.single(i.main.anchor-1,i.main.head-1)),e={from:r.from,to:r.to,insert:Ht.of([" "])}),e)return dm(s,e,i,o);if(i&&!i.main.eq(r)){let u=!1,f="select";return s.inputState.lastSelectionTime>Date.now()-50&&(s.inputState.lastSelectionOrigin=="select"&&(u=!0),f=s.inputState.lastSelectionOrigin,f=="select.pointer"&&(i=ub(s.state.facet(Ga).map(h=>h(s)),i))),s.dispatch({selection:i,scrollIntoView:u,userEvent:f}),!0}else return!1}function dm(s,t,e,i=-1){if(et.ios&&s.inputState.flushIOSKey(t))return!0;let r=s.state.selection.main;if(et.android&&(t.to==r.to&&(t.from==r.from||t.from==r.from-1&&s.state.sliceDoc(t.from,r.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&sr(s.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||i==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&sr(s.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&sr(s.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();s.inputState.composing>=0&&s.inputState.composing++;let u,f=()=>u||(u=kA(s,t,e));return s.state.facet(Wv).some(h=>h(s,t.from,t.to,o,f))||s.dispatch(f()),!0}function kA(s,t,e){let i,r=s.state,o=r.selection.main,u=-1;if(t.from==t.to&&t.from<o.from||t.from>o.to){let h=t.from<o.from?-1:1,m=h<0?o.from:o.to,g=Ma(r.facet(Ga).map(y=>y(s)),m,h);t.from==g&&(u=g)}if(u>-1)i={changes:t,selection:Q.cursor(t.from+t.insert.length,-1)};else if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&s.inputState.composing<0){let h=o.from<t.from?r.sliceDoc(o.from,t.from):"",m=o.to>t.to?r.sliceDoc(t.to,o.to):"";i=r.replaceSelection(s.state.toText(h+t.insert.sliceString(0,void 0,s.state.lineBreak)+m))}else{let h=r.changes(t),m=e&&e.main.to<=h.newLength?e.main:void 0;if(r.selection.ranges.length>1&&(s.inputState.composing>=0||s.inputState.compositionPendingChange)&&t.to<=o.to+10&&t.to>=o.to-10){let g=s.state.sliceDoc(t.from,t.to),y,b=e&&ob(s,e.main.head);if(b){let k=t.insert.length-(t.to-t.from);y={from:b.from,to:b.to-k}}else y=s.state.doc.lineAt(o.head);let S=o.to-t.to;i=r.changeByRange(k=>{if(k.from==o.from&&k.to==o.to)return{changes:h,range:m||k.map(h)};let w=k.to-S,E=w-g.length;if(s.state.sliceDoc(E,w)!=g||w>=y.from&&E<=y.to)return{range:k};let N=r.changes({from:E,to:w,insert:t.insert}),G=k.to-o.to;return{changes:N,range:m?Q.range(Math.max(0,m.anchor+G),Math.max(0,m.head+G)):k.map(N)}})}else i={changes:h,selection:m&&r.selection.replaceRange(m)}}let f="input.type";return(s.composing||s.inputState.compositionPendingChange&&s.inputState.compositionEndedAt>Date.now()-50)&&(s.inputState.compositionPendingChange=!1,f+=".compose",s.inputState.compositionFirstChange&&(f+=".start",s.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:f,scrollIntoView:!0})}function db(s,t,e,i){let r=Math.min(s.length,t.length),o=0;for(;o<r&&s.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&s.length==t.length)return null;let u=s.length,f=t.length;for(;u>0&&f>0&&s.charCodeAt(u-1)==t.charCodeAt(f-1);)u--,f--;if(i=="end"){let h=Math.max(0,o-Math.min(u,f));e-=u+h-o}if(u<o&&s.length<t.length){let h=e<=o&&e>=u?o-e:0;o-=h,f=o+(f-u),u=o}else if(f<o){let h=e<=o&&e>=f?o-e:0;o-=h,u=o+(u-f),f=o}return{from:o,toA:u,toB:f}}function wA(s){let t=[];if(s.root.activeElement!=s.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}=s.observer.selectionRange;return e&&(t.push(new ey(e,i)),(r!=e||o!=i)&&t.push(new ey(r,o))),t}function AA(s,t){if(s.length==0)return null;let e=s[0].pos,i=s.length==2?s[1].pos:e;return e>-1&&i>-1?Q.single(e+t,i+t):null}class CA{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,et.safari&&t.contentDOM.addEventListener("input",()=>null),et.gecko&&qA(t.contentDOM.ownerDocument)}handleEvent(t){!_A(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let r of i.observers)r(this.view,e);for(let r of i.handlers){if(e.defaultPrevented)break;if(r(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=MA(t),i=this.handlers,r=this.view.contentDOM;for(let o in e)if(o!="scroll"){let u=!e[o].handlers.length,f=i[o];f&&u!=!f.handlers.length&&(r.removeEventListener(o,this.handleEvent),f=null),f||r.addEventListener(o,this.handleEvent,{passive:u})}for(let o in i)o!="scroll"&&!e[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&pb.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),et.android&&et.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return et.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=mb.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||TA.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,sr(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!/^key/.test(t.type)||t.synthetic?!1:this.composing>0?!0:et.safari&&!et.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function ny(s,t){return(e,i)=>{try{return t.call(s,i,e)}catch(r){fi(e.state,r)}}}function MA(s){let t=Object.create(null);function e(i){return t[i]||(t[i]={observers:[],handlers:[]})}for(let i of s){let r=i.spec,o=r&&r.plugin.domEventHandlers,u=r&&r.plugin.domEventObservers;if(o)for(let f in o){let h=o[f];h&&e(f).handlers.push(ny(i.value,h))}if(u)for(let f in u){let h=u[f];h&&e(f).observers.push(ny(i.value,h))}}for(let i in Zn)e(i).handlers.push(Zn[i]);for(let i in zn)e(i).observers.push(zn[i]);return t}const mb=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],TA="dthko",pb=[16,17,18,20,91,92,224,225],pu=6;function gu(s){return Math.max(0,s)*.7+8}function OA(s,t){return Math.max(Math.abs(s.clientX-t.clientX),Math.abs(s.clientY-t.clientY))}class EA{constructor(t,e,i,r){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=Bw(t.contentDOM),this.atoms=t.state.facet(Ga).map(u=>u(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(jt.allowMultipleSelections)&&DA(t,e),this.dragging=BA(t,e)&&vb(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&OA(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,i=0,r=0,o=0,u=this.view.win.innerWidth,f=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:u}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:f}=this.scrollParents.y.getBoundingClientRect());let h=rb(this.view);t.clientX-h.left<=r+pu?e=-gu(r-t.clientX):t.clientX+h.right>=u-pu&&(e=gu(t.clientX-u)),t.clientY-h.top<=o+pu?i=-gu(o-t.clientY):t.clientY+h.bottom>=f-pu&&(i=gu(t.clientY-f)),this.setScrollSpeed(e,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:e}=this,i=ub(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!i.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function DA(s,t){let e=s.state.facet(Qv);return e.length?e[0](t):et.mac?t.metaKey:t.ctrlKey}function NA(s,t){let e=s.state.facet(Kv);return e.length?e[0](t):et.mac?!t.altKey:!t.ctrlKey}function BA(s,t){let{main:e}=s.state.selection;if(e.empty)return!1;let i=Ba(s.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let u=r[o];if(u.left<=t.clientX&&u.right>=t.clientX&&u.top<=t.clientY&&u.bottom>=t.clientY)return!0}return!1}function _A(s,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=s.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=be.get(e))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(t))return!1;return!0}const Zn=Object.create(null),zn=Object.create(null),gb=et.ie&&et.ie_version<15||et.ios&&et.webkit_version<604;function RA(s){let t=s.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{s.focus(),e.remove(),yb(s,e.value)},50)}function fc(s,t,e){for(let i of s.facet(t))e=i(e,s);return e}function yb(s,t){t=fc(s.state,cm,t);let{state:e}=s,i,r=1,o=e.toText(t),u=o.lines==e.selection.ranges.length;if(Hd!=null&&e.selection.ranges.every(h=>h.empty)&&Hd==o.toString()){let h=-1;i=e.changeByRange(m=>{let g=e.doc.lineAt(m.from);if(g.from==h)return{range:m};h=g.from;let y=e.toText((u?o.line(r++).text:t)+e.lineBreak);return{changes:{from:g.from,insert:y},range:Q.cursor(m.from+y.length)}})}else u?i=e.changeByRange(h=>{let m=o.line(r++);return{changes:{from:h.from,to:h.to,insert:m.text},range:Q.cursor(h.from+m.length)}}):i=e.replaceSelection(o);s.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}zn.scroll=s=>{s.inputState.lastScrollTop=s.scrollDOM.scrollTop,s.inputState.lastScrollLeft=s.scrollDOM.scrollLeft};Zn.keydown=(s,t)=>(s.inputState.setSelectionOrigin("select"),t.keyCode==27&&s.inputState.tabFocusMode!=0&&(s.inputState.tabFocusMode=Date.now()+2e3),!1);zn.touchstart=(s,t)=>{s.inputState.lastTouchTime=Date.now(),s.inputState.setSelectionOrigin("select.pointer")};zn.touchmove=s=>{s.inputState.setSelectionOrigin("select.pointer")};Zn.mousedown=(s,t)=>{if(s.observer.flush(),s.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let i of s.state.facet(Zv))if(e=i(s,t),e)break;if(!e&&t.button==0&&(e=LA(s,t)),e){let i=!s.hasFocus;s.inputState.startMouseSelection(new EA(s,t,e,i)),i&&s.observer.ignore(()=>{Lv(s.contentDOM);let o=s.root.activeElement;o&&!o.contains(s.contentDOM)&&o.blur()});let r=s.inputState.mouseSelection;if(r)return r.start(t),r.dragging===!1}else s.inputState.setSelectionOrigin("select.pointer");return!1};function iy(s,t,e,i){if(i==1)return Q.cursor(t,e);if(i==2)return dA(s.state,t,e);{let r=s.docView.lineAt(t,e),o=s.state.doc.lineAt(r?r.posAtEnd:t),u=r?r.posAtStart:o.from,f=r?r.posAtEnd:o.to;return f<s.state.doc.length&&f==o.to&&f++,Q.range(u,f)}}const zA=et.ie&&et.ie_version<=11;let ly=null,sy=0,ry=0;function vb(s){if(!zA)return s.detail;let t=ly,e=ry;return ly=s,ry=Date.now(),sy=!t||e>Date.now()-400&&Math.abs(t.clientX-s.clientX)<2&&Math.abs(t.clientY-s.clientY)<2?(sy+1)%3:1}function LA(s,t){let e=s.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),i=vb(t),r=s.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),r=r.map(o.changes))},get(o,u,f){let h=s.posAndSideAtCoords({x:o.clientX,y:o.clientY},!1),m,g=iy(s,h.pos,h.assoc,i);if(e.pos!=h.pos&&!u){let y=iy(s,e.pos,e.assoc,i),b=Math.min(y.from,g.from),S=Math.max(y.to,g.to);g=b<g.from?Q.range(b,S):Q.range(S,b)}return u?r.replaceRange(r.main.extend(g.from,g.to)):f&&i==1&&r.ranges.length>1&&(m=jA(r,h.pos))?m:f?r.addRange(g):Q.create([g])}}}function jA(s,t){for(let e=0;e<s.ranges.length;e++){let{from:i,to:r}=s.ranges[e];if(i<=t&&r>=t)return Q.create(s.ranges.slice(0,e).concat(s.ranges.slice(e+1)),s.mainIndex==e?0:s.mainIndex-(s.mainIndex>e?1:0))}return null}Zn.dragstart=(s,t)=>{let{selection:{main:e}}=s.state;if(t.target.draggable){let r=s.docView.tile.nearest(t.target);if(r&&r.isWidget()){let o=r.posAtStart,u=o+r.length;(o>=e.to||u<=e.from)&&(e=Q.range(o,u))}}let{inputState:i}=s;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",fc(s.state,fm,s.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};Zn.dragend=s=>(s.inputState.draggedContent=null,!1);function ay(s,t,e,i){if(e=fc(s.state,cm,e),!e)return;let r=s.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=s.inputState,u=i&&o&&NA(s,t)?{from:o.from,to:o.to}:null,f={from:r,insert:e},h=s.state.changes(u?[u,f]:f);s.focus(),s.dispatch({changes:h,selection:{anchor:h.mapPos(r,-1),head:h.mapPos(r,1)},userEvent:u?"move.drop":"input.drop"}),s.inputState.draggedContent=null}Zn.drop=(s,t)=>{if(!t.dataTransfer)return!1;if(s.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let i=Array(e.length),r=0,o=()=>{++r==e.length&&ay(s,t,i.filter(u=>u!=null).join(s.state.lineBreak),!1)};for(let u=0;u<e.length;u++){let f=new FileReader;f.onerror=o,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(i[u]=f.result),o()},f.readAsText(e[u])}return!0}else{let i=t.dataTransfer.getData("Text");if(i)return ay(s,t,i,!0),!0}return!1};Zn.paste=(s,t)=>{if(s.state.readOnly)return!0;s.observer.flush();let e=gb?null:t.clipboardData;return e?(yb(s,e.getData("text/plain")||e.getData("text/uri-list")),!0):(RA(s),!1)};function HA(s,t){let e=s.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),s.focus()},50)}function UA(s){let t=[],e=[],i=!1;for(let r of s.selection.ranges)r.empty||(t.push(s.sliceDoc(r.from,r.to)),e.push(r));if(!t.length){let r=-1;for(let{from:o}of s.selection.ranges){let u=s.doc.lineAt(o);u.number>r&&(t.push(u.text),e.push({from:u.from,to:Math.min(s.doc.length,u.to+1)})),r=u.number}i=!0}return{text:fc(s,fm,t.join(s.lineBreak)),ranges:e,linewise:i}}let Hd=null;Zn.copy=Zn.cut=(s,t)=>{let{text:e,ranges:i,linewise:r}=UA(s.state);if(!e&&!r)return!1;Hd=r?e:null,t.type=="cut"&&!s.state.readOnly&&s.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=gb?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",e),!0):(HA(s,e),!1)};const bb=Ml.define();function xb(s,t){let e=[];for(let i of s.facet(Fv)){let r=i(s,t);r&&e.push(r)}return e.length?s.update({effects:e,annotations:bb.of(!0)}):null}function Sb(s){setTimeout(()=>{let t=s.hasFocus;if(t!=s.inputState.notifiedFocused){let e=xb(s.state,t);e?s.dispatch(e):s.update([])}},10)}zn.focus=s=>{s.inputState.lastFocusTime=Date.now(),!s.scrollDOM.scrollTop&&(s.inputState.lastScrollTop||s.inputState.lastScrollLeft)&&(s.scrollDOM.scrollTop=s.inputState.lastScrollTop,s.scrollDOM.scrollLeft=s.inputState.lastScrollLeft),Sb(s)};zn.blur=s=>{s.observer.clearSelectionRange(),Sb(s)};zn.compositionstart=zn.compositionupdate=s=>{s.observer.editContext||(s.inputState.compositionFirstChange==null&&(s.inputState.compositionFirstChange=!0),s.inputState.composing<0&&(s.inputState.composing=0))};zn.compositionend=s=>{s.observer.editContext||(s.inputState.composing=-1,s.inputState.compositionEndedAt=Date.now(),s.inputState.compositionPendingKey=!0,s.inputState.compositionPendingChange=s.observer.pendingRecords().length>0,s.inputState.compositionFirstChange=null,et.chrome&&et.android?s.observer.flushSoon():s.inputState.compositionPendingChange?Promise.resolve().then(()=>s.observer.flush()):setTimeout(()=>{s.inputState.composing<0&&s.docView.hasComposition&&s.update([])},50))};zn.contextmenu=s=>{s.inputState.lastContextMenu=Date.now()};Zn.beforeinput=(s,t)=>{var e,i;if((t.inputType=="insertText"||t.inputType=="insertCompositionText")&&(s.inputState.insertingText=t.data,s.inputState.insertingTextAt=Date.now()),t.inputType=="insertReplacementText"&&s.observer.editContext){let o=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),u=t.getTargetRanges();if(o&&u.length){let f=u[0],h=s.posAtDOM(f.startContainer,f.startOffset),m=s.posAtDOM(f.endContainer,f.endOffset);return dm(s,{from:h,to:m,insert:s.state.toText(o)},null),!0}}let r;if(et.chrome&&et.android&&(r=mb.find(o=>o.inputType==t.inputType))&&(s.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let o=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var u;(((u=window.visualViewport)===null||u===void 0?void 0:u.height)||0)>o+10&&s.hasFocus&&(s.contentDOM.blur(),s.focus())},100)}return et.ios&&t.inputType=="deleteContentForward"&&s.observer.flushSoon(),et.safari&&t.inputType=="insertText"&&s.inputState.composing>=0&&setTimeout(()=>zn.compositionend(s,t),20),!1};const oy=new Set;function qA(s){oy.has(s)||(oy.add(s),s.addEventListener("copy",()=>{}),s.addEventListener("cut",()=>{}))}const uy=["pre-wrap","normal","pre-line","break-spaces"];let hr=!1;function cy(){hr=!1}class VA{constructor(t){this.lineWrapping=t,this.doc=Ht.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return uy.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let r=t[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(e=!0,this.heightSamples[Math.floor(r*10)]=!0)}return e}refresh(t,e,i,r,o,u){let f=uy.indexOf(t)>-1,h=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=f;if(this.lineWrapping=f,this.lineHeight=e,this.charWidth=i,this.textHeight=r,this.lineLength=o,h){this.heightSamples={};for(let m=0;m<u.length;m++){let g=u[m];g<0?m++:this.heightSamples[Math.floor(g*10)]=!0}}return h}}class YA{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Xn{constructor(t,e,i,r,o){this.from=t,this.length=e,this.top=i,this.height=r,this._content=o}get type(){return typeof this._content=="number"?Be.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof rs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Xn(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Wt=(function(s){return s[s.ByPos=0]="ByPos",s[s.ByHeight=1]="ByHeight",s[s.ByPosNoHeight=2]="ByPosNoHeight",s})(Wt||(Wt={}));const Bu=.001;class Xe{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Bu&&(hr=!0),this.height=t)}replace(t,e,i){return Xe.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,r){let o=this,u=i.doc;for(let f=r.length-1;f>=0;f--){let{fromA:h,toA:m,fromB:g,toB:y}=r[f],b=o.lineAt(h,Wt.ByPosNoHeight,i.setDoc(e),0,0),S=b.to>=m?b:o.lineAt(m,Wt.ByPosNoHeight,i,0,0);for(y+=S.to-m,m=S.to;f>0&&b.from<=r[f-1].toA;)h=r[f-1].fromA,g=r[f-1].fromB,f--,h<b.from&&(b=o.lineAt(h,Wt.ByPosNoHeight,i,0,0));g+=b.from-h,h=b.from;let k=mm.build(i.setDoc(u),t,g,y);o=Zu(o,o.replace(h,m,k))}return o.updateHeight(i,0)}static empty(){return new vn(0,0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,r=0,o=0;for(;;)if(e==i)if(r>o*2){let f=t[e-1];f.break?t.splice(--e,1,f.left,null,f.right):t.splice(--e,1,f.left,f.right),i+=1+f.break,r-=f.size}else if(o>r*2){let f=t[i];f.break?t.splice(i,1,f.left,null,f.right):t.splice(i,1,f.left,f.right),i+=2+f.break,o-=f.size}else break;else if(r<o){let f=t[e++];f&&(r+=f.size)}else{let f=t[--i];f&&(o+=f.size)}let u=0;return t[e-1]==null?(u=1,e--):t[e]==null&&(u=1,i++),new XA(Xe.of(t.slice(0,e)),u,Xe.of(t.slice(i)))}}function Zu(s,t){return s==t?s:(s.constructor!=t.constructor&&(hr=!0),t)}Xe.prototype.size=1;const GA=qt.replace({});class kb extends Xe{constructor(t,e,i){super(t,e),this.deco=i,this.spaceAbove=0}mainBlock(t,e){return new Xn(e,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(t,e,i,r){return this.spaceAbove&&t<i+this.spaceAbove?new Xn(r,0,i,this.spaceAbove,GA):this.mainBlock(i,r)}lineAt(t,e,i,r,o){let u=this.mainBlock(r,o);return this.spaceAbove?this.blockAt(0,i,r,o).join(u):u}forEachLine(t,e,i,r,o,u){t<=o+this.length&&e>=o&&u(this.lineAt(0,Wt.ByPos,i,r,o))}setMeasuredHeight(t){let e=t.heights[t.index++];e<0?(this.spaceAbove=-e,e=t.heights[t.index++]):this.spaceAbove=0,this.setHeight(e)}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more&&this.setMeasuredHeight(r),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vn extends kb{constructor(t,e,i){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(t,e){return new Xn(e,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(t,e,i){let r=i[0];return i.length==1&&(r instanceof vn||r instanceof Ee&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Ee?r=new vn(r.length,this.height,this.spaceAbove):r.height=this.height,this.outdated||(r.outdated=!1),r):Xe.of(i)}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more?this.setMeasuredHeight(r):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ee extends Xe{constructor(t){super(t,0)}heightMetrics(t,e){let i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-i+1,u,f=0;if(t.lineWrapping){let h=Math.min(this.height,t.lineHeight*o);u=h/o,this.length>o+1&&(f=(this.height-h)/(this.length-o-1))}else u=this.height/o;return{firstLine:i,lastLine:r,perLine:u,perChar:f}}blockAt(t,e,i,r){let{firstLine:o,lastLine:u,perLine:f,perChar:h}=this.heightMetrics(e,r);if(e.lineWrapping){let m=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),g=e.doc.lineAt(m),y=f+g.length*h,b=Math.max(i,t-y/2);return new Xn(g.from,g.length,b,y,0)}else{let m=Math.max(0,Math.min(u-o,Math.floor((t-i)/f))),{from:g,length:y}=e.doc.line(o+m);return new Xn(g,y,i+f*m,f,0)}}lineAt(t,e,i,r,o){if(e==Wt.ByHeight)return this.blockAt(t,i,r,o);if(e==Wt.ByPosNoHeight){let{from:S,to:k}=i.doc.lineAt(t);return new Xn(S,k-S,0,0,0)}let{firstLine:u,perLine:f,perChar:h}=this.heightMetrics(i,o),m=i.doc.lineAt(t),g=f+m.length*h,y=m.number-u,b=r+f*y+h*(m.from-o-y);return new Xn(m.from,m.length,Math.max(r,Math.min(b,r+this.height-g)),g,0)}forEachLine(t,e,i,r,o,u){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:f,perLine:h,perChar:m}=this.heightMetrics(i,o);for(let g=t,y=r;g<=e;){let b=i.doc.lineAt(g);if(g==t){let k=b.number-f;y+=h*k+m*(t-o-k)}let S=h+m*b.length;u(new Xn(b.from,b.length,y,S,0)),y+=S,g=b.to+1}}replace(t,e,i){let r=this.length-e;if(r>0){let o=i[i.length-1];o instanceof Ee?i[i.length-1]=new Ee(o.length+r):i.push(null,new Ee(r-1))}if(t>0){let o=i[0];o instanceof Ee?i[0]=new Ee(t+o.length):i.unshift(new Ee(t-1),null)}return Xe.of(i)}decomposeLeft(t,e){e.push(new Ee(t-1),null)}decomposeRight(t,e){e.push(null,new Ee(this.length-t-1))}updateHeight(t,e=0,i=!1,r){let o=e+this.length;if(r&&r.from<=e+this.length&&r.more){let u=[],f=Math.max(e,r.from),h=-1;for(r.from>e&&u.push(new Ee(r.from-e-1).updateHeight(t,e));f<=o&&r.more;){let g=t.doc.lineAt(f).length;u.length&&u.push(null);let y=r.heights[r.index++],b=0;y<0&&(b=-y,y=r.heights[r.index++]),h==-1?h=y:Math.abs(y-h)>=Bu&&(h=-2);let S=new vn(g,y,b);S.outdated=!1,u.push(S),f+=g+1}f<=o&&u.push(null,new Ee(o-f).updateHeight(t,f));let m=Xe.of(u);return(h<0||Math.abs(m.height-this.height)>=Bu||Math.abs(h-this.heightMetrics(t,e).perLine)>=Bu)&&(hr=!0),Zu(this,m)}else(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class XA extends Xe{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,r){let o=i+this.left.height;return t<o?this.left.blockAt(t,e,i,r):this.right.blockAt(t,e,o,r+this.left.length+this.break)}lineAt(t,e,i,r,o){let u=r+this.left.height,f=o+this.left.length+this.break,h=e==Wt.ByHeight?t<u:t<f,m=h?this.left.lineAt(t,e,i,r,o):this.right.lineAt(t,e,i,u,f);if(this.break||(h?m.to<f:m.from>f))return m;let g=e==Wt.ByPosNoHeight?Wt.ByPosNoHeight:Wt.ByPos;return h?m.join(this.right.lineAt(f,g,i,u,f)):this.left.lineAt(f,g,i,r,o).join(m)}forEachLine(t,e,i,r,o,u){let f=r+this.left.height,h=o+this.left.length+this.break;if(this.break)t<h&&this.left.forEachLine(t,e,i,r,o,u),e>=h&&this.right.forEachLine(t,e,i,f,h,u);else{let m=this.lineAt(h,Wt.ByPos,i,r,o);t<m.from&&this.left.forEachLine(t,m.from-1,i,r,o,u),m.to>=t&&m.from<=e&&u(m),e>m.to&&this.right.forEachLine(m.to+1,e,i,f,h,u)}}replace(t,e,i){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,i));let o=[];t>0&&this.decomposeLeft(t,o);let u=o.length;for(let f of i)o.push(f);if(t>0&&fy(o,u-1),e<this.length){let f=o.length;this.decomposeRight(e,o),fy(o,f)}return Xe.of(o)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,r=i+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Xe.of(this.break?[t,null,e]:[t,e]):(this.left=Zu(this.left,t),this.right=Zu(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,r){let{left:o,right:u}=this,f=e+o.length+this.break,h=null;return r&&r.from<=e+o.length&&r.more?h=o=o.updateHeight(t,e,i,r):o.updateHeight(t,e,i),r&&r.from<=f+u.length&&r.more?h=u=u.updateHeight(t,f,i,r):u.updateHeight(t,f,i),h?this.balanced(o,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function fy(s,t){let e,i;s[t]==null&&(e=s[t-1])instanceof Ee&&(i=s[t+1])instanceof Ee&&s.splice(t-1,3,new Ee(e.length+1+i.length))}const QA=5;class mm{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof vn?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new vn(i-this.pos,-1,0)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,o=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let u=e-t;i.block?this.addBlock(new kb(u,r,i)):(u||o||r>=QA)&&this.addLineDeco(r,o,u)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new vn(this.pos-t,-1,0)),this.writtenTo=this.pos}blankContent(t,e){let i=new Ee(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof vn)return t;let e=new vn(0,-1,0);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof vn)&&!this.isCovered?this.nodes.push(new vn(0,-1,0)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let r of this.nodes)r instanceof vn&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(t,e,i,r){let o=new mm(i,t);return Nt.spans(e,i,r,o,0),o.finish(i)}}function KA(s,t,e){let i=new ZA;return Nt.compare(s,t,e,i,0),i.changes}class ZA{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,r){(t<e||i&&i.heightRelevant||r&&r.heightRelevant)&&lr(t,e,this.changes,5)}}function JA(s,t){let e=s.getBoundingClientRect(),i=s.ownerDocument,r=i.defaultView||window,o=Math.max(0,e.left),u=Math.min(r.innerWidth,e.right),f=Math.max(0,e.top),h=Math.min(r.innerHeight,e.bottom);for(let m=s.parentNode;m&&m!=i.body;)if(m.nodeType==1){let g=m,y=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&y.overflow!="visible"){let b=g.getBoundingClientRect();o=Math.max(o,b.left),u=Math.min(u,b.right),f=Math.max(f,b.top),h=Math.min(m==s.parentNode?r.innerHeight:h,b.bottom)}m=y.position=="absolute"||y.position=="fixed"?g.offsetParent:g.parentNode}else if(m.nodeType==11)m=m.host;else break;return{left:o-e.left,right:Math.max(o,u)-e.left,top:f-(e.top+t),bottom:Math.max(f,h)-(e.top+t)}}function WA(s){let t=s.getBoundingClientRect(),e=s.ownerDocument.defaultView||window;return t.left<e.innerWidth&&t.right>0&&t.top<e.innerHeight&&t.bottom>0}function FA(s,t){let e=s.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class Zh{constructor(t,e,i,r){this.from=t,this.to=e,this.size=i,this.displaySize=r}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(t,e){return qt.replace({widget:new IA(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class IA extends Tl{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class hy{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=dy,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ne.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(hm).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new VA(e),this.stateDeco=t.facet(Ra).filter(i=>typeof i!="function"),this.heightMap=Xe.empty().applyChanges(this.stateDeco,Ht.empty,this.heightOracle.setDoc(t.doc),[new Bn(0,0,0,t.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=qt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let r=i?e.head:e.anchor;if(!t.some(({from:o,to:u})=>r>=o&&r<=u)){let{from:o,to:u}=this.lineBlockAt(r);t.push(new yu(o,u))}}return this.viewports=t.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?dy:new pm(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Sa(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Ra).filter(g=>typeof g!="function");let r=t.changedRanges,o=Bn.extendWithRanges(r,KA(i,this.stateDeco,t?t.changes:ye.empty(this.state.doc.length))),u=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);cy(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=u||hr)&&(t.flags|=2),f?(this.scrollAnchorPos=t.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=u);let h=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<h.from||e.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,e));let m=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,t.flags|=this.updateForViewport(),(m||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Pv)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ne.RTL:ne.LTR;let u=this.heightOracle.mustRefreshForWrapping(o),f=e.getBoundingClientRect(),h=u||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let m=0,g=0;if(f.width&&f.height){let{scaleX:st,scaleY:K}=zv(e,f);(st>.005&&Math.abs(this.scaleX-st)>.005||K>.005&&Math.abs(this.scaleY-K)>.005)&&(this.scaleX=st,this.scaleY=K,m|=16,u=h=!0)}let y=(parseInt(i.paddingTop)||0)*this.scaleY,b=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,m|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(h=!0),this.editorWidth=t.scrollDOM.clientWidth,m|=16);let S=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=S&&(this.scrollAnchorHeight=-1,this.scrollTop=S),this.scrolledToBottom=jv(t.scrollDOM);let k=(this.printing?FA:JA)(e,this.paddingTop),w=k.top-this.pixelViewport.top,E=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView&&(this.inView=N,N&&(h=!0)),!this.inView&&!this.scrollTarget&&!WA(t.dom))return 0;let G=f.width;if((this.contentDOMWidth!=G||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=t.scrollDOM.clientHeight,m|=16),h){let st=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(st)&&(u=!0),u||r.lineWrapping&&Math.abs(G-this.contentDOMWidth)>r.charWidth){let{lineHeight:K,charWidth:Z,textHeight:U}=t.docView.measureTextSize();u=K>0&&r.refresh(o,K,Z,U,Math.max(5,G/Z),st),u&&(t.docView.minWidth=0,m|=16)}w>0&&E>0?g=Math.max(w,E):w<0&&E<0&&(g=Math.min(w,E)),cy();for(let K of this.viewports){let Z=K.from==this.viewport.from?st:t.docView.measureVisibleLineHeights(K);this.heightMap=(u?Xe.empty().applyChanges(this.stateDeco,Ht.empty,this.heightOracle,[new Bn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,u,new YA(K.from,Z))}hr&&(m|=2)}let J=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return J&&(m&2&&(m|=this.updateScaler()),this.viewport=this.getViewport(g,this.scrollTarget),m|=this.updateForViewport()),(m&2||J)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps,t)),m|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),m}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:u,visibleBottom:f}=this,h=new yu(r.lineAt(u-i*1e3,Wt.ByHeight,o,0,0).from,r.lineAt(f+(1-i)*1e3,Wt.ByHeight,o,0,0).to);if(e){let{head:m}=e.range;if(m<h.from||m>h.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=r.lineAt(m,Wt.ByPos,o,0,0),b;e.y=="center"?b=(y.top+y.bottom)/2-g/2:e.y=="start"||e.y=="nearest"&&m<h.from?b=y.top:b=y.bottom-g,h=new yu(r.lineAt(b-1e3/2,Wt.ByHeight,o,0,0).from,r.lineAt(b+g+1e3/2,Wt.ByHeight,o,0,0).to)}}return h}mapViewport(t,e){let i=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new yu(this.heightMap.lineAt(i,Wt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Wt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,Wt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,Wt.ByPos,this.heightOracle,0,0),{visibleTop:u,visibleBottom:f}=this;return(t==0||r<=u-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||o>=f+Math.max(10,Math.min(i,250)))&&r>u-2*1e3&&o<f+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let r of t)e.touchesRange(r.from,r.to)||i.push(new Zh(e.mapPos(r.from),e.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,o=r>>1,u=r<<1;if(this.defaultTextDirection!=ne.LTR&&!i)return[];let f=[],h=(g,y,b,S)=>{if(y-g<o)return;let k=this.state.selection.main,w=[k.from];k.empty||w.push(k.to);for(let N of w)if(N>g&&N<y){h(g,N-10,b,S),h(N+10,y,b,S);return}let E=$A(t,N=>N.from>=b.from&&N.to<=b.to&&Math.abs(N.from-g)<o&&Math.abs(N.to-y)<o&&!w.some(G=>N.from<G&&N.to>G));if(!E){if(y<b.to&&e&&i&&e.visibleRanges.some(J=>J.from<=y&&J.to>=y)){let J=e.moveToLineBoundary(Q.cursor(y),!1,!0).head;J>g&&(y=J)}let N=this.gapSize(b,g,y,S),G=i||N<2e6?N:2e6;E=new Zh(g,y,N,G)}f.push(E)},m=g=>{if(g.length<u||g.type!=Be.Text)return;let y=PA(g.from,g.to,this.stateDeco);if(y.total<u)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,S,k;if(i){let w=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,N;if(b!=null){let G=bu(y,b),J=((this.visibleBottom-this.visibleTop)/2+w)/g.height;E=G-J,N=G+J}else E=(this.visibleTop-g.top-w)/g.height,N=(this.visibleBottom-g.top+w)/g.height;S=vu(y,E),k=vu(y,N)}else{let w=y.total*this.heightOracle.charWidth,E=r*this.heightOracle.charWidth,N=0;if(w>2e6)for(let Z of t)Z.from>=g.from&&Z.from<g.to&&Z.size!=Z.displaySize&&Z.from*this.heightOracle.charWidth+N<this.pixelViewport.left&&(N=Z.size-Z.displaySize);let G=this.pixelViewport.left+N,J=this.pixelViewport.right+N,st,K;if(b!=null){let Z=bu(y,b),U=((J-G)/2+E)/w;st=Z-U,K=Z+U}else st=(G-E)/w,K=(J+E)/w;S=vu(y,st),k=vu(y,K)}S>g.from&&h(g.from,S,g,y),k<g.to&&h(k,g.to,g,y)};for(let g of this.viewportLines)Array.isArray(g.type)?g.type.forEach(m):m(g);return f}gapSize(t,e,i,r){let o=bu(r,i)-bu(r,e);return this.heightOracle.lineWrapping?t.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(t){Zh.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=qt.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Nt.spans(e,this.viewport.from,this.viewport.to,{span(o,u){i.push({from:o,to:u})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let o=0;o<i.length&&!(r&8);o++){let u=this.visibleRanges[o],f=i[o];(u.from!=f.from||u.to!=f.to)&&(r|=4,t&&t.mapPos(u.from,-1)==f.from&&t.mapPos(u.to,1)==f.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Sa(this.heightMap.lineAt(t,Wt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Sa(this.heightMap.lineAt(this.scaler.fromDOM(t),Wt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Sa(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class yu{constructor(t,e){this.from=t,this.to=e}}function PA(s,t,e){let i=[],r=s,o=0;return Nt.spans(e,s,t,{span(){},point(u,f){u>r&&(i.push({from:r,to:u}),o+=u-r),r=f}},20),r<t&&(i.push({from:r,to:t}),o+=t-r),{total:o,ranges:i}}function vu({total:s,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(s*e);for(let r=0;;r++){let{from:o,to:u}=t[r],f=u-o;if(i<=f)return o+i;i-=f}}function bu(s,t){let e=0;for(let{from:i,to:r}of s.ranges){if(t<=r){e+=t-i;break}e+=r-i}return e/s.total}function $A(s,t){for(let e of s)if(t(e))return e}const dy={toDOM(s){return s},fromDOM(s){return s},scale:1,eq(s){return s==this}};class pm{constructor(t,e,i){let r=0,o=0,u=0;this.viewports=i.map(({from:f,to:h})=>{let m=e.lineAt(f,Wt.ByPos,t,0,0).top,g=e.lineAt(h,Wt.ByPos,t,0,0).bottom;return r+=g-m,{from:f,to:h,top:m,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(e.height-r);for(let f of this.viewports)f.domTop=u+(f.top-o)*this.scale,u=f.domBottom=f.domTop+(f.bottom-f.top),o=f.bottom}toDOM(t){for(let e=0,i=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return r+(t-i)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);i=o.bottom,r=o.domBottom}}fromDOM(t){for(let e=0,i=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return i+(t-r)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);i=o.bottom,r=o.domBottom}}eq(t){return t instanceof pm?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to):!1}}function Sa(s,t){if(t.scale==1)return s;let e=t.toDOM(s.top),i=t.toDOM(s.bottom);return new Xn(s.from,s.length,e,i-e,Array.isArray(s._content)?s._content.map(r=>Sa(r,t)):s._content)}const xu=lt.define({combine:s=>s.join(" ")}),Ud=lt.define({combine:s=>s.indexOf(!0)>-1}),qd=Sl.newName(),wb=Sl.newName(),Ab=Sl.newName(),Cb={"&light":"."+wb,"&dark":"."+Ab};function Vd(s,t,e){return new Sl(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return s;if(!e||!e[r])throw new RangeError(`Unsupported selector: ${r}`);return e[r]}):s+" "+i}})}const tC=Vd("."+qd,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Cb),eC={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Jh=et.ie&&et.ie_version<=11;class nC{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new _w,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let i of e)this.queue.push(i);(et.ie&&et.ie_version<=11||et.ios&&t.composing)&&e.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&et.android&&t.constructor.EDIT_CONTEXT!==!1&&!(et.chrome&&et.chrome_version<126)&&(this.editContext=new lC(t),t.state.facet(ji)&&(t.contentDOM.editContext=this.editContext.editContext)),Jh&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(ji)?i.root.activeElement!=this.dom:!Du(this.dom,r))return;let o=r.anchorNode&&i.docView.tile.nearest(r.anchorNode);if(o&&o.isWidget()&&o.widget.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(et.ie&&et.ie_version<=11||et.android&&et.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Ca(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Ba(t.root);if(!e)return!1;let i=et.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&iC(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let r=Du(this.dom,i);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&zw(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,eC),Jh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Jh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&sr(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,r=!1;for(let o of t){let u=this.readMutation(o);u&&(u.typeOver&&(r=!0),e==-1?{from:e,to:i}=u:(e=Math.min(u.from,e),i=Math.max(u.to,i)))}return{from:e,to:i,typeOver:r}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Du(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new SA(this.view,t,e,i);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,r=hb(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.tile.nearest(t.target);if(!e||e.isWidget())return null;if(e.markDirty(t.type=="attributes"),t.type=="childList"){let i=my(e,t.previousSibling||t.target.previousSibling,-1),r=my(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(ji)!=t.state.facet(ji)&&(t.view.contentDOM.editContext=t.state.facet(ji)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function my(s,t,e){for(;t;){let i=be.get(t);if(i&&i.parent==s)return i;let r=t.parentNode;t=r!=s.dom?r:e>0?t.nextSibling:t.previousSibling}return null}function py(s,t){let e=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,u=s.docView.domAtPos(s.state.selection.main.anchor,1);return Ca(u.node,u.offset,r,o)&&([e,i,r,o]=[r,o,e,i]),{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}}function iC(s,t){if(t.getComposedRanges){let r=t.getComposedRanges(s.root)[0];if(r)return py(s,r)}let e=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",i,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",i,!0),e?py(s,e):null}class lC{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=i=>{let r=t.state.selection.main,{anchor:o,head:u}=r,f=this.toEditorPos(i.updateRangeStart),h=this.toEditorPos(i.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:f,drifted:!1});let m=h-f>i.text.length;f==this.from&&o<this.from?f=o:h==this.to&&o>this.to&&(h=o);let g=db(t.state.sliceDoc(f,h),i.text,(m?r.from:r.to)-f,m?"end":null);if(!g){let b=Q.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));b.main.eq(r)||t.dispatch({selection:b,userEvent:"select"});return}let y={from:g.from+f,to:g.toA+f,insert:Ht.of(i.text.slice(g.from,g.toB).split(`
`))};if((et.mac||et.android)&&y.from==u-1&&/^\. ?$/.test(i.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(y={from:f,to:h,insert:Ht.of([i.text.replace("."," ")])}),this.pendingContextChange=y,!t.state.readOnly){let b=this.to-this.from+(y.to-y.from+y.insert.length);dm(t,y,Q.single(this.toEditorPos(i.selectionStart,b),this.toEditorPos(i.selectionEnd,b)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)),y.from<y.to&&!y.insert.length&&t.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(e.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(e.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let r=[],o=null;for(let u=this.toEditorPos(i.rangeStart),f=this.toEditorPos(i.rangeEnd);u<f;u++){let h=t.coordsForChar(u);o=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||o||new DOMRect,r.push(o)}e.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let o of i.getTextFormats()){let u=o.underlineStyle,f=o.underlineThickness;if(!/none/i.test(u)&&!/none/i.test(f)){let h=this.toEditorPos(o.rangeStart),m=this.toEditorPos(o.rangeEnd);if(h<m){let g=`text-decoration: underline ${/^[a-z]/.test(u)?u+" ":u=="Dashed"?"dashed ":u=="Squiggle"?"wavy ":""}${/thin/i.test(f)?1:2}px`;r.push(qt.mark({attributes:{style:g}}).range(h,m))}}}t.dispatch({effects:tb.of(qt.set(r))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(t.state)}};for(let i in this.handlers)e.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=Ba(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,r=this.pendingContextChange;return t.changes.iterChanges((o,u,f,h,m)=>{if(i)return;let g=m.length-(u-o);if(r&&u>=r.to)if(r.from==o&&r.to==u&&r.insert.eq(m)){r=this.pendingContextChange=null,e+=g,this.to+=g;return}else r=null,this.revertPending(t.state);if(o+=e,u+=e,u<=this.from)this.from+=g,this.to+=g;else if(o<this.to){if(o<this.from||u>this.to||this.to-this.from+m.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(u),m.toString()),this.to+=g}e+=g}),r&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange,i=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(i.from,i.to)&&t.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),r=this.toContextPos(e.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let i=this.composing;return i&&i.drifted?i.editorBase+(t-i.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ct{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(r=>r.forEach(o=>i(o,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||Rw(t.parent)||document,this.viewState=new hy(t.state||jt.create(t)),t.scrollTo&&t.scrollTo.is(mu)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(tr).map(r=>new Yh(r));for(let r of this.plugins)r.update(this);this.observer=new nC(this),this.inputState=new CA(this),this.inputState.ensureHandlers(this.plugins),this.docView=new P1(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof ve?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,r,o=this.state;for(let b of t){if(b.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=b.state}if(this.destroyed){this.viewState.state=o;return}let u=this.hasFocus,f=0,h=null;t.some(b=>b.annotation(bb))?(this.inputState.notifiedFocused=u,f=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,h=xb(o,u),h||(f=1));let m=this.observer.delayedAndroidKey,g=null;if(m?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(g=null)):this.observer.clear(),o.facet(jt.phrases)!=this.state.facet(jt.phrases))return this.setState(o);r=Xu.create(this,o,t),r.flags|=f;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let b of t){if(y&&(y=y.map(b.changes)),b.scrollIntoView){let{main:S}=b.state.selection;y=new rr(S.empty?S:Q.cursor(S.head,S.head>S.anchor?-1:1))}for(let S of b.effects)S.is(mu)&&(y=S.value.clip(this.state))}this.viewState.update(r,y),this.bidiCache=Ju.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),e=this.docView.update(r),this.state.facet(ba)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(xu)!=r.state.facet(xu)&&(this.viewState.mustMeasureContent=!0),(e||i||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!r.empty)for(let b of this.state.facet(Rd))try{b(r)}catch(S){fi(this.state,S,"update listener")}(h||g)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),g&&!hb(this,g)&&m.force&&sr(this.contentDOM,m.key,m.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new hy(t),this.plugins=t.facet(tr).map(i=>new Yh(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new P1(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(tr),i=t.state.facet(tr);if(e!=i){let r=[];for(let o of i){let u=e.indexOf(o);if(u<0)r.push(new Yh(o));else{let f=this.plugins[u];f.mustUpdate=t,r.push(f)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=t;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(i){fi(this.state,i,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:u}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let f=0;;f++){if(u<0)if(jv(i))o=-1,u=this.viewState.heightMap.height;else{let S=this.viewState.scrollAnchorAt(r);o=S.from,u=S.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let m=[];h&4||([this.measureRequests,m]=[m,this.measureRequests]);let g=m.map(S=>{try{return S.read(this)}catch(k){return fi(this.state,k),gy}}),y=Xu.create(this,this.state,[]),b=!1;y.flags|=h,e?e.flags|=h:e=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),b=this.docView.update(y),b&&this.docViewUpdate());for(let S=0;S<m.length;S++)if(g[S]!=gy)try{let k=m[S];k.write&&k.write(g[S],this)}catch(k){fi(this.state,k)}if(b&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}else{let k=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-u;if(k>1||k<-1){r=r+k,i.scrollTop=r/this.scaleY,u=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let f of this.state.facet(Rd))f(e)}get themeClasses(){return qd+" "+(this.state.facet(Ud)?Ab:wb)+" "+this.state.facet(xu)}updateAttrs(){let t=yy(this,eb,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ji)?"true":"false",class:"cm-content",style:`${et.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),yy(this,hm,e);let i=this.observer.ignore(()=>{let r=K1(this.contentDOM,this.contentAttrs,e),o=K1(this.dom,this.editorAttrs,t);return r||o});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let r of i.effects)if(r.is(ct.announce)){e&&(this.announceDOM.textContent=""),e=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(ba);let t=this.state.facet(ct.cspNonce);Sl.mount(this.root,this.styleModules.concat(tC).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Kh(this,t,$1(this,t,e,i))}moveByGroup(t,e){return Kh(this,t,$1(this,t,e,i=>gA(this,t.head,i)))}visualLineSide(t,e){let i=this.bidiSpans(t),r=this.textDirectionAt(t.from),o=i[e?i.length-1:0];return Q.cursor(o.side(e,r)+t.from,o.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,i=!0){return pA(this,t,e,i)}moveVertically(t,e,i){return Kh(this,t,yA(this,t,e,i))}domAtPos(t,e=1){return this.docView.domAtPos(t,e)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){this.readMeasured();let i=jd(this,t,e);return i&&i.pos}posAndSideAtCoords(t,e=!0){return this.readMeasured(),jd(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(t),o=this.bidiSpans(r),u=o[Hi.find(o,t-r.from,-1,e)];return Gu(i,u.dir==ne.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Iv)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>sC)return Gv(t.length);let e=this.textDirectionAt(t.from),i;for(let o of this.bidiCache)if(o.from==t.from&&o.dir==e&&(o.fresh||Yv(o.isolates,i=W1(this,t))))return o.order;i||(i=W1(this,t));let r=Yw(t.text,e,i);return this.bidiCache.push(new Ju(t.from,t.to,e,i,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||et.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Lv(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return mu.of(new rr(typeof t=="number"?Q.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return mu.of(new rr(Q.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return an.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return an.define(()=>({}),{eventObservers:t})}static theme(t,e){let i=Sl.newName(),r=[xu.of(i),ba.of(Vd(`.${i}`,t))];return e&&e.dark&&r.push(Ud.of(!0)),r}static baseTheme(t){return ac.lowest(ba.of(Vd("."+qd,t,Cb)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),r=i&&be.get(i)||be.get(t);return((e=r?.root)===null||e===void 0?void 0:e.view)||null}}ct.styleModule=ba;ct.inputHandler=Wv;ct.clipboardInputFilter=cm;ct.clipboardOutputFilter=fm;ct.scrollHandler=$v;ct.focusChangeEffect=Fv;ct.perLineTextDirection=Iv;ct.exceptionSink=Jv;ct.updateListener=Rd;ct.editable=ji;ct.mouseSelectionStyle=Zv;ct.dragMovesSelection=Kv;ct.clickAddsSelectionRange=Qv;ct.decorations=Ra;ct.blockWrappers=nb;ct.outerDecorations=ib;ct.atomicRanges=Ga;ct.bidiIsolatedRanges=lb;ct.scrollMargins=sb;ct.darkTheme=Ud;ct.cspNonce=lt.define({combine:s=>s.length?s[0]:""});ct.contentAttributes=hm;ct.editorAttributes=eb;ct.lineWrapping=ct.contentAttributes.of({class:"cm-lineWrapping"});ct.announce=It.define();const sC=4096,gy={};class Ju{constructor(t,e,i,r,o,u){this.from=t,this.to=e,this.dir=i,this.isolates=r,this.fresh=o,this.order=u}static update(t,e){if(e.empty&&!t.some(o=>o.fresh))return t;let i=[],r=t.length?t[t.length-1].dir:ne.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let u=t[o];u.dir==r&&!e.touchesRange(u.from,u.to)&&i.push(new Ju(e.mapPos(u.from,1),e.mapPos(u.to,-1),u.dir,u.isolates,!1,u.order))}return i}}function yy(s,t,e){for(let i=s.state.facet(t),r=i.length-1;r>=0;r--){let o=i[r],u=typeof o=="function"?o(s):o;u&&am(u,e)}return e}const rC=et.mac?"mac":et.windows?"win":et.linux?"linux":"key";function aC(s,t){const e=s.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let r,o,u,f;for(let h=0;h<e.length-1;++h){const m=e[h];if(/^(cmd|meta|m)$/i.test(m))f=!0;else if(/^a(lt)?$/i.test(m))r=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))u=!0;else if(/^mod$/i.test(m))t=="mac"?f=!0:o=!0;else throw new Error("Unrecognized modifier name: "+m)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),f&&(i="Meta-"+i),u&&(i="Shift-"+i),i}function Su(s,t,e){return t.altKey&&(s="Alt-"+s),t.ctrlKey&&(s="Ctrl-"+s),t.metaKey&&(s="Meta-"+s),e!==!1&&t.shiftKey&&(s="Shift-"+s),s}const oC=ac.default(ct.domEventHandlers({keydown(s,t){return hC(uC(t.state),s,t,"editor")}})),Mb=lt.define({enables:oC}),vy=new WeakMap;function uC(s){let t=s.facet(Mb),e=vy.get(t);return e||vy.set(t,e=fC(t.reduce((i,r)=>i.concat(r),[]))),e}let gl=null;const cC=4e3;function fC(s,t=rC){let e=Object.create(null),i=Object.create(null),r=(u,f)=>{let h=i[u];if(h==null)i[u]=f;else if(h!=f)throw new Error("Key binding "+u+" is used both as a regular binding and as a multi-stroke prefix")},o=(u,f,h,m,g)=>{var y,b;let S=e[u]||(e[u]=Object.create(null)),k=f.split(/ (?!$)/).map(N=>aC(N,t));for(let N=1;N<k.length;N++){let G=k.slice(0,N).join(" ");r(G,!0),S[G]||(S[G]={preventDefault:!0,stopPropagation:!1,run:[J=>{let st=gl={view:J,prefix:G,scope:u};return setTimeout(()=>{gl==st&&(gl=null)},cC),!0}]})}let w=k.join(" ");r(w,!1);let E=S[w]||(S[w]={preventDefault:!1,stopPropagation:!1,run:((b=(y=S._any)===null||y===void 0?void 0:y.run)===null||b===void 0?void 0:b.slice())||[]});h&&E.run.push(h),m&&(E.preventDefault=!0),g&&(E.stopPropagation=!0)};for(let u of s){let f=u.scope?u.scope.split(" "):["editor"];if(u.any)for(let m of f){let g=e[m]||(e[m]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:y}=u;for(let b in g)g[b].run.push(S=>y(S,Yd))}let h=u[t]||u.key;if(h)for(let m of f)o(m,h,u.run,u.preventDefault,u.stopPropagation),u.shift&&o(m,"Shift-"+h,u.shift,u.preventDefault,u.stopPropagation)}return e}let Yd=null;function hC(s,t,e,i){Yd=t;let r=Cw(t),o=cs(r,0),u=rc(o)==r.length&&r!=" ",f="",h=!1,m=!1,g=!1;gl&&gl.view==e&&gl.scope==i&&(f=gl.prefix+" ",pb.indexOf(t.keyCode)<0&&(m=!0,gl=null));let y=new Set,b=E=>{if(E){for(let N of E.run)if(!y.has(N)&&(y.add(N),N(e)))return E.stopPropagation&&(g=!0),!0;E.preventDefault&&(E.stopPropagation&&(g=!0),m=!0)}return!1},S=s[i],k,w;return S&&(b(S[f+Su(r,t,!u)])?h=!0:u&&(t.altKey||t.metaKey||t.ctrlKey)&&!(et.windows&&t.ctrlKey&&t.altKey)&&!(et.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(k=kl[t.keyCode])&&k!=r?(b(S[f+Su(k,t,!0)])||t.shiftKey&&(w=Da[t.keyCode])!=r&&w!=k&&b(S[f+Su(w,t,!1)]))&&(h=!0):u&&t.shiftKey&&b(S[f+Su(r,t,!0)])&&(h=!0),!h&&b(S._any)&&(h=!0)),m&&(h=!0),h&&g&&t.stopPropagation(),Yd=null,h}class Xa{constructor(t,e,i,r,o){this.className=t,this.left=e,this.top=i,this.width=r,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let r=t.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let o=Tb(t);return[new Xa(e,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return dC(t,e,i)}}function Tb(s){let t=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==ne.LTR?t.left:t.right-s.scrollDOM.clientWidth*s.scaleX)-s.scrollDOM.scrollLeft*s.scaleX,top:t.top-s.scrollDOM.scrollTop*s.scaleY}}function by(s,t,e,i){let r=s.coordsAtPos(t,e*2);if(!r)return i;let o=s.dom.getBoundingClientRect(),u=(r.top+r.bottom)/2,f=s.posAtCoords({x:o.left+1,y:u}),h=s.posAtCoords({x:o.right-1,y:u});return f==null||h==null?i:{from:Math.max(i.from,Math.min(f,h)),to:Math.min(i.to,Math.max(f,h))}}function dC(s,t,e){if(e.to<=s.viewport.from||e.from>=s.viewport.to)return[];let i=Math.max(e.from,s.viewport.from),r=Math.min(e.to,s.viewport.to),o=s.textDirection==ne.LTR,u=s.contentDOM,f=u.getBoundingClientRect(),h=Tb(s),m=u.querySelector(".cm-line"),g=m&&window.getComputedStyle(m),y=f.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),b=f.right-(g?parseInt(g.paddingRight):0),S=Ld(s,i,1),k=Ld(s,r,-1),w=S.type==Be.Text?S:null,E=k.type==Be.Text?k:null;if(w&&(s.lineWrapping||S.widgetLineBreaks)&&(w=by(s,i,1,w)),E&&(s.lineWrapping||k.widgetLineBreaks)&&(E=by(s,r,-1,E)),w&&E&&w.from==E.from&&w.to==E.to)return G(J(e.from,e.to,w));{let K=w?J(e.from,null,w):st(S,!1),Z=E?J(null,e.to,E):st(k,!0),U=[];return(w||S).to<(E||k).from-(w&&E?1:0)||S.widgetLineBreaks>1&&K.bottom+s.defaultLineHeight/2<Z.top?U.push(N(y,K.bottom,b,Z.top)):K.bottom<Z.top&&s.elementAtHeight((K.bottom+Z.top)/2).type==Be.Text&&(K.bottom=Z.top=(K.bottom+Z.top)/2),G(K).concat(U).concat(G(Z))}function N(K,Z,U,rt){return new Xa(t,K-h.left,Z-h.top,U-K,rt-Z)}function G({top:K,bottom:Z,horizontal:U}){let rt=[];for(let mt=0;mt<U.length;mt+=2)rt.push(N(U[mt],K,U[mt+1],Z));return rt}function J(K,Z,U){let rt=1e9,mt=-1e9,At=[];function ft(gt,vt,D,X,tt){let ut=s.coordsAtPos(gt,gt==U.to?-2:2),ht=s.coordsAtPos(D,D==U.from?2:-2);!ut||!ht||(rt=Math.min(ut.top,ht.top,rt),mt=Math.max(ut.bottom,ht.bottom,mt),tt==ne.LTR?At.push(o&&vt?y:ut.left,o&&X?b:ht.right):At.push(!o&&X?y:ht.left,!o&&vt?b:ut.right))}let $=K??U.from,pt=Z??U.to;for(let gt of s.visibleRanges)if(gt.to>$&&gt.from<pt)for(let vt=Math.max(gt.from,$),D=Math.min(gt.to,pt);;){let X=s.state.doc.lineAt(vt);for(let tt of s.bidiSpans(X)){let ut=tt.from+X.from,ht=tt.to+X.from;if(ut>=D)break;ht>vt&&ft(Math.max(ut,vt),K==null&&ut<=$,Math.min(ht,D),Z==null&&ht>=pt,tt.dir)}if(vt=X.to+1,vt>=D)break}return At.length==0&&ft($,K==null,pt,Z==null,s.textDirection),{top:rt,bottom:mt,horizontal:At}}function st(K,Z){let U=f.top+(Z?K.top:K.bottom);return{top:U,bottom:U,horizontal:[]}}}function mC(s,t){return s.constructor==t.constructor&&s.eq(t)}class pC{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(_u)!=t.state.facet(_u)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(_u);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,i)=>!mC(e,this.drawn[i]))){let e=this.dom.firstChild,i=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[i].constructor&&r.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(r.draw(),e);for(;e;){let r=e.nextSibling;e.remove(),e=r}this.drawn=t,et.safari&&et.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const _u=lt.define();function Ob(s){return[an.define(t=>new pC(t,s)),_u.of(s)]}const za=lt.define({combine(s){return mr(s,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function gC(s={}){return[za.of(s),yC,vC,bC,Pv.of(!0)]}function Eb(s){return s.startState.facet(za)!=s.state.facet(za)}const yC=Ob({above:!0,markers(s){let{state:t}=s,e=t.facet(za),i=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty||e.drawRangeCursor){let u=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=r.empty?r:Q.cursor(r.head,r.head>r.anchor?-1:1);for(let h of Xa.forRange(s,u,f))i.push(h)}}return i},update(s,t){s.transactions.some(i=>i.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=Eb(s);return e&&xy(s.state,t),s.docChanged||s.selectionSet||e},mount(s,t){xy(t.state,s)},class:"cm-cursorLayer"});function xy(s,t){t.style.animationDuration=s.facet(za).cursorBlinkRate+"ms"}const vC=Ob({above:!1,markers(s){return s.state.selection.ranges.map(t=>t.empty?[]:Xa.forRange(s,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(s,t){return s.docChanged||s.selectionSet||s.viewportChanged||Eb(s)},class:"cm-selectionLayer"}),bC=ac.highest(ct.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Db=It.define({map(s,t){return s==null?null:t.mapPos(s)}}),ka=Ln.define({create(){return null},update(s,t){return s!=null&&(s=t.changes.mapPos(s)),t.effects.reduce((e,i)=>i.is(Db)?i.value:e,s)}}),xC=an.fromClass(class{constructor(s){this.view=s,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(s){var t;let e=s.state.field(ka);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(s.startState.field(ka)!=e||s.docChanged||s.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:s}=this,t=s.state.field(ka),e=t!=null&&s.coordsAtPos(t);if(!e)return null;let i=s.scrollDOM.getBoundingClientRect();return{left:e.left-i.left+s.scrollDOM.scrollLeft*s.scaleX,top:e.top-i.top+s.scrollDOM.scrollTop*s.scaleY,height:e.bottom-e.top}}drawCursor(s){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;s?(this.cursor.style.left=s.left/t+"px",this.cursor.style.top=s.top/e+"px",this.cursor.style.height=s.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(s){this.view.state.field(ka)!=s&&this.view.dispatch({effects:Db.of(s)})}},{eventObservers:{dragover(s){this.setDropPos(this.view.posAtCoords({x:s.clientX,y:s.clientY}))},dragleave(s){(s.target==this.view.contentDOM||!this.view.contentDOM.contains(s.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function SC(){return[ka,xC]}function Sy(s,t,e,i,r){t.lastIndex=0;for(let o=s.iterRange(e,i),u=e,f;!o.next().done;u+=o.value.length)if(!o.lineBreak)for(;f=t.exec(o.value);)r(u+f.index,f)}function kC(s,t){let e=s.visibleRanges;if(e.length==1&&e[0].from==s.viewport.from&&e[0].to==s.viewport.to)return e;let i=[];for(let{from:r,to:o}of e)r=Math.max(s.state.doc.lineAt(r).from,r-t),o=Math.min(s.state.doc.lineAt(o).to,o+t),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class wC{constructor(t){const{regexp:e,decoration:i,decorate:r,boundary:o,maxLength:u=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(f,h,m,g)=>r(g,m,m+f[0].length,f,h);else if(typeof i=="function")this.addMatch=(f,h,m,g)=>{let y=i(f,h,m);y&&g(m,m+f[0].length,y)};else if(i)this.addMatch=(f,h,m,g)=>g(m,m+f[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=u}createDeco(t){let e=new ss,i=e.add.bind(e);for(let{from:r,to:o}of kC(t,this.maxLength))Sy(t.state.doc,this.regexp,r,o,(u,f)=>this.addMatch(f,t,u,i));return e.finish()}updateDeco(t,e){let i=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((o,u,f,h)=>{h>=t.view.viewport.from&&f<=t.view.viewport.to&&(i=Math.min(f,i),r=Math.max(h,r))}),t.viewportMoved||r-i>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),i,r):e}updateRange(t,e,i,r){for(let o of t.visibleRanges){let u=Math.max(o.from,i),f=Math.min(o.to,r);if(f>=u){let h=t.state.doc.lineAt(u),m=h.to<f?t.state.doc.lineAt(f):h,g=Math.max(o.from,h.from),y=Math.min(o.to,m.to);if(this.boundary){for(;u>h.from;u--)if(this.boundary.test(h.text[u-1-h.from])){g=u;break}for(;f<m.to;f++)if(this.boundary.test(m.text[f-m.from])){y=f;break}}let b=[],S,k=(w,E,N)=>b.push(N.range(w,E));if(h==m)for(this.regexp.lastIndex=g-h.from;(S=this.regexp.exec(h.text))&&S.index<y-h.from;)this.addMatch(S,t,S.index+h.from,k);else Sy(t.state.doc,this.regexp,g,y,(w,E)=>this.addMatch(E,t,w,k));e=e.update({filterFrom:g,filterTo:y,filter:(w,E)=>w<g||E>y,add:b})}}return e}}const Gd=/x/.unicode!=null?"gu":"g",AC=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Gd),CC={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Wh=null;function MC(){var s;if(Wh==null&&typeof document<"u"&&document.body){let t=document.body.style;Wh=((s=t.tabSize)!==null&&s!==void 0?s:t.MozTabSize)!=null}return Wh||!1}const Ru=lt.define({combine(s){let t=mr(s,{render:null,specialChars:AC,addSpecialChars:null});return(t.replaceTabs=!MC())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,Gd)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Gd)),t}});function TC(s={}){return[Ru.of(s),OC()]}let ky=null;function OC(){return ky||(ky=an.fromClass(class{constructor(s){this.view=s,this.decorations=qt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(s.state.facet(Ru)),this.decorations=this.decorator.createDeco(s)}makeDecorator(s){return new wC({regexp:s.specialChars,decoration:(t,e,i)=>{let{doc:r}=e.state,o=cs(t[0],0);if(o==9){let u=r.lineAt(i),f=e.state.tabSize,h=pr(u.text,f,i-u.from);return qt.replace({widget:new BC((f-h%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=qt.replace({widget:new NC(s,o)}))},boundary:s.replaceTabs?void 0:/[^]/})}update(s){let t=s.state.facet(Ru);s.startState.facet(Ru)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(s.view)):this.decorations=this.decorator.updateDeco(s,this.decorations)}},{decorations:s=>s.decorations}))}const EC="";function DC(s){return s>=32?EC:s==10?"":String.fromCharCode(9216+s)}class NC extends Tl{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=DC(this.code),i=t.state.phrase("Control character")+" "+(CC[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,e);if(r)return r;let o=document.createElement("span");return o.textContent=e,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class BC extends Tl{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function _C(){return zC}const RC=qt.line({class:"cm-activeLine"}),zC=an.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.docChanged||s.selectionSet)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let t=-1,e=[];for(let i of s.state.selection.ranges){let r=s.lineBlockAt(i.head);r.from>t&&(e.push(RC.range(r.from)),t=r.from)}return qt.set(e)}},{decorations:s=>s.decorations}),Xd=2e3;function LC(s,t,e){let i=Math.min(t.line,e.line),r=Math.max(t.line,e.line),o=[];if(t.off>Xd||e.off>Xd||t.col<0||e.col<0){let u=Math.min(t.off,e.off),f=Math.max(t.off,e.off);for(let h=i;h<=r;h++){let m=s.doc.line(h);m.length<=f&&o.push(Q.range(m.from+u,m.to+f))}}else{let u=Math.min(t.col,e.col),f=Math.max(t.col,e.col);for(let h=i;h<=r;h++){let m=s.doc.line(h),g=wd(m.text,u,s.tabSize,!0);if(g<0)o.push(Q.cursor(m.to));else{let y=wd(m.text,f,s.tabSize);o.push(Q.range(m.from+g,m.from+y))}}}return o}function jC(s,t){let e=s.coordsAtPos(s.viewport.from);return e?Math.round(Math.abs((e.left-t)/s.defaultCharacterWidth)):-1}function wy(s,t){let e=s.posAtCoords({x:t.clientX,y:t.clientY},!1),i=s.state.doc.lineAt(e),r=e-i.from,o=r>Xd?-1:r==i.length?jC(s,t.clientX):pr(i.text,s.state.tabSize,e-i.from);return{line:i.number,col:o,off:r}}function HC(s,t){let e=wy(s,t),i=s.state.selection;return e?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(e.line).from),u=r.state.doc.lineAt(o);e={line:u.number,col:e.col,off:Math.min(e.off,u.length)},i=i.map(r.changes)}},get(r,o,u){let f=wy(s,r);if(!f)return i;let h=LC(s.state,e,f);return h.length?u?Q.create(h.concat(i.ranges)):Q.create(h):i}}:null}function UC(s){let t=(e=>e.altKey&&e.button==0);return ct.mouseSelectionStyle.of((e,i)=>t(i)?HC(e,i):null)}const qC={Alt:[18,s=>!!s.altKey],Control:[17,s=>!!s.ctrlKey],Shift:[16,s=>!!s.shiftKey],Meta:[91,s=>!!s.metaKey]},VC={style:"cursor: crosshair"};function YC(s={}){let[t,e]=qC[s.key||"Alt"],i=an.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==t||e(r))},keyup(r){(r.keyCode==t||!e(r))&&this.set(!1)},mousemove(r){this.set(e(r))}}});return[i,ct.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?VC:null})]}class qi extends xl{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}qi.prototype.elementClass="";qi.prototype.toDOM=void 0;qi.prototype.mapMode=ln.TrackBefore;qi.prototype.startSide=qi.prototype.endSide=-1;qi.prototype.point=!0;const zu=lt.define(),GC=lt.define(),XC={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Nt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Ta=lt.define();function QC(s){return[Nb(),Ta.of({...XC,...s})]}const Ay=lt.define({combine:s=>s.some(t=>t)});function Nb(s){return[KC]}const KC=an.fromClass(class{constructor(s){this.view=s,this.domAfter=null,this.prevViewport=s.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=s.state.facet(Ta).map(t=>new My(s,t)),this.fixed=!s.state.facet(Ay);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),s.scrollDOM.insertBefore(this.dom,s.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(s){if(this.updateGutters(s)){let t=this.prevViewport,e=s.view.viewport,i=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(i<(e.to-e.from)*.8)}if(s.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(Ay)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=s.view.viewport}syncGutters(s){let t=this.dom.nextSibling;s&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let e=Nt.iter(this.view.state.facet(zu),this.view.viewport.from),i=[],r=this.gutters.map(o=>new ZC(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(o.type)){let u=!0;for(let f of o.type)if(f.type==Be.Text&&u){Qd(e,i,f.from);for(let h of r)h.line(this.view,f,i);u=!1}else if(f.widget)for(let h of r)h.widget(this.view,f)}else if(o.type==Be.Text){Qd(e,i,o.from);for(let u of r)u.line(this.view,o,i)}else if(o.widget)for(let u of r)u.widget(this.view,o);for(let o of r)o.finish();s&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(s){let t=s.startState.facet(Ta),e=s.state.facet(Ta),i=s.docChanged||s.heightChanged||s.viewportChanged||!Nt.eq(s.startState.facet(zu),s.state.facet(zu),s.view.viewport.from,s.view.viewport.to);if(t==e)for(let r of this.gutters)r.update(s)&&(i=!0);else{i=!0;let r=[];for(let o of e){let u=t.indexOf(o);u<0?r.push(new My(this.view,o)):(this.gutters[u].update(s),r.push(this.gutters[u]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let s of this.gutters)s.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:s=>ct.scrollMargins.of(t=>{let e=t.plugin(s);if(!e||e.gutters.length==0||!e.fixed)return null;let i=e.dom.offsetWidth*t.scaleX,r=e.domAfter?e.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==ne.LTR?{left:i,right:r}:{right:i,left:r}})});function Cy(s){return Array.isArray(s)?s:[s]}function Qd(s,t,e){for(;s.value&&s.from<=e;)s.from==e&&t.push(s.value),s.next()}class ZC{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=Nt.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:r}=this,o=(e.top-this.height)/t.scaleY,u=e.height/t.scaleY;if(this.i==r.elements.length){let f=new Bb(t,u,o,i);r.elements.push(f),r.dom.appendChild(f.dom)}else r.elements[this.i].update(t,u,o,i);this.height=e.bottom,this.i++}line(t,e,i){let r=[];Qd(this.cursor,r,e.from),i.length&&(r=r.concat(i));let o=this.gutter.config.lineMarker(t,e,r);o&&r.unshift(o);let u=this.gutter;r.length==0&&!u.config.renderEmptyElements||this.addElement(t,e,r)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),r=i?[i]:null;for(let o of t.state.facet(GC)){let u=o(t,e.widget,e);u&&(r||(r=[])).push(u)}r&&this.addElement(t,e,r)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class My{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,r=>{let o=r.target,u;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let h=o.getBoundingClientRect();u=(h.top+h.bottom)/2}else u=r.clientY;let f=t.lineBlockAtHeight(u-t.documentTop);e.domEventHandlers[i](t,f,r)&&r.preventDefault()});this.markers=Cy(e.markers(t)),e.initialSpacer&&(this.spacer=new Bb(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Cy(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let i=t.view.viewport;return!Nt.eq(this.markers,e,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class Bb{constructor(t,e,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,r)}update(t,e,i,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),JC(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,u=0;;){let f=u,h=o<e.length?e[o++]:null,m=!1;if(h){let g=h.elementClass;g&&(i+=" "+g);for(let y=u;y<this.markers.length;y++)if(this.markers[y].compare(h)){f=y,m=!0;break}}else f=this.markers.length;for(;u<f;){let g=this.markers[u++];if(g.toDOM){g.destroy(r);let y=r.nextSibling;r.remove(),r=y}}if(!h)break;h.toDOM&&(m?r=r.nextSibling:this.dom.insertBefore(h.toDOM(t),r)),m&&u++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}function JC(s,t){if(s.length!=t.length)return!1;for(let e=0;e<s.length;e++)if(!s[e].compare(t[e]))return!1;return!0}const WC=lt.define(),FC=lt.define(),er=lt.define({combine(s){return mr(s,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let r in e){let o=i[r],u=e[r];i[r]=o?(f,h,m)=>o(f,h,m)||u(f,h,m):u}return i}})}});class Fh extends qi{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Ih(s,t){return s.state.facet(er).formatNumber(t,s.state)}const IC=Ta.compute([er],s=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(WC)},lineMarker(t,e,i){return i.some(r=>r.toDOM)?null:new Fh(Ih(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,i)=>{for(let r of t.state.facet(FC)){let o=r(t,e,i);if(o)return o}return null},lineMarkerChange:t=>t.startState.facet(er)!=t.state.facet(er),initialSpacer(t){return new Fh(Ih(t,Ty(t.state.doc.lines)))},updateSpacer(t,e){let i=Ih(e.view,Ty(e.view.state.doc.lines));return i==t.number?t:new Fh(i)},domEventHandlers:s.facet(er).domEventHandlers,side:"before"}));function PC(s={}){return[er.of(s),Nb(),IC]}function Ty(s){let t=9;for(;t<s;)t=t*10+9;return t}const $C=new class extends qi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},tM=zu.compute(["selection"],s=>{let t=[],e=-1;for(let i of s.selection.ranges){let r=s.doc.lineAt(i.head).from;r>e&&(e=r,t.push($C.range(r)))}return Nt.of(t)});function eM(){return tM}const _b=1024;let nM=0;class Ph{constructor(t,e){this.from=t,this.to=e}}class Mt{constructor(t={}){this.id=nM++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=on.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}}Mt.closedBy=new Mt({deserialize:s=>s.split(" ")});Mt.openedBy=new Mt({deserialize:s=>s.split(" ")});Mt.group=new Mt({deserialize:s=>s.split(" ")});Mt.isolate=new Mt({deserialize:s=>{if(s&&s!="rtl"&&s!="ltr"&&s!="auto")throw new RangeError("Invalid value for isolate: "+s);return s||"auto"}});Mt.contextHash=new Mt({perNode:!0});Mt.lookAhead=new Mt({perNode:!0});Mt.mounted=new Mt({perNode:!0});class Wu{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[Mt.mounted.id]}}const iM=Object.create(null);class on{constructor(t,e,i,r=0){this.name=t,this.props=e,this.id=i,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):iM,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new on(t.name||"",e,t.id,i);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Mt.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let r of i.split(" "))e[r]=t[i];return i=>{for(let r=i.prop(Mt.group),o=-1;o<(r?r.length:0);o++){let u=e[o<0?i.name:r[o]];if(u)return u}}}}on.none=new on("",Object.create(null),0,8);class gm{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let r=null;for(let o of t){let u=o(i);if(u){r||(r=Object.assign({},i.props));let f=u[1],h=u[0];h.combine&&h.id in r&&(f=h.combine(r[h.id],f)),r[h.id]=f}}e.push(r?new on(i.name,r,i.id,i.flags):i)}return new gm(e)}}const ku=new WeakMap,Oy=new WeakMap;var we;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays"})(we||(we={}));class pe{constructor(t,e,i,r,o){if(this.type=t,this.children=e,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[u,f]of o)this.props[typeof u=="number"?u:u.id]=f}}toString(){let t=Wu.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let r=i.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Zd(this.topNode,t)}cursorAt(t,e=0,i=0){let r=ku.get(this)||this.topNode,o=new Zd(r);return o.moveTo(t,e),ku.set(this,o._tree),o}get topNode(){return new Rn(this,0,0,null)}resolve(t,e=0){let i=La(ku.get(this)||this.topNode,t,e,!1);return ku.set(this,i),i}resolveInner(t,e=0){let i=La(Oy.get(this)||this.topNode,t,e,!0);return Oy.set(this,i),i}resolveStack(t,e=0){return rM(this,t,e)}iterate(t){let{enter:e,leave:i,from:r=0,to:o=this.length}=t,u=t.mode||0,f=(u&we.IncludeAnonymous)>0;for(let h=this.cursor(u|we.IncludeAnonymous);;){let m=!1;if(h.from<=o&&h.to>=r&&(!f&&h.type.isAnonymous||e(h)!==!1)){if(h.firstChild())continue;m=!0}for(;m&&i&&(f||!h.type.isAnonymous)&&i(h),!h.nextSibling();){if(!h.parent())return;m=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:bm(on.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,r)=>new pe(this.type,e,i,r,this.propValues),t.makeTree||((e,i,r)=>new pe(on.none,e,i,r)))}static build(t){return aM(t)}}pe.empty=new pe(on.none,[],[],0);class ym{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ym(this.buffer,this.index)}}class Al{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return on.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],r=this.set.types[e],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),t+=4,i==t)return o;let u=[];for(;t<i;)u.push(this.childString(t)),t=this.buffer[t+3];return o+"("+u.join(",")+")"}findChild(t,e,i,r,o){let{buffer:u}=this,f=-1;for(let h=t;h!=e&&!(Rb(o,r,u[h+1],u[h+2])&&(f=h,i>0));h=u[h+3]);return f}slice(t,e,i){let r=this.buffer,o=new Uint16Array(e-t),u=0;for(let f=t,h=0;f<e;){o[h++]=r[f++],o[h++]=r[f++]-i;let m=o[h++]=r[f++]-i;o[h++]=r[f++]-t,u=Math.max(u,m)}return new Al(o,u,this.set)}}function Rb(s,t,e,i){switch(s){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function La(s,t,e,i){for(var r;s.from==s.to||(e<1?s.from>=t:s.from>t)||(e>-1?s.to<=t:s.to<t);){let u=!i&&s instanceof Rn&&s.index<0?null:s.parent;if(!u)return s;s=u}let o=i?0:we.IgnoreOverlays;if(i)for(let u=s,f=u.parent;f;u=f,f=u.parent)u instanceof Rn&&u.index<0&&((r=f.enter(t,e,o))===null||r===void 0?void 0:r.from)!=u.from&&(s=f);for(;;){let u=s.enter(t,e,o);if(!u)return s;s=u}}class zb{cursor(t=0){return new Zd(this,t)}getChild(t,e=null,i=null){let r=Ey(this,t,e,i);return r.length?r[0]:null}getChildren(t,e=null,i=null){return Ey(this,t,e,i)}resolve(t,e=0){return La(this,t,e,!1)}resolveInner(t,e=0){return La(this,t,e,!0)}matchContext(t){return Kd(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let r=e.lastChild;if(!r||r.to!=e.to)break;r.type.isError&&r.from==r.to?(i=e,e=r.prevSibling):e=r}return i}get node(){return this}get next(){return this.parent}}class Rn extends zb{constructor(t,e,i,r){super(),this._tree=t,this.from=e,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,r,o=0){for(let u=this;;){for(let{children:f,positions:h}=u._tree,m=e>0?f.length:-1;t!=m;t+=e){let g=f[t],y=h[t]+u.from;if(Rb(r,i,y,y+g.length)){if(g instanceof Al){if(o&we.ExcludeBuffers)continue;let b=g.findChild(0,g.buffer.length,e,i-y,r);if(b>-1)return new vl(new lM(u,g,t,y),null,b)}else if(o&we.IncludeAnonymous||!g.type.isAnonymous||vm(g)){let b;if(!(o&we.IgnoreMounts)&&(b=Wu.get(g))&&!b.overlay)return new Rn(b.tree,y,t,u);let S=new Rn(g,y,t,u);return o&we.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(e<0?g.children.length-1:0,e,i,r)}}}if(o&we.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?t=u.index+e:t=e<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,e,i=0){let r;if(!(i&we.IgnoreOverlays)&&(r=Wu.get(this._tree))&&r.overlay){let o=t-this.from;for(let{from:u,to:f}of r.overlay)if((e>0?u<=o:u<o)&&(e<0?f>=o:f>o))return new Rn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Ey(s,t,e,i){let r=s.cursor(),o=[];if(!r.firstChild())return o;if(e!=null){for(let u=!1;!u;)if(u=r.type.is(e),!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function Kd(s,t,e=t.length-1){for(let i=s;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}class lM{constructor(t,e,i,r){this.parent=t,this.buffer=e,this.index=i,this.start=r}}class vl extends zb{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,i);return o<0?null:new vl(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,e,i=0){if(i&we.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new vl(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new vl(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new vl(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let u=i.buffer[this.index+1];t.push(i.slice(r,o,u)),e.push(0)}return new pe(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Lb(s){if(!s.length)return null;let t=0,e=s[0];for(let o=1;o<s.length;o++){let u=s[o];(u.from>e.from||u.to<e.to)&&(e=u,t=o)}let i=e instanceof Rn&&e.index<0?null:e.parent,r=s.slice();return i?r[t]=i:r.splice(t,1),new sM(r,e)}class sM{constructor(t,e){this.heads=t,this.node=e}get next(){return Lb(this.heads)}}function rM(s,t,e){let i=s.resolveInner(t,e),r=null;for(let o=i instanceof Rn?i:i.context.parent;o;o=o.parent)if(o.index<0){let u=o.parent;(r||(r=[i])).push(u.resolve(t,e)),o=u}else{let u=Wu.get(o.tree);if(u&&u.overlay&&u.overlay[0].from<=t&&u.overlay[u.overlay.length-1].to>=t){let f=new Rn(u.tree,u.overlay[0].from+o.from,-1,o);(r||(r=[i])).push(La(f,t,e,!1))}}return r?Lb(r):i}class Zd{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Rn)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=i+r.buffer[t+1],this.to=i+r.buffer[t+2],!0}yield(t){return t?t instanceof Rn?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&we.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&we.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&we.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(e.findChild(r,this.index,-1,0,4))}else{let r=e.buffer[this.index+3];if(r<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:i}=r)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let o=e+t,u=t<0?-1:i._tree.children.length;o!=u;o+=t){let f=i._tree.children[o];if(this.mode&we.IncludeAnonymous||f instanceof Al||!f.type.isAnonymous||vm(f))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let r=this.index,o=this.stack.length;o>=0;){for(let u=t;u;u=u._parent)if(u.index==r){if(r==this.index)return u;e=u,i=o+1;break t}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)e=new vl(this.buffer,e,this.stack[r]);return this.bufferNode=new vl(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&e&&e(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(t){if(!this.buffer)return Kd(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let r=t.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return Kd(this._tree,t,r);let u=i[e.buffer[this.stack[o]]];if(!u.isAnonymous){if(t[r]&&t[r]!=u.name)return!1;r--}}return!0}}function vm(s){return s.children.some(t=>t instanceof Al||!t.type.isAnonymous||vm(t))}function aM(s){var t;let{buffer:e,nodeSet:i,maxBufferLength:r=_b,reused:o=[],minRepeatType:u=i.types.length}=s,f=Array.isArray(e)?new ym(e,e.length):e,h=i.types,m=0,g=0;function y(K,Z,U,rt,mt,At){let{id:ft,start:$,end:pt,size:gt}=f,vt=g,D=m;if(gt<0)if(f.next(),gt==-1){let M=o[ft];U.push(M),rt.push($-K);return}else if(gt==-3){m=ft;return}else if(gt==-4){g=ft;return}else throw new RangeError(`Unrecognized record size: ${gt}`);let X=h[ft],tt,ut,ht=$-K;if(pt-$<=r&&(ut=E(f.pos-Z,mt))){let M=new Uint16Array(ut.size-ut.skip),j=f.pos-ut.size,V=M.length;for(;f.pos>j;)V=N(ut.start,M,V);tt=new Al(M,pt-ut.start,i),ht=ut.start-K}else{let M=f.pos-gt;f.next();let j=[],V=[],W=ft>=u?ft:-1,P=0,at=pt;for(;f.pos>M;)W>=0&&f.id==W&&f.size>=0?(f.end<=at-r&&(k(j,V,$,P,f.end,at,W,vt,D),P=j.length,at=f.end),f.next()):At>2500?b($,M,j,V):y($,M,j,V,W,At+1);if(W>=0&&P>0&&P<j.length&&k(j,V,$,P,$,at,W,vt,D),j.reverse(),V.reverse(),W>-1&&P>0){let kt=S(X,D);tt=bm(X,j,V,0,j.length,0,pt-$,kt,kt)}else tt=w(X,j,V,pt-$,vt-pt,D)}U.push(tt),rt.push(ht)}function b(K,Z,U,rt){let mt=[],At=0,ft=-1;for(;f.pos>Z;){let{id:$,start:pt,end:gt,size:vt}=f;if(vt>4)f.next();else{if(ft>-1&&pt<ft)break;ft<0&&(ft=gt-r),mt.push($,pt,gt),At++,f.next()}}if(At){let $=new Uint16Array(At*4),pt=mt[mt.length-2];for(let gt=mt.length-3,vt=0;gt>=0;gt-=3)$[vt++]=mt[gt],$[vt++]=mt[gt+1]-pt,$[vt++]=mt[gt+2]-pt,$[vt++]=vt;U.push(new Al($,mt[2]-pt,i)),rt.push(pt-K)}}function S(K,Z){return(U,rt,mt)=>{let At=0,ft=U.length-1,$,pt;if(ft>=0&&($=U[ft])instanceof pe){if(!ft&&$.type==K&&$.length==mt)return $;(pt=$.prop(Mt.lookAhead))&&(At=rt[ft]+$.length+pt)}return w(K,U,rt,mt,At,Z)}}function k(K,Z,U,rt,mt,At,ft,$,pt){let gt=[],vt=[];for(;K.length>rt;)gt.push(K.pop()),vt.push(Z.pop()+U-mt);K.push(w(i.types[ft],gt,vt,At-mt,$-At,pt)),Z.push(mt-U)}function w(K,Z,U,rt,mt,At,ft){if(At){let $=[Mt.contextHash,At];ft=ft?[$].concat(ft):[$]}if(mt>25){let $=[Mt.lookAhead,mt];ft=ft?[$].concat(ft):[$]}return new pe(K,Z,U,rt,ft)}function E(K,Z){let U=f.fork(),rt=0,mt=0,At=0,ft=U.end-r,$={size:0,start:0,skip:0};t:for(let pt=U.pos-K;U.pos>pt;){let gt=U.size;if(U.id==Z&&gt>=0){$.size=rt,$.start=mt,$.skip=At,At+=4,rt+=4,U.next();continue}let vt=U.pos-gt;if(gt<0||vt<pt||U.start<ft)break;let D=U.id>=u?4:0,X=U.start;for(U.next();U.pos>vt;){if(U.size<0)if(U.size==-3||U.size==-4)D+=4;else break t;else U.id>=u&&(D+=4);U.next()}mt=X,rt+=gt,At+=D}return(Z<0||rt==K)&&($.size=rt,$.start=mt,$.skip=At),$.size>4?$:void 0}function N(K,Z,U){let{id:rt,start:mt,end:At,size:ft}=f;if(f.next(),ft>=0&&rt<u){let $=U;if(ft>4){let pt=f.pos-(ft-4);for(;f.pos>pt;)U=N(K,Z,U)}Z[--U]=$,Z[--U]=At-K,Z[--U]=mt-K,Z[--U]=rt}else ft==-3?m=rt:ft==-4&&(g=rt);return U}let G=[],J=[];for(;f.pos>0;)y(s.start||0,s.bufferStart||0,G,J,-1,0);let st=(t=s.length)!==null&&t!==void 0?t:G.length?J[0]+G[0].length:0;return new pe(h[s.topID],G.reverse(),J.reverse(),st)}const Dy=new WeakMap;function Lu(s,t){if(!s.isAnonymous||t instanceof Al||t.type!=s)return 1;let e=Dy.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=s||!(i instanceof pe)){e=1;break}e+=Lu(s,i)}Dy.set(t,e)}return e}function bm(s,t,e,i,r,o,u,f,h){let m=0;for(let k=i;k<r;k++)m+=Lu(s,t[k]);let g=Math.ceil(m*1.5/8),y=[],b=[];function S(k,w,E,N,G){for(let J=E;J<N;){let st=J,K=w[J],Z=Lu(s,k[J]);for(J++;J<N;J++){let U=Lu(s,k[J]);if(Z+U>=g)break;Z+=U}if(J==st+1){if(Z>g){let U=k[st];S(U.children,U.positions,0,U.children.length,w[st]+G);continue}y.push(k[st])}else{let U=w[J-1]+k[J-1].length-K;y.push(bm(s,k,w,st,J,K,U,null,h))}b.push(K+G-o)}}return S(t,e,i,r,0),(f||h)(y,b,u)}class ls{constructor(t,e,i,r,o=!1,u=!1){this.from=t,this.to=e,this.tree=i,this.offset=r,this.open=(o?1:0)|(u?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let r=[new ls(0,t.length,t,0,!1,i)];for(let o of e)o.to>t.length&&r.push(o);return r}static applyChanges(t,e,i=128){if(!e.length)return t;let r=[],o=1,u=t.length?t[0]:null;for(let f=0,h=0,m=0;;f++){let g=f<e.length?e[f]:null,y=g?g.fromA:1e9;if(y-h>=i)for(;u&&u.from<y;){let b=u;if(h>=b.from||y<=b.to||m){let S=Math.max(b.from,h)-m,k=Math.min(b.to,y)-m;b=S>=k?null:new ls(S,k,b.tree,b.offset+m,f>0,!!g)}if(b&&r.push(b),u.to>y)break;u=o<t.length?t[o++]:null}if(!g)break;h=g.toA,m=g.toA-g.toB}return r}}class jb{startParse(t,e,i){return typeof t=="string"&&(t=new oM(t)),i=i?i.length?i.map(r=>new Ph(r.from,r.to)):[new Ph(0,0)]:[new Ph(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let r=this.startParse(t,e,i);for(;;){let o=r.advance();if(o)return o}}}class oM{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Mt({perNode:!0});let uM=0;class Dn{constructor(t,e,i,r){this.name=t,this.set=e,this.base=i,this.modified=r,this.id=uM++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof Dn&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let r=new Dn(i,[],null,[]);if(r.set.push(r),e)for(let o of e.set)r.set.push(o);return r}static defineModifier(t){let e=new Fu(t);return i=>i.modified.indexOf(e)>-1?i:Fu.get(i.base||i,i.modified.concat(e).sort((r,o)=>r.id-o.id))}}let cM=0;class Fu{constructor(t){this.name=t,this.instances=[],this.id=cM++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(f=>f.base==t&&fM(e,f.modified));if(i)return i;let r=[],o=new Dn(t.name,r,t,e);for(let f of e)f.instances.push(o);let u=hM(e);for(let f of t.set)if(!f.modified.length)for(let h of u)r.push(Fu.get(f,h));return o}}function fM(s,t){return s.length==t.length&&s.every((e,i)=>e==t[i])}function hM(s){let t=[[]];for(let e=0;e<s.length;e++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(s[e]));return t.sort((e,i)=>i.length-e.length)}function Hb(s){let t=Object.create(null);for(let e in s){let i=s[e];Array.isArray(i)||(i=[i]);for(let r of e.split(" "))if(r){let o=[],u=2,f=r;for(let y=0;;){if(f=="..."&&y>0&&y+3==r.length){u=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!b)throw new RangeError("Invalid path: "+r);if(o.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),y+=b[0].length,y==r.length)break;let S=r[y++];if(y==r.length&&S=="!"){u=0;break}if(S!="/")throw new RangeError("Invalid path: "+r);f=r.slice(y)}let h=o.length-1,m=o[h];if(!m)throw new RangeError("Invalid path: "+r);let g=new ja(i,u,h>0?o.slice(0,h):null);t[m]=g.sort(t[m])}}return Ub.add(t)}const Ub=new Mt({combine(s,t){let e,i,r;for(;s||t;){if(!s||t&&s.depth>=t.depth?(r=t,t=t.next):(r=s,s=s.next),e&&e.mode==r.mode&&!r.context&&!e.context)continue;let o=new ja(r.tags,r.mode,r.context);e?e.next=o:i=o,e=o}return i}});class ja{constructor(t,e,i,r){this.tags=t,this.mode=e,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}ja.empty=new ja([],2,null);function qb(s,t){let e=Object.create(null);for(let o of s)if(!Array.isArray(o.tag))e[o.tag.id]=o.class;else for(let u of o.tag)e[u.id]=o.class;let{scope:i,all:r=null}=t||{};return{style:o=>{let u=r;for(let f of o)for(let h of f.set){let m=e[h.id];if(m){u=u?u+" "+m:m;break}}return u},scope:i}}function dM(s,t){let e=null;for(let i of s){let r=i.style(t);r&&(e=e?e+" "+r:r)}return e}function mM(s,t,e,i=0,r=s.length){let o=new pM(i,Array.isArray(t)?t:[t],e);o.highlightRange(s.cursor(),i,r,"",o.highlighters),o.flush(r)}class pM{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,r,o){let{type:u,from:f,to:h}=t;if(f>=i||h<=e)return;u.isTop&&(o=this.highlighters.filter(S=>!S.scope||S.scope(u)));let m=r,g=gM(t)||ja.empty,y=dM(o,g.tags);if(y&&(m&&(m+=" "),m+=y,g.mode==1&&(r+=(r?" ":"")+y)),this.startSpan(Math.max(e,f),m),g.opaque)return;let b=t.tree&&t.tree.prop(Mt.mounted);if(b&&b.overlay){let S=t.node.enter(b.overlay[0].from+f,1),k=this.highlighters.filter(E=>!E.scope||E.scope(b.tree.type)),w=t.firstChild();for(let E=0,N=f;;E++){let G=E<b.overlay.length?b.overlay[E]:null,J=G?G.from+f:h,st=Math.max(e,N),K=Math.min(i,J);if(st<K&&w)for(;t.from<K&&(this.highlightRange(t,st,K,r,o),this.startSpan(Math.min(K,t.to),m),!(t.to>=J||!t.nextSibling())););if(!G||J>i)break;N=G.to+f,N>e&&(this.highlightRange(S.cursor(),Math.max(e,G.from+f),Math.min(i,N),"",k),this.startSpan(Math.min(i,N),m))}w&&t.parent()}else if(t.firstChild()){b&&(r="");do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,r,o),this.startSpan(Math.min(i,t.to),m)}while(t.nextSibling());t.parent()}}}function gM(s){let t=s.type.prop(Ub);for(;t&&t.context&&!s.matchContext(t.context);)t=t.next;return t||null}const I=Dn.define,wu=I(),ml=I(),Ny=I(ml),By=I(ml),pl=I(),Au=I(pl),$h=I(pl),oi=I(),Pl=I(oi),ri=I(),ai=I(),Jd=I(),ga=I(Jd),Cu=I(),L={comment:wu,lineComment:I(wu),blockComment:I(wu),docComment:I(wu),name:ml,variableName:I(ml),typeName:Ny,tagName:I(Ny),propertyName:By,attributeName:I(By),className:I(ml),labelName:I(ml),namespace:I(ml),macroName:I(ml),literal:pl,string:Au,docString:I(Au),character:I(Au),attributeValue:I(Au),number:$h,integer:I($h),float:I($h),bool:I(pl),regexp:I(pl),escape:I(pl),color:I(pl),url:I(pl),keyword:ri,self:I(ri),null:I(ri),atom:I(ri),unit:I(ri),modifier:I(ri),operatorKeyword:I(ri),controlKeyword:I(ri),definitionKeyword:I(ri),moduleKeyword:I(ri),operator:ai,derefOperator:I(ai),arithmeticOperator:I(ai),logicOperator:I(ai),bitwiseOperator:I(ai),compareOperator:I(ai),updateOperator:I(ai),definitionOperator:I(ai),typeOperator:I(ai),controlOperator:I(ai),punctuation:Jd,separator:I(Jd),bracket:ga,angleBracket:I(ga),squareBracket:I(ga),paren:I(ga),brace:I(ga),content:oi,heading:Pl,heading1:I(Pl),heading2:I(Pl),heading3:I(Pl),heading4:I(Pl),heading5:I(Pl),heading6:I(Pl),contentSeparator:I(oi),list:I(oi),quote:I(oi),emphasis:I(oi),strong:I(oi),link:I(oi),monospace:I(oi),strikethrough:I(oi),inserted:I(),deleted:I(),changed:I(),invalid:I(),meta:Cu,documentMeta:I(Cu),annotation:I(Cu),processingInstruction:I(Cu),definition:Dn.defineModifier("definition"),constant:Dn.defineModifier("constant"),function:Dn.defineModifier("function"),standard:Dn.defineModifier("standard"),local:Dn.defineModifier("local"),special:Dn.defineModifier("special")};for(let s in L){let t=L[s];t instanceof Dn&&(t.name=s)}qb([{tag:L.link,class:"tok-link"},{tag:L.heading,class:"tok-heading"},{tag:L.emphasis,class:"tok-emphasis"},{tag:L.strong,class:"tok-strong"},{tag:L.keyword,class:"tok-keyword"},{tag:L.atom,class:"tok-atom"},{tag:L.bool,class:"tok-bool"},{tag:L.url,class:"tok-url"},{tag:L.labelName,class:"tok-labelName"},{tag:L.inserted,class:"tok-inserted"},{tag:L.deleted,class:"tok-deleted"},{tag:L.literal,class:"tok-literal"},{tag:L.string,class:"tok-string"},{tag:L.number,class:"tok-number"},{tag:[L.regexp,L.escape,L.special(L.string)],class:"tok-string2"},{tag:L.variableName,class:"tok-variableName"},{tag:L.local(L.variableName),class:"tok-variableName tok-local"},{tag:L.definition(L.variableName),class:"tok-variableName tok-definition"},{tag:L.special(L.variableName),class:"tok-variableName2"},{tag:L.definition(L.propertyName),class:"tok-propertyName tok-definition"},{tag:L.typeName,class:"tok-typeName"},{tag:L.namespace,class:"tok-namespace"},{tag:L.className,class:"tok-className"},{tag:L.macroName,class:"tok-macroName"},{tag:L.propertyName,class:"tok-propertyName"},{tag:L.operator,class:"tok-operator"},{tag:L.comment,class:"tok-comment"},{tag:L.meta,class:"tok-meta"},{tag:L.invalid,class:"tok-invalid"},{tag:L.punctuation,class:"tok-punctuation"}]);var td;const nr=new Mt;function yM(s){return lt.define({combine:s?t=>t.concat(s):void 0})}const vM=new Mt;class Kn{constructor(t,e,i=[],r=""){this.data=t,this.name=r,jt.prototype.hasOwnProperty("tree")||Object.defineProperty(jt.prototype,"tree",{get(){return Qe(this)}}),this.parser=e,this.extension=[Cl.of(this),jt.languageData.of((o,u,f)=>{let h=_y(o,u,f),m=h.type.prop(nr);if(!m)return[];let g=o.facet(m),y=h.type.prop(vM);if(y){let b=h.resolve(u-h.from,f);for(let S of y)if(S.test(b,o)){let k=o.facet(S.facet);return S.type=="replace"?k:k.concat(g)}}return g})].concat(i)}isActiveAt(t,e,i=-1){return _y(t,e,i).type.prop(nr)==this.data}findRegions(t){let e=t.facet(Cl);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],r=(o,u)=>{if(o.prop(nr)==this.data){i.push({from:u,to:u+o.length});return}let f=o.prop(Mt.mounted);if(f){if(f.tree.prop(nr)==this.data){if(f.overlay)for(let h of f.overlay)i.push({from:h.from+u,to:h.to+u});else i.push({from:u,to:u+o.length});return}else if(f.overlay){let h=i.length;if(r(f.tree,f.overlay[0].from+u),i.length>h)return}}for(let h=0;h<o.children.length;h++){let m=o.children[h];m instanceof pe&&r(m,o.positions[h]+u)}};return r(Qe(t),0),i}get allowsNesting(){return!0}}Kn.setState=It.define();function _y(s,t,e){let i=s.facet(Cl),r=Qe(s).topNode;if(!i||i.allowsNesting)for(let o=r;o;o=o.enter(t,e,we.ExcludeBuffers))o.type.isTop&&(r=o);return r}class Iu extends Kn{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=yM(t.languageData);return new Iu(e,t.parser.configure({props:[nr.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new Iu(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Qe(s){let t=s.field(Kn.state,!1);return t?t.tree:pe.empty}class bM{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let ya=null;class Pu{constructor(t,e,i=[],r,o,u,f,h){this.parser=t,this.state=e,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=u,this.skipped=f,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new Pu(t,e,[],pe.empty,0,i,[],null)}startParse(){return this.parser.startParse(new bM(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=pe.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ls.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(ls.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=ya;ya=this;try{return t()}finally{ya=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Ry(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:r,treeLen:o,viewport:u,skipped:f}=this;if(this.takeTree(),!t.empty){let h=[];if(t.iterChangedRanges((m,g,y,b)=>h.push({fromA:m,toA:g,fromB:y,toB:b})),i=ls.applyChanges(i,h),r=pe.empty,o=0,u={from:t.mapPos(u.from,-1),to:t.mapPos(u.to,1)},this.skipped.length){f=[];for(let m of this.skipped){let g=t.mapPos(m.from,1),y=t.mapPos(m.to,-1);g<y&&f.push({from:g,to:y})}}}return new Pu(this.parser,e,i,r,o,u,f,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<t.to&&o>t.from&&(this.fragments=Ry(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends jb{createParse(e,i,r){let o=r[0].from,u=r[r.length-1].to;return{parsedPos:o,advance(){let h=ya;if(h){for(let m of r)h.tempSkipped.push(m);t&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,t]):t)}return this.parsedPos=u,new pe(on.none,[],[],u-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return ya}}function Ry(s,t,e){return ls.applyChanges(s,[{fromA:t,toA:e,fromB:t,toB:e}])}class dr{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new dr(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=Pu.create(t.facet(Cl).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new dr(i)}}Kn.state=Ln.define({create:dr.init,update(s,t){for(let e of t.effects)if(e.is(Kn.setState))return e.value;return t.startState.facet(Cl)!=t.state.facet(Cl)?dr.init(t.state):s.apply(t)}});let Vb=s=>{let t=setTimeout(()=>s(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(Vb=s=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(s,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const ed=typeof navigator<"u"&&(!((td=navigator.scheduling)===null||td===void 0)&&td.isInputPending)?()=>navigator.scheduling.isInputPending():null,xM=an.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Kn.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Kn.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=Vb(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(Kn.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,t&&!ed?Math.max(25,t.timeRemaining()-5):1e9),f=o.context.treeLen<r&&i.doc.length>r+1e3,h=o.context.work(()=>ed&&ed()||Date.now()>u,r+(f?0:1e5));this.chunkBudget-=Date.now()-e,(h||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Kn.setState.of(new dr(o.context))})),this.chunkBudget>0&&!(h&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>fi(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Cl=lt.define({combine(s){return s.length?s[0]:null},enables:s=>[Kn.state,xM,ct.contentAttributes.compute([s],t=>{let e=t.facet(s);return e&&e.name?{"data-language":e.name}:{}})]});class SM{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const kM=lt.define(),xm=lt.define({combine:s=>{if(!s.length)return"  ";let t=s[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(s[0]));return t}});function $u(s){let t=s.facet(xm);return t.charCodeAt(0)==9?s.tabSize*t.length:t.length}function Ha(s,t){let e="",i=s.tabSize,r=s.facet(xm)[0];if(r=="	"){for(;t>=i;)e+="	",t-=i;r=" "}for(let o=0;o<t;o++)e+=r;return e}function Sm(s,t){s instanceof jt&&(s=new hc(s));for(let i of s.state.facet(kM)){let r=i(s,t);if(r!==void 0)return r}let e=Qe(s.state);return e.length>=t?wM(s,e,t):null}class hc{constructor(t,e={}){this.state=t,this.options=e,this.unit=$u(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(t,e);return i.slice(t-r,Math.min(i.length,t+100-r))}column(t,e=1){let{text:i,from:r}=this.lineAt(t,e),o=this.countColumn(i,t-r),u=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return u>-1&&(o+=u-this.countColumn(i,i.search(/\S|$/))),o}countColumn(t,e=t.length){return pr(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:r}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let u=o(r);if(u>-1)return u}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Yb=new Mt;function wM(s,t,e){let i=t.resolveStack(e),r=t.resolveInner(e,-1).resolve(e,0).enterUnfinishedNodesBefore(e);if(r!=i.node){let o=[];for(let u=r;u&&!(u.from<i.node.from||u.to>i.node.to||u.from==i.node.from&&u.type==i.node.type);u=u.parent)o.push(u);for(let u=o.length-1;u>=0;u--)i={node:o[u],next:i}}return Gb(i,s,e)}function Gb(s,t,e){for(let i=s;i;i=i.next){let r=CM(i.node);if(r)return r(km.create(t,e,i))}return 0}function AM(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}function CM(s){let t=s.type.prop(Yb);if(t)return t;let e=s.firstChild,i;if(e&&(i=e.type.prop(Mt.closedBy))){let r=s.lastChild,o=r&&i.indexOf(r.name)>-1;return u=>EM(u,!0,1,void 0,o&&!AM(u)?r.from:void 0)}return s.parent==null?MM:null}function MM(){return 0}class km extends hc{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.context=i}get node(){return this.context.node}static create(t,e,i){return new km(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let i=t.resolve(e.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(TM(i,t))break;e=this.state.doc.lineAt(i.from)}return this.lineIndent(e.from)}continue(){return Gb(this.context.next,this.base,this.pos)}}function TM(s,t){for(let e=t;e;e=e.parent)if(s==e)return!0;return!1}function OM(s){let t=s.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let r=s.options.simulateBreak,o=s.state.doc.lineAt(e.from),u=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let f=e.to;;){let h=t.childAfter(f);if(!h||h==i)return null;if(!h.type.isSkipped){if(h.from>=u)return null;let m=/^ */.exec(o.text.slice(e.to-o.from))[0].length;return{from:e.from,to:e.to+m}}f=h.to}}function EM(s,t,e,i,r){let o=s.textAfter,u=o.match(/^\s*/)[0].length,f=i&&o.slice(u,u+i.length)==i||r==s.pos+u,h=OM(s);return h?f?s.column(h.from):s.column(h.to):s.baseIndent+(f?0:s.unit*e)}function zy({except:s,units:t=1}={}){return e=>{let i=s&&s.test(e.textAfter);return e.baseIndent+(i?0:t*e.unit)}}const DM=200;function NM(){return jt.transactionFilter.of(s=>{if(!s.docChanged||!s.isUserEvent("input.type")&&!s.isUserEvent("input.complete"))return s;let t=s.startState.languageDataAt("indentOnInput",s.startState.selection.main.head);if(!t.length)return s;let e=s.newDoc,{head:i}=s.newSelection.main,r=e.lineAt(i);if(i>r.from+DM)return s;let o=e.sliceString(r.from,i);if(!t.some(m=>m.test(o)))return s;let{state:u}=s,f=-1,h=[];for(let{head:m}of u.selection.ranges){let g=u.doc.lineAt(m);if(g.from==f)continue;f=g.from;let y=Sm(u,g.from);if(y==null)continue;let b=/^\s*/.exec(g.text)[0],S=Ha(u,y);b!=S&&h.push({from:g.from,to:g.from+b.length,insert:S})}return h.length?[s,{changes:h,sequential:!0}]:s})}const BM=lt.define(),Xb=new Mt;function _M(s){let t=s.firstChild,e=s.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?s.to:e.from}:null}function RM(s,t,e){let i=Qe(s);if(i.length<e)return null;let r=i.resolveStack(e,1),o=null;for(let u=r;u;u=u.next){let f=u.node;if(f.to<=e||f.from>e)continue;if(o&&f.from<t)break;let h=f.type.prop(Xb);if(h&&(f.to<i.length-50||i.length==s.doc.length||!zM(f))){let m=h(f,s);m&&m.from<=e&&m.from>=t&&m.to>e&&(o=m)}}return o}function zM(s){let t=s.lastChild;return t&&t.to==s.to&&t.type.isError}function tc(s,t,e){for(let i of s.facet(BM)){let r=i(s,t,e);if(r)return r}return RM(s,t,e)}function Qb(s,t){let e=t.mapPos(s.from,1),i=t.mapPos(s.to,-1);return e>=i?void 0:{from:e,to:i}}const dc=It.define({map:Qb}),Qa=It.define({map:Qb});function Kb(s){let t=[];for(let{head:e}of s.state.selection.ranges)t.some(i=>i.from<=e&&i.to>=e)||t.push(s.lineBlockAt(e));return t}const os=Ln.define({create(){return qt.none},update(s,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((e,i)=>s=Ly(s,e,i)),s=s.map(t.changes);for(let e of t.effects)if(e.is(dc)&&!LM(s,e.value.from,e.value.to)){let{preparePlaceholder:i}=t.state.facet(Wb),r=i?qt.replace({widget:new GM(i(t.state,e.value))}):jy;s=s.update({add:[r.range(e.value.from,e.value.to)]})}else e.is(Qa)&&(s=s.update({filter:(i,r)=>e.value.from!=i||e.value.to!=r,filterFrom:e.value.from,filterTo:e.value.to}));return t.selection&&(s=Ly(s,t.selection.main.head)),s},provide:s=>ct.decorations.from(s),toJSON(s,t){let e=[];return s.between(0,t.doc.length,(i,r)=>{e.push(i,r)}),e},fromJSON(s){if(!Array.isArray(s)||s.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<s.length;){let i=s[e++],r=s[e++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");t.push(jy.range(i,r))}return qt.set(t,!0)}});function Ly(s,t,e=t){let i=!1;return s.between(t,e,(r,o)=>{r<e&&o>t&&(i=!0)}),i?s.update({filterFrom:t,filterTo:e,filter:(r,o)=>r>=e||o<=t}):s}function ec(s,t,e){var i;let r=null;return(i=s.field(os,!1))===null||i===void 0||i.between(t,e,(o,u)=>{(!r||r.from>o)&&(r={from:o,to:u})}),r}function LM(s,t,e){let i=!1;return s.between(t,t,(r,o)=>{r==t&&o==e&&(i=!0)}),i}function Zb(s,t){return s.field(os,!1)?t:t.concat(It.appendConfig.of(Fb()))}const jM=s=>{for(let t of Kb(s)){let e=tc(s.state,t.from,t.to);if(e)return s.dispatch({effects:Zb(s.state,[dc.of(e),Jb(s,e)])}),!0}return!1},HM=s=>{if(!s.state.field(os,!1))return!1;let t=[];for(let e of Kb(s)){let i=ec(s.state,e.from,e.to);i&&t.push(Qa.of(i),Jb(s,i,!1))}return t.length&&s.dispatch({effects:t}),t.length>0};function Jb(s,t,e=!0){let i=s.state.doc.lineAt(t.from).number,r=s.state.doc.lineAt(t.to).number;return ct.announce.of(`${s.state.phrase(e?"Folded lines":"Unfolded lines")} ${i} ${s.state.phrase("to")} ${r}.`)}const UM=s=>{let{state:t}=s,e=[];for(let i=0;i<t.doc.length;){let r=s.lineBlockAt(i),o=tc(t,r.from,r.to);o&&e.push(dc.of(o)),i=(o?s.lineBlockAt(o.to):r).to+1}return e.length&&s.dispatch({effects:Zb(s.state,e)}),!!e.length},qM=s=>{let t=s.state.field(os,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,s.state.doc.length,(i,r)=>{e.push(Qa.of({from:i,to:r}))}),s.dispatch({effects:e}),!0},VM=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jM},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:HM},{key:"Ctrl-Alt-[",run:UM},{key:"Ctrl-Alt-]",run:qM}],YM={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Wb=lt.define({combine(s){return mr(s,YM)}});function Fb(s){return[os,KM]}function Ib(s,t){let{state:e}=s,i=e.facet(Wb),r=u=>{let f=s.lineBlockAt(s.posAtDOM(u.target)),h=ec(s.state,f.from,f.to);h&&s.dispatch({effects:Qa.of(h)}),u.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(s,r,t);let o=document.createElement("span");return o.textContent=i.placeholderText,o.setAttribute("aria-label",e.phrase("folded code")),o.title=e.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}const jy=qt.replace({widget:new class extends Tl{toDOM(s){return Ib(s,null)}}});class GM extends Tl{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Ib(t,this.value)}}const XM={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class nd extends qi{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function QM(s={}){let t={...XM,...s},e=new nd(t,!0),i=new nd(t,!1),r=an.fromClass(class{constructor(u){this.from=u.viewport.from,this.markers=this.buildMarkers(u)}update(u){(u.docChanged||u.viewportChanged||u.startState.facet(Cl)!=u.state.facet(Cl)||u.startState.field(os,!1)!=u.state.field(os,!1)||Qe(u.startState)!=Qe(u.state)||t.foldingChanged(u))&&(this.markers=this.buildMarkers(u.view))}buildMarkers(u){let f=new ss;for(let h of u.viewportLineBlocks){let m=ec(u.state,h.from,h.to)?i:tc(u.state,h.from,h.to)?e:null;m&&f.add(h.from,h.from,m)}return f.finish()}}),{domEventHandlers:o}=t;return[r,QC({class:"cm-foldGutter",markers(u){var f;return((f=u.plugin(r))===null||f===void 0?void 0:f.markers)||Nt.empty},initialSpacer(){return new nd(t,!1)},domEventHandlers:{...o,click:(u,f,h)=>{if(o.click&&o.click(u,f,h))return!0;let m=ec(u.state,f.from,f.to);if(m)return u.dispatch({effects:Qa.of(m)}),!0;let g=tc(u.state,f.from,f.to);return g?(u.dispatch({effects:dc.of(g)}),!0):!1}}}),Fb()]}const KM=ct.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ka{constructor(t,e){this.specs=t;let i;function r(f){let h=Sl.newName();return(i||(i=Object.create(null)))["."+h]=f,h}const o=typeof e.all=="string"?e.all:e.all?r(e.all):void 0,u=e.scope;this.scope=u instanceof Kn?f=>f.prop(nr)==u.data:u?f=>f==u:void 0,this.style=qb(t.map(f=>({tag:f.tag,class:f.class||r(Object.assign({},f,{tag:null}))})),{all:o}).style,this.module=i?new Sl(i):null,this.themeType=e.themeType}static define(t,e){return new Ka(t,e||{})}}const Wd=lt.define(),Pb=lt.define({combine(s){return s.length?[s[0]]:null}});function id(s){let t=s.facet(Wd);return t.length?t:s.facet(Pb)}function $b(s,t){let e=[JM],i;return s instanceof Ka&&(s.module&&e.push(ct.styleModule.of(s.module)),i=s.themeType),t?.fallback?e.push(Pb.of(s)):i?e.push(Wd.computeN([ct.darkTheme],r=>r.facet(ct.darkTheme)==(i=="dark")?[s]:[])):e.push(Wd.of(s)),e}class ZM{constructor(t){this.markCache=Object.create(null),this.tree=Qe(t.state),this.decorations=this.buildDeco(t,id(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=Qe(t.state),i=id(t.state),r=i!=id(t.startState),{viewport:o}=t.view,u=t.changes.mapPos(this.decoratedTo,1);e.length<o.to&&!r&&e.type==this.tree.type&&u>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=u):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=o.to)}buildDeco(t,e){if(!e||!this.tree.length)return qt.none;let i=new ss;for(let{from:r,to:o}of t.visibleRanges)mM(this.tree,e,(u,f,h)=>{i.add(u,f,this.markCache[h]||(this.markCache[h]=qt.mark({class:h})))},r,o);return i.finish()}}const JM=ac.high(an.fromClass(ZM,{decorations:s=>s.decorations})),WM=Ka.define([{tag:L.meta,color:"#404740"},{tag:L.link,textDecoration:"underline"},{tag:L.heading,textDecoration:"underline",fontWeight:"bold"},{tag:L.emphasis,fontStyle:"italic"},{tag:L.strong,fontWeight:"bold"},{tag:L.strikethrough,textDecoration:"line-through"},{tag:L.keyword,color:"#708"},{tag:[L.atom,L.bool,L.url,L.contentSeparator,L.labelName],color:"#219"},{tag:[L.literal,L.inserted],color:"#164"},{tag:[L.string,L.deleted],color:"#a11"},{tag:[L.regexp,L.escape,L.special(L.string)],color:"#e40"},{tag:L.definition(L.variableName),color:"#00f"},{tag:L.local(L.variableName),color:"#30a"},{tag:[L.typeName,L.namespace],color:"#085"},{tag:L.className,color:"#167"},{tag:[L.special(L.variableName),L.macroName],color:"#256"},{tag:L.definition(L.propertyName),color:"#00c"},{tag:L.comment,color:"#940"},{tag:L.invalid,color:"#f00"}]),FM=ct.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),t2=1e4,e2="()[]{}",n2=lt.define({combine(s){return mr(s,{afterCursor:!0,brackets:e2,maxScanDistance:t2,renderMatch:$M})}}),IM=qt.mark({class:"cm-matchingBracket"}),PM=qt.mark({class:"cm-nonmatchingBracket"});function $M(s){let t=[],e=s.matched?IM:PM;return t.push(e.range(s.start.from,s.start.to)),s.end&&t.push(e.range(s.end.from,s.end.to)),t}const tT=Ln.define({create(){return qt.none},update(s,t){if(!t.docChanged&&!t.selection)return s;let e=[],i=t.state.facet(n2);for(let r of t.state.selection.ranges){if(!r.empty)continue;let o=hi(t.state,r.head,-1,i)||r.head>0&&hi(t.state,r.head-1,1,i)||i.afterCursor&&(hi(t.state,r.head,1,i)||r.head<t.state.doc.length&&hi(t.state,r.head+1,-1,i));o&&(e=e.concat(i.renderMatch(o,t.state)))}return qt.set(e,!0)},provide:s=>ct.decorations.from(s)}),eT=[tT,FM];function nT(s={}){return[n2.of(s),eT]}const iT=new Mt;function Fd(s,t,e){let i=s.prop(t<0?Mt.openedBy:Mt.closedBy);if(i)return i;if(s.name.length==1){let r=e.indexOf(s.name);if(r>-1&&r%2==(t<0?1:0))return[e[r+t]]}return null}function Id(s){let t=s.type.prop(iT);return t?t(s.node):s}function hi(s,t,e,i={}){let r=i.maxScanDistance||t2,o=i.brackets||e2,u=Qe(s),f=u.resolveInner(t,e);for(let h=f;h;h=h.parent){let m=Fd(h.type,e,o);if(m&&h.from<h.to){let g=Id(h);if(g&&(e>0?t>=g.from&&t<g.to:t>g.from&&t<=g.to))return lT(s,t,e,h,g,m,o)}}return sT(s,t,e,u,f.type,r,o)}function lT(s,t,e,i,r,o,u){let f=i.parent,h={from:r.from,to:r.to},m=0,g=f?.cursor();if(g&&(e<0?g.childBefore(i.from):g.childAfter(i.to)))do if(e<0?g.to<=i.from:g.from>=i.to){if(m==0&&o.indexOf(g.type.name)>-1&&g.from<g.to){let y=Id(g);return{start:h,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Fd(g.type,e,u))m++;else if(Fd(g.type,-e,u)){if(m==0){let y=Id(g);return{start:h,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}m--}}while(e<0?g.prevSibling():g.nextSibling());return{start:h,matched:!1}}function sT(s,t,e,i,r,o,u){let f=e<0?s.sliceDoc(t-1,t):s.sliceDoc(t,t+1),h=u.indexOf(f);if(h<0||h%2==0!=e>0)return null;let m={from:e<0?t-1:t,to:e>0?t+1:t},g=s.doc.iterRange(t,e>0?s.doc.length:0),y=0;for(let b=0;!g.next().done&&b<=o;){let S=g.value;e<0&&(b+=S.length);let k=t+b*e;for(let w=e>0?0:S.length-1,E=e>0?S.length:-1;w!=E;w+=e){let N=u.indexOf(S[w]);if(!(N<0||i.resolveInner(k+w,1).type!=r))if(N%2==0==e>0)y++;else{if(y==1)return{start:m,end:{from:k+w,to:k+w+1},matched:N>>1==h>>1};y--}}e>0&&(b+=S.length)}return g.done?{start:m,matched:!1}:null}const rT=Object.create(null),Hy=[on.none],Uy=[],qy=Object.create(null),aT=Object.create(null);for(let[s,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aT[s]=oT(rT,t);function ld(s,t){Uy.indexOf(s)>-1||(Uy.push(s),console.warn(t))}function oT(s,t){let e=[];for(let f of t.split(" ")){let h=[];for(let m of f.split(".")){let g=s[m]||L[m];g?typeof g=="function"?h.length?h=h.map(g):ld(m,`Modifier ${m} used at start of tag`):h.length?ld(m,`Tag ${m} used as modifier`):h=Array.isArray(g)?g:[g]:ld(m,`Unknown highlighting tag ${m}`)}for(let m of h)e.push(m)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),r=i+" "+e.map(f=>f.id),o=qy[r];if(o)return o.id;let u=qy[r]=on.define({id:Hy.length,name:i,props:[Hb({[i]:e})]});return Hy.push(u),u.id}ne.RTL,ne.LTR;const uT=s=>{let{state:t}=s,e=t.doc.lineAt(t.selection.main.from),i=Am(s.state,e.from);return i.line?cT(s):i.block?hT(s):!1};function wm(s,t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let r=s(t,e);return r?(i(e.update(r)),!0):!1}}const cT=wm(pT,0),fT=wm(i2,0),hT=wm((s,t)=>i2(s,t,mT(t)),0);function Am(s,t){let e=s.languageDataAt("commentTokens",t,1);return e.length?e[0]:{}}const va=50;function dT(s,{open:t,close:e},i,r){let o=s.sliceDoc(i-va,i),u=s.sliceDoc(r,r+va),f=/\s*$/.exec(o)[0].length,h=/^\s*/.exec(u)[0].length,m=o.length-f;if(o.slice(m-t.length,m)==t&&u.slice(h,h+e.length)==e)return{open:{pos:i-f,margin:f&&1},close:{pos:r+h,margin:h&&1}};let g,y;r-i<=2*va?g=y=s.sliceDoc(i,r):(g=s.sliceDoc(i,i+va),y=s.sliceDoc(r-va,r));let b=/^\s*/.exec(g)[0].length,S=/\s*$/.exec(y)[0].length,k=y.length-S-e.length;return g.slice(b,b+t.length)==t&&y.slice(k,k+e.length)==e?{open:{pos:i+b+t.length,margin:/\s/.test(g.charAt(b+t.length))?1:0},close:{pos:r-S-e.length,margin:/\s/.test(y.charAt(k-1))?1:0}}:null}function mT(s){let t=[];for(let e of s.selection.ranges){let i=s.doc.lineAt(e.from),r=e.to<=i.to?i:s.doc.lineAt(e.to);r.from>i.from&&r.from==e.to&&(r=e.to==i.to+1?i:s.doc.lineAt(e.to-1));let o=t.length-1;o>=0&&t[o].to>i.from?t[o].to=r.to:t.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return t}function i2(s,t,e=t.selection.ranges){let i=e.map(o=>Am(t,o.from).block);if(!i.every(o=>o))return null;let r=e.map((o,u)=>dT(t,i[u],o.from,o.to));if(s!=2&&!r.every(o=>o))return{changes:t.changes(e.map((o,u)=>r[u]?[]:[{from:o.from,insert:i[u].open+" "},{from:o.to,insert:" "+i[u].close}]))};if(s!=1&&r.some(o=>o)){let o=[];for(let u=0,f;u<r.length;u++)if(f=r[u]){let h=i[u],{open:m,close:g}=f;o.push({from:m.pos-h.open.length,to:m.pos+m.margin},{from:g.pos-g.margin,to:g.pos+h.close.length})}return{changes:o}}return null}function pT(s,t,e=t.selection.ranges){let i=[],r=-1;for(let{from:o,to:u}of e){let f=i.length,h=1e9,m=Am(t,o).line;if(m){for(let g=o;g<=u;){let y=t.doc.lineAt(g);if(y.from>r&&(o==u||u>y.from)){r=y.from;let b=/^\s*/.exec(y.text)[0].length,S=b==y.length,k=y.text.slice(b,b+m.length)==m?b:-1;b<y.text.length&&b<h&&(h=b),i.push({line:y,comment:k,token:m,indent:b,empty:S,single:!1})}g=y.to+1}if(h<1e9)for(let g=f;g<i.length;g++)i[g].indent<i[g].line.text.length&&(i[g].indent=h);i.length==f+1&&(i[f].single=!0)}}if(s!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:f,token:h,indent:m,empty:g,single:y}of i)(y||!g)&&o.push({from:f.from+m,insert:h+" "});let u=t.changes(o);return{changes:u,selection:t.selection.map(u,1)}}else if(s!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:u,comment:f,token:h}of i)if(f>=0){let m=u.from+f,g=m+h.length;u.text[g-u.from]==" "&&g++,o.push({from:m,to:g})}return{changes:o}}return null}const Pd=Ml.define(),gT=Ml.define(),yT=lt.define(),l2=lt.define({combine(s){return mr(s,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,r)=>t(i,r)||e(i,r)})}}),s2=Ln.define({create(){return di.empty},update(s,t){let e=t.state.facet(l2),i=t.annotation(Pd);if(i){let h=rn.fromTransaction(t,i.selection),m=i.side,g=m==0?s.undone:s.done;return h?g=nc(g,g.length,e.minDepth,h):g=o2(g,t.startState.selection),new di(m==0?i.rest:g,m==0?g:i.rest)}let r=t.annotation(gT);if((r=="full"||r=="before")&&(s=s.isolate()),t.annotation(ve.addToHistory)===!1)return t.changes.empty?s:s.addMapping(t.changes.desc);let o=rn.fromTransaction(t),u=t.annotation(ve.time),f=t.annotation(ve.userEvent);return o?s=s.addChanges(o,u,f,e,t):t.selection&&(s=s.addSelection(t.startState.selection,u,f,e.newGroupDelay)),(r=="full"||r=="after")&&(s=s.isolate()),s},toJSON(s){return{done:s.done.map(t=>t.toJSON()),undone:s.undone.map(t=>t.toJSON())}},fromJSON(s){return new di(s.done.map(rn.fromJSON),s.undone.map(rn.fromJSON))}});function vT(s={}){return[s2,l2.of(s),ct.domEventHandlers({beforeinput(t,e){let i=t.inputType=="historyUndo"?r2:t.inputType=="historyRedo"?$d:null;return i?(t.preventDefault(),i(e)):!1}})]}function mc(s,t){return function({state:e,dispatch:i}){if(!t&&e.readOnly)return!1;let r=e.field(s2,!1);if(!r)return!1;let o=r.pop(s,e,t);return o?(i(o),!0):!1}}const r2=mc(0,!1),$d=mc(1,!1),bT=mc(0,!0),xT=mc(1,!0);class rn{constructor(t,e,i,r,o){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(t){return new rn(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new rn(t.changes&&ye.fromJSON(t.changes),[],t.mapped&&mi.fromJSON(t.mapped),t.startSelection&&Q.fromJSON(t.startSelection),t.selectionsAfter.map(Q.fromJSON))}static fromTransaction(t,e){let i=_n;for(let r of t.startState.facet(yT)){let o=r(t);o.length&&(i=i.concat(o))}return!i.length&&t.changes.empty?null:new rn(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,_n)}static selection(t){return new rn(void 0,_n,void 0,void 0,t)}}function nc(s,t,e,i){let r=t+1>e+20?t-e-1:0,o=s.slice(r,t);return o.push(i),o}function ST(s,t){let e=[],i=!1;return s.iterChangedRanges((r,o)=>e.push(r,o)),t.iterChangedRanges((r,o,u,f)=>{for(let h=0;h<e.length;){let m=e[h++],g=e[h++];f>=m&&u<=g&&(i=!0)}}),i}function kT(s,t){return s.ranges.length==t.ranges.length&&s.ranges.filter((e,i)=>e.empty!=t.ranges[i].empty).length===0}function a2(s,t){return s.length?t.length?s.concat(t):s:t}const _n=[],wT=200;function o2(s,t){if(s.length){let e=s[s.length-1],i=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-wT));return i.length&&i[i.length-1].eq(t)?s:(i.push(t),nc(s,s.length-1,1e9,e.setSelAfter(i)))}else return[rn.selection([t])]}function AT(s){let t=s[s.length-1],e=s.slice();return e[s.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function sd(s,t){if(!s.length)return s;let e=s.length,i=_n;for(;e;){let r=CT(s[e-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=s.slice(0,e);return o[e-1]=r,o}else t=r.mapped,e--,i=r.selectionsAfter}return i.length?[rn.selection(i)]:_n}function CT(s,t,e){let i=a2(s.selectionsAfter.length?s.selectionsAfter.map(f=>f.map(t)):_n,e);if(!s.changes)return rn.selection(i);let r=s.changes.map(t),o=t.mapDesc(s.changes,!0),u=s.mapped?s.mapped.composeDesc(o):o;return new rn(r,It.mapEffects(s.effects,t),u,s.startSelection.map(o),i)}const MT=/^(input\.type|delete)($|\.)/;class di{constructor(t,e,i=0,r=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new di(this.done,this.undone):this}addChanges(t,e,i,r,o){let u=this.done,f=u[u.length-1];return f&&f.changes&&!f.changes.empty&&t.changes&&(!i||MT.test(i))&&(!f.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,ST(f.changes,t.changes))||i=="input.type.compose")?u=nc(u,u.length-1,r.minDepth,new rn(t.changes.compose(f.changes),a2(It.mapEffects(t.effects,f.changes),f.effects),f.mapped,f.startSelection,_n)):u=nc(u,u.length,r.minDepth,t),new di(u,_n,e,i)}addSelection(t,e,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:_n;return o.length>0&&e-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&kT(o[o.length-1],t)?this:new di(o2(this.done,t),this.undone,e,i)}addMapping(t){return new di(sd(this.done,t),sd(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let r=t==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1],u=o.selectionsAfter[0]||e.selection;if(i&&o.selectionsAfter.length)return e.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Pd.of({side:t,rest:AT(r),selection:u}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let f=r.length==1?_n:r.slice(0,r.length-1);return o.mapped&&(f=sd(f,o.mapped)),e.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Pd.of({side:t,rest:f,selection:u}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}di.empty=new di(_n,_n);const TT=[{key:"Mod-z",run:r2,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$d,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$d,preventDefault:!0},{key:"Mod-u",run:bT,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:xT,preventDefault:!0}];function gr(s,t){return Q.create(s.ranges.map(t),s.mainIndex)}function Jn(s,t){return s.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Wn({state:s,dispatch:t},e){let i=gr(s.selection,e);return i.eq(s.selection,!0)?!1:(t(Jn(s,i)),!0)}function pc(s,t){return Q.cursor(t?s.to:s.from)}function u2(s,t){return Wn(s,e=>e.empty?s.moveByChar(e,t):pc(e,t))}function je(s){return s.textDirectionAt(s.state.selection.main.head)==ne.LTR}const c2=s=>u2(s,!je(s)),f2=s=>u2(s,je(s));function h2(s,t){return Wn(s,e=>e.empty?s.moveByGroup(e,t):pc(e,t))}const OT=s=>h2(s,!je(s)),ET=s=>h2(s,je(s));function DT(s,t,e){if(t.type.prop(e))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(s.sliceDoc(t.from,t.to)))||t.firstChild}function gc(s,t,e){let i=Qe(s).resolveInner(t.head),r=e?Mt.closedBy:Mt.openedBy;for(let h=t.head;;){let m=e?i.childAfter(h):i.childBefore(h);if(!m)break;DT(s,m,r)?i=m:h=e?m.to:m.from}let o=i.type.prop(r),u,f;return o&&(u=e?hi(s,i.from,1):hi(s,i.to,-1))&&u.matched?f=e?u.end.to:u.end.from:f=e?i.to:i.from,Q.cursor(f,e?-1:1)}const NT=s=>Wn(s,t=>gc(s.state,t,!je(s))),BT=s=>Wn(s,t=>gc(s.state,t,je(s)));function d2(s,t){return Wn(s,e=>{if(!e.empty)return pc(e,t);let i=s.moveVertically(e,t);return i.head!=e.head?i:s.moveToLineBoundary(e,t)})}const m2=s=>d2(s,!1),p2=s=>d2(s,!0);function g2(s){let t=s.scrollDOM.clientHeight<s.scrollDOM.scrollHeight-2,e=0,i=0,r;if(t){for(let o of s.state.facet(ct.scrollMargins)){let u=o(s);u?.top&&(e=Math.max(u?.top,e)),u?.bottom&&(i=Math.max(u?.bottom,i))}r=s.scrollDOM.clientHeight-e-i}else r=(s.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:i,selfScroll:t,height:Math.max(s.defaultLineHeight,r-5)}}function y2(s,t){let e=g2(s),{state:i}=s,r=gr(i.selection,u=>u.empty?s.moveVertically(u,t,e.height):pc(u,t));if(r.eq(i.selection))return!1;let o;if(e.selfScroll){let u=s.coordsAtPos(i.selection.main.head),f=s.scrollDOM.getBoundingClientRect(),h=f.top+e.marginTop,m=f.bottom-e.marginBottom;u&&u.top>h&&u.bottom<m&&(o=ct.scrollIntoView(r.main.head,{y:"start",yMargin:u.top-h}))}return s.dispatch(Jn(i,r),{effects:o}),!0}const Vy=s=>y2(s,!1),tm=s=>y2(s,!0);function Ol(s,t,e){let i=s.lineBlockAt(t.head),r=s.moveToLineBoundary(t,e);if(r.head==t.head&&r.head!=(e?i.to:i.from)&&(r=s.moveToLineBoundary(t,e,!1)),!e&&r.head==i.from&&i.length){let o=/^\s*/.exec(s.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&t.head!=i.from+o&&(r=Q.cursor(i.from+o))}return r}const _T=s=>Wn(s,t=>Ol(s,t,!0)),RT=s=>Wn(s,t=>Ol(s,t,!1)),zT=s=>Wn(s,t=>Ol(s,t,!je(s))),LT=s=>Wn(s,t=>Ol(s,t,je(s))),jT=s=>Wn(s,t=>Q.cursor(s.lineBlockAt(t.head).from,1)),HT=s=>Wn(s,t=>Q.cursor(s.lineBlockAt(t.head).to,-1));function UT(s,t,e){let i=!1,r=gr(s.selection,o=>{let u=hi(s,o.head,-1)||hi(s,o.head,1)||o.head>0&&hi(s,o.head-1,1)||o.head<s.doc.length&&hi(s,o.head+1,-1);if(!u||!u.end)return o;i=!0;let f=u.start.from==o.head?u.end.to:u.end.from;return Q.cursor(f)});return i?(t(Jn(s,r)),!0):!1}const qT=({state:s,dispatch:t})=>UT(s,t);function jn(s,t){let e=gr(s.state.selection,i=>{let r=t(i);return Q.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return e.eq(s.state.selection)?!1:(s.dispatch(Jn(s.state,e)),!0)}function v2(s,t){return jn(s,e=>s.moveByChar(e,t))}const b2=s=>v2(s,!je(s)),x2=s=>v2(s,je(s));function S2(s,t){return jn(s,e=>s.moveByGroup(e,t))}const VT=s=>S2(s,!je(s)),YT=s=>S2(s,je(s)),GT=s=>jn(s,t=>gc(s.state,t,!je(s))),XT=s=>jn(s,t=>gc(s.state,t,je(s)));function k2(s,t){return jn(s,e=>s.moveVertically(e,t))}const w2=s=>k2(s,!1),A2=s=>k2(s,!0);function C2(s,t){return jn(s,e=>s.moveVertically(e,t,g2(s).height))}const Yy=s=>C2(s,!1),Gy=s=>C2(s,!0),QT=s=>jn(s,t=>Ol(s,t,!0)),KT=s=>jn(s,t=>Ol(s,t,!1)),ZT=s=>jn(s,t=>Ol(s,t,!je(s))),JT=s=>jn(s,t=>Ol(s,t,je(s))),WT=s=>jn(s,t=>Q.cursor(s.lineBlockAt(t.head).from)),FT=s=>jn(s,t=>Q.cursor(s.lineBlockAt(t.head).to)),Xy=({state:s,dispatch:t})=>(t(Jn(s,{anchor:0})),!0),Qy=({state:s,dispatch:t})=>(t(Jn(s,{anchor:s.doc.length})),!0),Ky=({state:s,dispatch:t})=>(t(Jn(s,{anchor:s.selection.main.anchor,head:0})),!0),Zy=({state:s,dispatch:t})=>(t(Jn(s,{anchor:s.selection.main.anchor,head:s.doc.length})),!0),IT=({state:s,dispatch:t})=>(t(s.update({selection:{anchor:0,head:s.doc.length},userEvent:"select"})),!0),PT=({state:s,dispatch:t})=>{let e=yc(s).map(({from:i,to:r})=>Q.range(i,Math.min(r+1,s.doc.length)));return t(s.update({selection:Q.create(e),userEvent:"select"})),!0},$T=({state:s,dispatch:t})=>{let e=gr(s.selection,i=>{let r=Qe(s),o=r.resolveStack(i.from,1);if(i.empty){let u=r.resolveStack(i.from,-1);u.node.from>=o.node.from&&u.node.to<=o.node.to&&(o=u)}for(let u=o;u;u=u.next){let{node:f}=u;if((f.from<i.from&&f.to>=i.to||f.to>i.to&&f.from<=i.from)&&u.next)return Q.range(f.to,f.from)}return i});return e.eq(s.selection)?!1:(t(Jn(s,e)),!0)};function M2(s,t){let{state:e}=s,i=e.selection,r=e.selection.ranges.slice();for(let o of e.selection.ranges){let u=e.doc.lineAt(o.head);if(t?u.to<s.state.doc.length:u.from>0)for(let f=o;;){let h=s.moveVertically(f,t);if(h.head<u.from||h.head>u.to){r.some(m=>m.head==h.head)||r.push(h);break}else{if(h.head==f.head)break;f=h}}}return r.length==i.ranges.length?!1:(s.dispatch(Jn(e,Q.create(r,r.length-1))),!0)}const tO=s=>M2(s,!1),eO=s=>M2(s,!0),nO=({state:s,dispatch:t})=>{let e=s.selection,i=null;return e.ranges.length>1?i=Q.create([e.main]):e.main.empty||(i=Q.create([Q.cursor(e.main.head)])),i?(t(Jn(s,i)),!0):!1};function Za(s,t){if(s.state.readOnly)return!1;let e="delete.selection",{state:i}=s,r=i.changeByRange(o=>{let{from:u,to:f}=o;if(u==f){let h=t(o);h<u?(e="delete.backward",h=Mu(s,h,!1)):h>u&&(e="delete.forward",h=Mu(s,h,!0)),u=Math.min(u,h),f=Math.max(f,h)}else u=Mu(s,u,!1),f=Mu(s,f,!0);return u==f?{range:o}:{changes:{from:u,to:f},range:Q.cursor(u,u<o.head?-1:1)}});return r.changes.empty?!1:(s.dispatch(i.update(r,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?ct.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Mu(s,t,e){if(s instanceof ct)for(let i of s.state.facet(ct.atomicRanges).map(r=>r(s)))i.between(t,t,(r,o)=>{r<t&&o>t&&(t=e?o:r)});return t}const T2=(s,t,e)=>Za(s,i=>{let r=i.from,{state:o}=s,u=o.doc.lineAt(r),f,h;if(e&&!t&&r>u.from&&r<u.from+200&&!/[^ \t]/.test(f=u.text.slice(0,r-u.from))){if(f[f.length-1]=="	")return r-1;let m=pr(f,o.tabSize),g=m%$u(o)||$u(o);for(let y=0;y<g&&f[f.length-1-y]==" ";y++)r--;h=r}else h=Ne(u.text,r-u.from,t,t)+u.from,h==r&&u.number!=(t?o.doc.lines:1)?h+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(u.text.slice(h-u.from,r-u.from))&&(h=Ne(u.text,h-u.from,!1,!1)+u.from);return h}),em=s=>T2(s,!1,!0),O2=s=>T2(s,!0,!1),E2=(s,t)=>Za(s,e=>{let i=e.head,{state:r}=s,o=r.doc.lineAt(i),u=r.charCategorizer(i);for(let f=null;;){if(i==(t?o.to:o.from)){i==e.head&&o.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let h=Ne(o.text,i-o.from,t)+o.from,m=o.text.slice(Math.min(i,h)-o.from,Math.max(i,h)-o.from),g=u(m);if(f!=null&&g!=f)break;(m!=" "||i!=e.head)&&(f=g),i=h}return i}),D2=s=>E2(s,!1),iO=s=>E2(s,!0),lO=s=>Za(s,t=>{let e=s.lineBlockAt(t.head).to;return t.head<e?e:Math.min(s.state.doc.length,t.head+1)}),sO=s=>Za(s,t=>{let e=s.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)}),rO=s=>Za(s,t=>{let e=s.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(s.state.doc.length,t.head+1)}),aO=({state:s,dispatch:t})=>{if(s.readOnly)return!1;let e=s.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Ht.of(["",""])},range:Q.cursor(i.from)}));return t(s.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},oO=({state:s,dispatch:t})=>{if(s.readOnly)return!1;let e=s.changeByRange(i=>{if(!i.empty||i.from==0||i.from==s.doc.length)return{range:i};let r=i.from,o=s.doc.lineAt(r),u=r==o.from?r-1:Ne(o.text,r-o.from,!1)+o.from,f=r==o.to?r+1:Ne(o.text,r-o.from,!0)+o.from;return{changes:{from:u,to:f,insert:s.doc.slice(r,f).append(s.doc.slice(u,r))},range:Q.cursor(f)}});return e.changes.empty?!1:(t(s.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function yc(s){let t=[],e=-1;for(let i of s.selection.ranges){let r=s.doc.lineAt(i.from),o=s.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=s.doc.lineAt(i.to-1)),e>=r.number){let u=t[t.length-1];u.to=o.to,u.ranges.push(i)}else t.push({from:r.from,to:o.to,ranges:[i]});e=o.number+1}return t}function N2(s,t,e){if(s.readOnly)return!1;let i=[],r=[];for(let o of yc(s)){if(e?o.to==s.doc.length:o.from==0)continue;let u=s.doc.lineAt(e?o.to+1:o.from-1),f=u.length+1;if(e){i.push({from:o.to,to:u.to},{from:o.from,insert:u.text+s.lineBreak});for(let h of o.ranges)r.push(Q.range(Math.min(s.doc.length,h.anchor+f),Math.min(s.doc.length,h.head+f)))}else{i.push({from:u.from,to:o.from},{from:o.to,insert:s.lineBreak+u.text});for(let h of o.ranges)r.push(Q.range(h.anchor-f,h.head-f))}}return i.length?(t(s.update({changes:i,scrollIntoView:!0,selection:Q.create(r,s.selection.mainIndex),userEvent:"move.line"})),!0):!1}const uO=({state:s,dispatch:t})=>N2(s,t,!1),cO=({state:s,dispatch:t})=>N2(s,t,!0);function B2(s,t,e){if(s.readOnly)return!1;let i=[];for(let o of yc(s))e?i.push({from:o.from,insert:s.doc.slice(o.from,o.to)+s.lineBreak}):i.push({from:o.to,insert:s.lineBreak+s.doc.slice(o.from,o.to)});let r=s.changes(i);return t(s.update({changes:r,selection:s.selection.map(r,e?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const fO=({state:s,dispatch:t})=>B2(s,t,!1),hO=({state:s,dispatch:t})=>B2(s,t,!0),dO=s=>{if(s.state.readOnly)return!1;let{state:t}=s,e=t.changes(yc(t).map(({from:r,to:o})=>(r>0?r--:o<t.doc.length&&o++,{from:r,to:o}))),i=gr(t.selection,r=>{let o;if(s.lineWrapping){let u=s.lineBlockAt(r.head),f=s.coordsAtPos(r.head,r.assoc||1);f&&(o=u.bottom+s.documentTop-f.bottom+s.defaultLineHeight/2)}return s.moveVertically(r,!0,o)}).map(e);return s.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function mO(s,t){if(/\(\)|\[\]|\{\}/.test(s.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=Qe(s).resolveInner(t),i=e.childBefore(t),r=e.childAfter(t),o;return i&&r&&i.to<=t&&r.from>=t&&(o=i.type.prop(Mt.closedBy))&&o.indexOf(r.name)>-1&&s.doc.lineAt(i.to).from==s.doc.lineAt(r.from).from&&!/\S/.test(s.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const Jy=_2(!1),pO=_2(!0);function _2(s){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(r=>{let{from:o,to:u}=r,f=t.doc.lineAt(o),h=!s&&o==u&&mO(t,o);s&&(o=u=(u<=f.to?f:t.doc.lineAt(u)).to);let m=new hc(t,{simulateBreak:o,simulateDoubleBreak:!!h}),g=Sm(m,o);for(g==null&&(g=pr(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));u<f.to&&/\s/.test(f.text[u-f.from]);)u++;h?{from:o,to:u}=h:o>f.from&&o<f.from+100&&!/\S/.test(f.text.slice(0,o))&&(o=f.from);let y=["",Ha(t,g)];return h&&y.push(Ha(t,m.lineIndent(f.from,-1))),{changes:{from:o,to:u,insert:Ht.of(y)},range:Q.cursor(o+1+y[1].length)}});return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Cm(s,t){let e=-1;return s.changeByRange(i=>{let r=[];for(let u=i.from;u<=i.to;){let f=s.doc.lineAt(u);f.number>e&&(i.empty||i.to>f.from)&&(t(f,r,i),e=f.number),u=f.to+1}let o=s.changes(r);return{changes:r,range:Q.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const gO=({state:s,dispatch:t})=>{if(s.readOnly)return!1;let e=Object.create(null),i=new hc(s,{overrideIndentation:o=>{let u=e[o];return u??-1}}),r=Cm(s,(o,u,f)=>{let h=Sm(i,o.from);if(h==null)return;/\S/.test(o.text)||(h=0);let m=/^\s*/.exec(o.text)[0],g=Ha(s,h);(m!=g||f.from<o.from+m.length)&&(e[o.from]=h,u.push({from:o.from,to:o.from+m.length,insert:g}))});return r.changes.empty||t(s.update(r,{userEvent:"indent"})),!0},yO=({state:s,dispatch:t})=>s.readOnly?!1:(t(s.update(Cm(s,(e,i)=>{i.push({from:e.from,insert:s.facet(xm)})}),{userEvent:"input.indent"})),!0),vO=({state:s,dispatch:t})=>s.readOnly?!1:(t(s.update(Cm(s,(e,i)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=pr(r,s.tabSize),u=0,f=Ha(s,Math.max(0,o-$u(s)));for(;u<r.length&&u<f.length&&r.charCodeAt(u)==f.charCodeAt(u);)u++;i.push({from:e.from+u,to:e.from+r.length,insert:f.slice(u)})}),{userEvent:"delete.dedent"})),!0),bO=s=>(s.setTabFocusMode(),!0),xO=[{key:"Ctrl-b",run:c2,shift:b2,preventDefault:!0},{key:"Ctrl-f",run:f2,shift:x2},{key:"Ctrl-p",run:m2,shift:w2},{key:"Ctrl-n",run:p2,shift:A2},{key:"Ctrl-a",run:jT,shift:WT},{key:"Ctrl-e",run:HT,shift:FT},{key:"Ctrl-d",run:O2},{key:"Ctrl-h",run:em},{key:"Ctrl-k",run:lO},{key:"Ctrl-Alt-h",run:D2},{key:"Ctrl-o",run:aO},{key:"Ctrl-t",run:oO},{key:"Ctrl-v",run:tm}],SO=[{key:"ArrowLeft",run:c2,shift:b2,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:OT,shift:VT,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:zT,shift:ZT,preventDefault:!0},{key:"ArrowRight",run:f2,shift:x2,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ET,shift:YT,preventDefault:!0},{mac:"Cmd-ArrowRight",run:LT,shift:JT,preventDefault:!0},{key:"ArrowUp",run:m2,shift:w2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Xy,shift:Ky},{mac:"Ctrl-ArrowUp",run:Vy,shift:Yy},{key:"ArrowDown",run:p2,shift:A2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qy,shift:Zy},{mac:"Ctrl-ArrowDown",run:tm,shift:Gy},{key:"PageUp",run:Vy,shift:Yy},{key:"PageDown",run:tm,shift:Gy},{key:"Home",run:RT,shift:KT,preventDefault:!0},{key:"Mod-Home",run:Xy,shift:Ky},{key:"End",run:_T,shift:QT,preventDefault:!0},{key:"Mod-End",run:Qy,shift:Zy},{key:"Enter",run:Jy,shift:Jy},{key:"Mod-a",run:IT},{key:"Backspace",run:em,shift:em,preventDefault:!0},{key:"Delete",run:O2,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:D2,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:iO,preventDefault:!0},{mac:"Mod-Backspace",run:sO,preventDefault:!0},{mac:"Mod-Delete",run:rO,preventDefault:!0}].concat(xO.map(s=>({mac:s.key,run:s.run,shift:s.shift}))),kO=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:NT,shift:GT},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:BT,shift:XT},{key:"Alt-ArrowUp",run:uO},{key:"Shift-Alt-ArrowUp",run:fO},{key:"Alt-ArrowDown",run:cO},{key:"Shift-Alt-ArrowDown",run:hO},{key:"Mod-Alt-ArrowUp",run:tO},{key:"Mod-Alt-ArrowDown",run:eO},{key:"Escape",run:nO},{key:"Mod-Enter",run:pO},{key:"Alt-l",mac:"Ctrl-l",run:PT},{key:"Mod-i",run:$T,preventDefault:!0},{key:"Mod-[",run:vO},{key:"Mod-]",run:yO},{key:"Mod-Alt-\\",run:gO},{key:"Shift-Mod-k",run:dO},{key:"Shift-Mod-\\",run:qT},{key:"Mod-/",run:uT},{key:"Alt-A",run:fT},{key:"Ctrl-m",mac:"Shift-Alt-m",run:bO}].concat(SO);var Wy={};class ic{constructor(t,e,i,r,o,u,f,h,m,g=0,y){this.p=t,this.stack=e,this.state=i,this.reducePos=r,this.pos=o,this.score=u,this.buffer=f,this.bufferBase=h,this.curContext=m,this.lookAhead=g,this.parent=y}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let r=t.parser.context;return new ic(t,[],e,i,i,0,[],0,r?new Fy(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,r=t&65535,{parser:o}=this.p,u=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),f=o.dynamicPrecedence(r);if(f&&(this.score+=f),i==0){this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(r,this.reducePos);return}let h=this.stack.length-(i-1)*3-(t&262144?6:0),m=h?this.stack[h-2]:this.p.ranges[0].from,g=this.reducePos-m;g>=2e3&&!(!((e=this.p.parser.nodeSet.types[r])===null||e===void 0)&&e.isAnonymous)&&(m==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=m,this.p.lastBigReductionSize=g));let y=h?this.stack[h-1]:0,b=this.bufferBase+this.buffer.length-y;if(r<o.minRepeatTerm||t&131072){let S=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,m,S,b+4,!0)}if(t&262144)this.state=this.stack[h];else{let S=this.stack[h-3];this.state=o.getGoto(S,r,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(r,m)}storeNode(t,e,i,r=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,f=this.buffer.length;if(f==0&&u.parent&&(f=u.bufferBase-u.parent.bufferBase,u=u.parent),f>0&&u.buffer[f-4]==0&&u.buffer[f-1]>-1){if(e==i)return;if(u.buffer[f-2]>=e){u.buffer[f-2]=i;return}}}if(!o||this.pos==i)this.buffer.push(t,e,i,r);else{let u=this.buffer.length;if(u>0&&(this.buffer[u-4]!=0||this.buffer[u-1]<0)){let f=!1;for(let h=u;h>0&&this.buffer[h-2]>i;h-=4)if(this.buffer[h-1]>=0){f=!0;break}if(f)for(;u>0&&this.buffer[u-2]>i;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,r>4&&(r-=4)}this.buffer[u]=t,this.buffer[u+1]=e,this.buffer[u+2]=i,this.buffer[u+3]=r}}shift(t,e,i,r){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let o=t,{parser:u}=this.p;(r>this.pos||e<=u.maxNode)&&(this.pos=r,u.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(e,i),e<=u.maxNode&&this.buffer.push(e,i,r,4)}else this.pos=r,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,r,4)}apply(t,e,i,r){t&65536?this.reduce(t):this.shift(t,e,i,r)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new ic(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new wO(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let o=0,u;o<e.length;o+=2)(u=e[o+1])!=this.state&&this.p.parser.hasAction(u,t)&&r.push(e[o],u);if(this.stack.length<120)for(let o=0;r.length<8&&o<e.length;o+=2){let u=e[o+1];r.some((f,h)=>h&1&&f==u)||r.push(e[o],u)}e=r}let i=[];for(let r=0;r<e.length&&i.length<4;r+=2){let o=e[r+1];if(o==this.state)continue;let u=this.split();u.pushState(o,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(e[r],this.pos),u.reducePos=this.pos,u.score-=200,i.push(u)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,r=e&65535,o=this.stack.length-i*3;if(o<0||t.getGoto(this.stack[o],r,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;e=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(r,o)=>{if(!e.includes(r))return e.push(r),t.allActions(r,u=>{if(!(u&393216))if(u&65536){let f=(u>>19)-o;if(f>1){let h=u&65535,m=this.stack.length-f*3;if(m>=0&&t.getGoto(this.stack[m],h,!1)>=0)return f<<19|65536|h}}else{let f=i(u,o+1);if(f!=null)return f}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Fy(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Fy{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class wO{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class lc{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new lc(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new lc(this.stack,this.pos,this.index)}}function Tu(s,t=Uint16Array){if(typeof s!="string")return s;let e=null;for(let i=0,r=0;i<s.length;){let o=0;for(;;){let u=s.charCodeAt(i++),f=!1;if(u==126){o=65535;break}u>=92&&u--,u>=34&&u--;let h=u-32;if(h>=46&&(h-=46,f=!0),o+=h,f)break;o*=46}e?e[r++]=o:e=new t(o)}return e}class ju{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Iy=new ju;class AO{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Iy,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,r=this.rangeIndex,o=this.pos+t;for(;o<i.from;){if(!r)return null;let u=this.ranges[--r];o-=i.from-u.to,i=u}for(;e<0?o>i.to:o>=i.to;){if(r==this.ranges.length-1)return null;let u=this.ranges[++r];o+=u.from-i.to,i=u}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,r;if(e>=0&&e<this.chunk.length)i=this.pos+t,r=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(i=o,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let u=this.rangeIndex,f=this.range;for(;f.to<=i;)f=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>f.to&&(this.chunk2=this.chunk2.slice(0,f.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Iy,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(i+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return i}}class ar{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;CO(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}ar.prototype.contextual=ar.prototype.fallback=ar.prototype.extend=!1;ar.prototype.fallback=ar.prototype.extend=!1;function CO(s,t,e,i,r,o){let u=0,f=1<<i,{dialect:h}=e.p.parser;t:for(;(f&s[u])!=0;){let m=s[u+1];for(let S=u+3;S<m;S+=2)if((s[S+1]&f)>0){let k=s[S];if(h.allows(k)&&(t.token.value==-1||t.token.value==k||MO(k,t.token.value,r,o))){t.acceptToken(k);break}}let g=t.next,y=0,b=s[u+2];if(t.next<0&&b>y&&s[m+b*3-3]==65535){u=s[m+b*3-1];continue t}for(;y<b;){let S=y+b>>1,k=m+S+(S<<1),w=s[k],E=s[k+1]||65536;if(g<w)b=S;else if(g>=E)y=S+1;else{u=s[k+2],t.advance();continue t}}break}}function Py(s,t,e){for(let i=t,r;(r=s[i])!=65535;i++)if(r==e)return i-t;return-1}function MO(s,t,e,i){let r=Py(e,i,t);return r<0||Py(e,i,s)<r}const yn=typeof process<"u"&&Wy&&/\bparse\b/.test(Wy.LOG);let rd=null;function $y(s,t,e){let i=s.cursor(we.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(s.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:s.length}}class TO{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?$y(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?$y(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],r=this.index[e];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=i.children[r],u=this.start[e]+i.positions[r];if(u>t)return this.nextStart=u,null;if(o instanceof pe){if(u==t){if(u<this.safeFrom)return null;let f=u+o.length;if(f<=this.safeTo){let h=o.prop(Mt.lookAhead);if(!h||f+h<this.fragment.to)return o}}this.index[e]++,u+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(u),this.index.push(0))}else this.index[e]++,this.nextStart=u+o.length}}}class OO{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new ju)}getActions(t){let e=0,i=null,{parser:r}=t.p,{tokenizers:o}=r,u=r.stateSlot(t.state,3),f=t.curContext?t.curContext.hash:0,h=0;for(let m=0;m<o.length;m++){if((1<<m&u)==0)continue;let g=o[m],y=this.tokens[m];if(!(i&&!g.fallback)&&((g.contextual||y.start!=t.pos||y.mask!=u||y.context!=f)&&(this.updateCachedToken(y,g,t),y.mask=u,y.context=f),y.lookAhead>y.end+25&&(h=Math.max(y.lookAhead,h)),y.value!=0)){let b=e;if(y.extended>-1&&(e=this.addActions(t,y.extended,y.end,e)),e=this.addActions(t,y.value,y.end,e),!g.extend&&(i=y,e>b))break}}for(;this.actions.length>e;)this.actions.pop();return h&&t.setLookAhead(h),!i&&t.pos==this.stream.end&&(i=new ju,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new ju,{pos:i,p:r}=t;return e.start=i,e.end=Math.min(i+1,r.stream.end),e.value=i==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,i){let r=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(r,t),i),t.value>-1){let{parser:o}=i.p;for(let u=0;u<o.specialized.length;u++)if(o.specialized[u]==t.value){let f=o.specializers[u](this.stream.read(t.start,t.end),i);if(f>=0&&i.p.parser.dialect.allows(f>>1)){(f&1)==0?t.value=f>>1:t.extended=f>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,i,r){for(let o=0;o<r;o+=3)if(this.actions[o]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=i,r}addActions(t,e,i,r){let{state:o}=t,{parser:u}=t.p,{data:f}=u;for(let h=0;h<2;h++)for(let m=u.stateSlot(o,h?2:1);;m+=3){if(f[m]==65535)if(f[m+1]==1)m=Li(f,m+2);else{r==0&&f[m+1]==2&&(r=this.putAction(Li(f,m+2),e,i,r));break}f[m]==e&&(r=this.putAction(Li(f,m+1),e,i,r))}return r}}class EO{constructor(t,e,i,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new AO(e,r),this.tokens=new OO(t,this.stream),this.topTerm=t.top[1];let{from:o}=r[0];this.stacks=[ic.start(this,t.top[0],o)],this.fragments=i.length&&this.stream.end-o>t.bufferLength*4?new TO(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],r,o;if(this.bigReductionCount>300&&t.length==1){let[u]=t;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<t.length;u++){let f=t[u];for(;;){if(this.tokens.mainToken=null,f.pos>e)i.push(f);else{if(this.advanceStack(f,i,t))continue;{r||(r=[],o=[]),r.push(f);let h=this.tokens.getMainToken(f);o.push(h.value,h.end)}}break}}if(!i.length){let u=r&&NO(r);if(u)return yn&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw yn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&r){let u=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,i);if(u)return yn&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(i.length>u)for(i.sort((f,h)=>h.score-f.score);i.length>u;)i.pop();i.some(f=>f.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let u=0;u<i.length-1;u++){let f=i[u];for(let h=u+1;h<i.length;h++){let m=i[h];if(f.sameState(m)||f.buffer.length>500&&m.buffer.length>500)if((f.score-m.score||f.buffer.length-m.buffer.length)>0)i.splice(h--,1);else{i.splice(u--,1);continue t}}}i.length>12&&(i.sort((u,f)=>f.score-u.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let u=1;u<i.length;u++)i[u].pos<this.minStackPos&&(this.minStackPos=i[u].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let r=t.pos,{parser:o}=this,u=yn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let m=t.curContext&&t.curContext.tracker.strict,g=m?t.curContext.hash:0;for(let y=this.fragments.nodeAt(r);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?o.getGoto(t.state,y.type.id):-1;if(b>-1&&y.length&&(!m||(y.prop(Mt.contextHash)||0)==g))return t.useNode(y,b),yn&&console.log(u+this.stackID(t)+` (via reuse of ${o.getName(y.type.id)})`),!0;if(!(y instanceof pe)||y.children.length==0||y.positions[0]>0)break;let S=y.children[0];if(S instanceof pe&&y.positions[0]==0)y=S;else break}}let f=o.stateSlot(t.state,4);if(f>0)return t.reduce(f),yn&&console.log(u+this.stackID(t)+` (via always-reduce ${o.getName(f&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let h=this.tokens.getActions(t);for(let m=0;m<h.length;){let g=h[m++],y=h[m++],b=h[m++],S=m==h.length||!i,k=S?t:t.split(),w=this.tokens.mainToken;if(k.apply(g,y,w?w.start:k.pos,b),yn&&console.log(u+this.stackID(k)+` (via ${(g&65536)==0?"shift":`reduce of ${o.getName(g&65535)}`} for ${o.getName(y)} @ ${r}${k==t?"":", split"})`),S)return!0;k.pos>r?e.push(k):i.push(k)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return tv(t,e),!0}}runRecovery(t,e,i){let r=null,o=!1;for(let u=0;u<t.length;u++){let f=t[u],h=e[u<<1],m=e[(u<<1)+1],g=yn?this.stackID(f)+" -> ":"";if(f.deadEnd&&(o||(o=!0,f.restart(),yn&&console.log(g+this.stackID(f)+" (restarted)"),this.advanceFully(f,i))))continue;let y=f.split(),b=g;for(let S=0;S<10&&y.forceReduce()&&(yn&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,i));S++)yn&&(b=this.stackID(y)+" -> ");for(let S of f.recoverByInsert(h))yn&&console.log(g+this.stackID(S)+" (via recover-insert)"),this.advanceFully(S,i);this.stream.end>f.pos?(m==f.pos&&(m++,h=0),f.recoverByDelete(h,m),yn&&console.log(g+this.stackID(f)+` (via recover-delete ${this.parser.getName(h)})`),tv(f,i)):(!r||r.score<f.score)&&(r=f)}return r}stackToTree(t){return t.close(),pe.build({buffer:lc.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(rd||(rd=new WeakMap)).get(t);return e||rd.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function tv(s,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==s.pos&&i.sameState(s)){t[e].score<s.score&&(t[e]=s);return}}t.push(s)}class DO{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}class sc extends jb{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let f=0;f<t.repeatNodeCount;f++)e.push("");let i=Object.keys(t.topRules).map(f=>t.topRules[f][1]),r=[];for(let f=0;f<e.length;f++)r.push([]);function o(f,h,m){r[f].push([h,h.deserialize(String(m))])}if(t.nodeProps)for(let f of t.nodeProps){let h=f[0];typeof h=="string"&&(h=Mt[h]);for(let m=1;m<f.length;){let g=f[m++];if(g>=0)o(g,h,f[m++]);else{let y=f[m+-g];for(let b=-g;b>0;b--)o(f[m++],h,y);m++}}}this.nodeSet=new gm(e.map((f,h)=>on.define({name:h>=this.minRepeatTerm?void 0:f,id:h,props:r[h],top:i.indexOf(h)>-1,error:h==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(h)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=_b;let u=Tu(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let f=0;f<this.specializerSpecs.length;f++)this.specialized[f]=this.specializerSpecs[f].term;this.specializers=this.specializerSpecs.map(ev),this.states=Tu(t.states,Uint32Array),this.data=Tu(t.stateData),this.goto=Tu(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(f=>typeof f=="number"?new ar(u,f):f),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let r=new EO(this,t,e,i);for(let o of this.wrappers)r=o(r,t,e,i);return r}getGoto(t,e,i=!1){let r=this.goto;if(e>=r[0])return-1;for(let o=r[e+1];;){let u=r[o++],f=u&1,h=r[o++];if(f&&i)return h;for(let m=o+(u>>1);o<m;o++)if(r[o]==t)return h;if(f)return-1}}hasAction(t,e){let i=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(t,r?2:1),u;;o+=3){if((u=i[o])==65535)if(i[o+1]==1)u=i[o=Li(i,o+2)];else{if(i[o+1]==2)return Li(i,o+2);break}if(u==e||u==0)return Li(i,o+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),r=i?e(i):void 0;for(let o=this.stateSlot(t,1);r==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Li(this.data,o+2);else break;r=e(Li(this.data,o+1))}return r}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Li(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];e.some((o,u)=>u&1&&o==r)||e.push(this.data[i],r)}}return e}configure(t){let e=Object.assign(Object.create(sc.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let r=t.tokenizers.find(o=>o.from==i);return r?r.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,r)=>{let o=t.specializers.find(f=>f.from==i.external);if(!o)return i;let u=Object.assign(Object.assign({},i),{external:o.to});return e.specializers[r]=ev(u),u})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let o of t.split(" ")){let u=e.indexOf(o);u>=0&&(i[u]=!0)}let r=null;for(let o=0;o<e.length;o++)if(!i[o])for(let u=this.dialects[e[o]],f;(f=this.data[u++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[f]=1;return new DO(t,i,r)}static deserialize(t){return new sc(t)}}function Li(s,t){return s[t]|s[t+1]<<16}function NO(s){let t=null;for(let e of s){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function ev(s){if(s.external){let t=s.extend?1:0;return(e,i)=>s.external(e,i)<<1|t}return s.get}const BO=Hb({String:L.string,Number:L.number,"True False":L.bool,PropertyName:L.propertyName,Null:L.null,", :":L.separator,"[ ]":L.squareBracket,"{ }":L.brace}),_O=sc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[BO],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),RO=Iu.define({name:"json",parser:_O.configure({props:[Yb.add({Object:zy({except:/^\s*\}/}),Array:zy({except:/^\s*\]/})}),Xb.add({"Object Array":_M})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function zO(){return new SM(RO)}const LO="#e5c07b",nv="#e06c75",jO="#56b6c2",HO="#ffffff",Hu="#abb2bf",nm="#7d8799",UO="#61afef",qO="#98c379",iv="#d19a66",VO="#c678dd",YO="#21252b",lv="#2c313a",sv="#282c34",ad="#353a42",GO="#3E4451",rv="#528bff",XO=ct.theme({"&":{color:Hu,backgroundColor:sv},".cm-content":{caretColor:rv},".cm-cursor, .cm-dropCursor":{borderLeftColor:rv},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:GO},".cm-panels":{backgroundColor:YO,color:Hu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:sv,color:nm,border:"none"},".cm-activeLineGutter":{backgroundColor:lv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ad},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ad,borderBottomColor:ad},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:lv,color:Hu}}},{dark:!0}),QO=Ka.define([{tag:L.keyword,color:VO},{tag:[L.name,L.deleted,L.character,L.propertyName,L.macroName],color:nv},{tag:[L.function(L.variableName),L.labelName],color:UO},{tag:[L.color,L.constant(L.name),L.standard(L.name)],color:iv},{tag:[L.definition(L.name),L.separator],color:Hu},{tag:[L.typeName,L.className,L.number,L.changed,L.annotation,L.modifier,L.self,L.namespace],color:LO},{tag:[L.operator,L.operatorKeyword,L.url,L.escape,L.regexp,L.link,L.special(L.string)],color:jO},{tag:[L.meta,L.comment],color:nm},{tag:L.strong,fontWeight:"bold"},{tag:L.emphasis,fontStyle:"italic"},{tag:L.strikethrough,textDecoration:"line-through"},{tag:L.link,color:nm,textDecoration:"underline"},{tag:L.heading,fontWeight:"bold",color:nv},{tag:[L.atom,L.bool,L.special(L.variableName)],color:iv},{tag:[L.processingInstruction,L.string,L.inserted],color:qO},{tag:L.invalid,color:HO}]),R2=[XO,$b(QO)],Ua={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},is=It.define({map(s,t){let e=t.mapPos(s,-1,ln.TrackAfter);return e??void 0}}),Mm=new class extends xl{};Mm.startSide=1;Mm.endSide=-1;const z2=Ln.define({create(){return Nt.empty},update(s,t){if(s=s.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);s=s.update({filter:i=>i>=e.from&&i<=e.to})}for(let e of t.effects)e.is(is)&&(s=s.update({add:[Mm.range(e.value,e.value+1)]}));return s}});function KO(){return[JO,z2]}const od="()[]{}<>";function L2(s){for(let t=0;t<od.length;t+=2)if(od.charCodeAt(t)==s)return od.charAt(t+1);return uw(s<128?s:s+1)}function j2(s,t){return s.languageDataAt("closeBrackets",t)[0]||Ua}const ZO=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),JO=ct.inputHandler.of((s,t,e,i)=>{if((ZO?s.composing:s.compositionStarted)||s.state.readOnly)return!1;let r=s.state.selection.main;if(i.length>2||i.length==2&&rc(cs(i,0))==1||t!=r.from||e!=r.to)return!1;let o=IO(s.state,i);return o?(s.dispatch(o),!0):!1}),WO=({state:s,dispatch:t})=>{if(s.readOnly)return!1;let i=j2(s,s.selection.main.head).brackets||Ua.brackets,r=null,o=s.changeByRange(u=>{if(u.empty){let f=PO(s.doc,u.head);for(let h of i)if(h==f&&vc(s.doc,u.head)==L2(cs(h,0)))return{changes:{from:u.head-h.length,to:u.head+h.length},range:Q.cursor(u.head-h.length)}}return{range:r=u}});return r||t(s.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},FO=[{key:"Backspace",run:WO}];function IO(s,t){let e=j2(s,s.selection.main.head),i=e.brackets||Ua.brackets;for(let r of i){let o=L2(cs(r,0));if(t==r)return o==r?e3(s,r,i.indexOf(r+r+r)>-1,e):$O(s,r,o,e.before||Ua.before);if(t==o&&H2(s,s.selection.main.from))return t3(s,r,o)}return null}function H2(s,t){let e=!1;return s.field(z2).between(0,s.doc.length,i=>{i==t&&(e=!0)}),e}function vc(s,t){let e=s.sliceString(t,t+2);return e.slice(0,rc(cs(e,0)))}function PO(s,t){let e=s.sliceString(t-2,t);return rc(cs(e,0))==e.length?e:e.slice(1)}function $O(s,t,e,i){let r=null,o=s.changeByRange(u=>{if(!u.empty)return{changes:[{insert:t,from:u.from},{insert:e,from:u.to}],effects:is.of(u.to+t.length),range:Q.range(u.anchor+t.length,u.head+t.length)};let f=vc(s.doc,u.head);return!f||/\s/.test(f)||i.indexOf(f)>-1?{changes:{insert:t+e,from:u.head},effects:is.of(u.head+t.length),range:Q.cursor(u.head+t.length)}:{range:r=u}});return r?null:s.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function t3(s,t,e){let i=null,r=s.changeByRange(o=>o.empty&&vc(s.doc,o.head)==e?{changes:{from:o.head,to:o.head+e.length,insert:e},range:Q.cursor(o.head+e.length)}:i={range:o});return i?null:s.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function e3(s,t,e,i){let r=i.stringPrefixes||Ua.stringPrefixes,o=null,u=s.changeByRange(f=>{if(!f.empty)return{changes:[{insert:t,from:f.from},{insert:t,from:f.to}],effects:is.of(f.to+t.length),range:Q.range(f.anchor+t.length,f.head+t.length)};let h=f.head,m=vc(s.doc,h),g;if(m==t){if(av(s,h))return{changes:{insert:t+t,from:h},effects:is.of(h+t.length),range:Q.cursor(h+t.length)};if(H2(s,h)){let b=e&&s.sliceDoc(h,h+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:h,to:h+b.length,insert:b},range:Q.cursor(h+b.length)}}}else{if(e&&s.sliceDoc(h-2*t.length,h)==t+t&&(g=ov(s,h-2*t.length,r))>-1&&av(s,g))return{changes:{insert:t+t+t+t,from:h},effects:is.of(h+t.length),range:Q.cursor(h+t.length)};if(s.charCategorizer(h)(m)!=Nn.Word&&ov(s,h,r)>-1&&!n3(s,h,t,r))return{changes:{insert:t+t,from:h},effects:is.of(h+t.length),range:Q.cursor(h+t.length)}}return{range:o=f}});return o?null:s.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function av(s,t){let e=Qe(s).resolveInner(t+1);return e.parent&&e.from==t}function n3(s,t,e,i){let r=Qe(s).resolveInner(t,-1),o=i.reduce((u,f)=>Math.max(u,f.length),0);for(let u=0;u<5;u++){let f=s.sliceDoc(r.from,Math.min(r.to,r.from+e.length+o)),h=f.indexOf(e);if(!h||h>-1&&i.indexOf(f.slice(0,h))>-1){let g=r.firstChild;for(;g&&g.from==r.from&&g.to-g.from>e.length+h;){if(s.sliceDoc(g.to-e.length,g.to)==e)return!1;g=g.firstChild}return!0}let m=r.to==t&&r.parent;if(!m)break;r=m}return!1}function ov(s,t,e){let i=s.charCategorizer(t);if(i(s.sliceDoc(t-1,t))!=Nn.Word)return t;for(let r of e){let o=t-r.length;if(s.sliceDoc(o,t)==r&&i(s.sliceDoc(o-1,o))!=Nn.Word)return o}return-1}const i3="_editorContainer_19bkt_1",l3={editorContainer:i3};function s3({initialValue:s="",theme:t="dark",onChange:e}){const i=Ft.useRef(null),r=Ft.useRef(null),o=Ft.useRef(new qa);return Ft.useEffect(()=>{if(!i.current)return;const u=jt.create({doc:s,extensions:[PC(),eM(),TC(),vT(),QM(),gC(),SC(),jt.allowMultipleSelections.of(!0),NM(),$b(WM,{fallback:!0}),nT(),KO(),UC(),YC(),_C(),zO(),o.current.of(r3(t)),Mb.of([...FO,...kO,...TT,...VM]),ct.updateListener.of(h=>{h.docChanged&&e&&e(h.state.doc.toString())})]}),f=new ct({state:u,parent:i.current});return r.current=f,()=>{f.destroy()}},[]),Ft.useEffect(()=>{r.current&&r.current.dispatch({effects:o.current.reconfigure(t==="dark"?R2:[])})},[t]),Ft.useEffect(()=>{if(r.current&&s!==void 0){const u=r.current.state.doc.toString();u!==s&&r.current.dispatch({changes:{from:0,to:u.length,insert:s}})}},[s]),C.jsx("div",{className:l3.editorContainer,ref:i})}const r3=s=>s==="dark"?R2:[];const a3=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o3=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),uv=s=>{const t=o3(s);return t.charAt(0).toUpperCase()+t.slice(1)},U2=(...s)=>s.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),u3=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var c3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f3=Ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:u,...f},h)=>Ft.createElement("svg",{ref:h,...c3,width:t,height:t,stroke:s,strokeWidth:i?Number(e)*24/Number(t):e,className:U2("lucide",r),...!o&&!u3(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,g])=>Ft.createElement(m,g)),...Array.isArray(o)?o:[o]]));const _t=(s,t)=>{const e=Ft.forwardRef(({className:i,...r},o)=>Ft.createElement(f3,{ref:o,iconNode:t,className:U2(`lucide-${a3(uv(s))}`,`lucide-${s}`,i),...r}));return e.displayName=uv(s),e};const h3=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],d3=_t("braces",h3);const m3=[["path",{d:"M16 3h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3",key:"1kt8lf"}],["path",{d:"M8 21H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h3",key:"gduv9"}]],p3=_t("brackets",m3);const g3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q2=_t("check",g3);const y3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v3=_t("chevron-down",y3);const b3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],x3=_t("chevron-right",b3);const S3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k3=_t("circle-question-mark",S3);const w3=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],V2=_t("code",w3);const A3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],C3=_t("columns-2",A3);const M3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Y2=_t("copy",M3);const T3=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],O3=_t("cpu",T3);const E3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D3=_t("download",E3);const N3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],G2=_t("file-braces",N3);const B3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],_3=_t("file-code",B3);const R3=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],X2=_t("folder-tree",R3);const z3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],L3=_t("key",z3);const j3=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],H3=_t("keyboard",j3);const U3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],q3=_t("message-square",U3);const V3=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],Y3=_t("minimize",V3);const G3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],X3=_t("moon",G3);const Q3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K3=_t("refresh-cw",Q3);const Z3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J3=_t("settings",Z3);const W3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],F3=_t("share-2",W3);const I3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P3=_t("shield-check",I3);const $3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],t4=_t("shield",$3);const e4=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],n4=_t("square-dashed",e4);const i4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],l4=_t("sun",i4);const s4=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],r4=_t("text-align-start",s4);const a4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o4=_t("trash-2",a4);const u4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c4=_t("triangle-alert",u4);const f4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Tm=_t("upload",f4);const h4=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],d4=_t("wand-sparkles",h4);const m4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Om=_t("x",m4);const p4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],g4=_t("zap",p4),y4="_overlay_irpht_1",v4="_modal_irpht_15",b4="_header_irpht_37",x4="_closeBtn_irpht_51",S4="_content_irpht_62",k4="_inputGroup_irpht_66",w4="_inputWrapper_irpht_78",A4="_inputIcon_irpht_84",C4="_input_irpht_66",M4="_select_irpht_107",T4="_refreshBtn_irpht_127",O4="_spin_irpht_140",E4="_hint_irpht_154",D4="_info_irpht_160",N4="_infoIcon_irpht_171",B4="_footer_irpht_175",_4="_cancelBtn_irpht_183",R4="_saveBtn_irpht_196",oe={overlay:y4,modal:v4,header:b4,closeBtn:x4,content:S4,inputGroup:k4,inputWrapper:w4,inputIcon:A4,input:C4,select:M4,refreshBtn:T4,spin:O4,hint:E4,info:D4,infoIcon:N4,footer:B4,cancelBtn:_4,saveBtn:R4};function z4(){const{isAiModalOpen:s,setAiModalOpen:t,apiKey:e,setApiKey:i,preferredModel:r,setPreferredModel:o}=us(),[u,f]=Ft.useState(e),[h,m]=Ft.useState([]),[g,y]=Ft.useState(!1);Ft.useEffect(()=>{s&&e&&(f(e),b(e))},[s,e]);const b=async k=>{if(!k)return;y(!0);const w=await ew(k);m(w),y(!1)};if(!s)return null;const S=()=>{i(u),t(!1)};return C.jsx("div",{className:oe.overlay,children:C.jsxs("div",{className:oe.modal,children:[C.jsxs("div",{className:oe.header,children:[C.jsx("h3",{children:"AI Settings"}),C.jsx("button",{onClick:()=>t(!1),className:oe.closeBtn,children:C.jsx(Om,{size:18})})]}),C.jsxs("div",{className:oe.content,children:[C.jsxs("div",{className:oe.inputGroup,children:[C.jsx("label",{children:"Google Gemini API Key"}),C.jsxs("div",{className:oe.inputWrapper,children:[C.jsx(L3,{size:16,className:oe.inputIcon}),C.jsx("input",{type:"password",placeholder:"Enter your API Key",value:u,onChange:k=>f(k.target.value),className:oe.input})]}),C.jsx("p",{className:oe.hint,children:"Your key is stored locally in your browser. We never see it."})]}),C.jsxs("div",{className:oe.inputGroup,children:[C.jsx("label",{children:"Preferred Model"}),C.jsxs("div",{className:oe.inputWrapper,children:[C.jsx(n4,{size:16,className:oe.inputIcon}),C.jsxs("select",{value:r,onChange:k=>o(k.target.value),className:oe.select,disabled:g||h.length===0,children:[C.jsx("option",{value:"auto",children:"Auto (Recommended)"}),h.map(k=>C.jsx("option",{value:k.name,children:k.displayName||k.name.replace("models/","")},k.name))]}),h.length===0&&u&&C.jsx("button",{onClick:()=>b(u),className:oe.refreshBtn,title:"Refresh Models",children:C.jsx(K3,{size:14,className:g?oe.spin:""})})]})]}),C.jsxs("div",{className:oe.info,children:[C.jsx(P3,{size:16,className:oe.infoIcon}),C.jsx("span",{children:'Enables "Fix JSON" and "Explain" features.'})]})]}),C.jsxs("div",{className:oe.footer,children:[C.jsx("button",{onClick:()=>t(!1),className:oe.cancelBtn,children:"Cancel"}),C.jsx("button",{onClick:S,className:oe.saveBtn,children:"Save Key"})]})]})})}const L4="_container_jknee_1",j4="_empty_jknee_13",H4="_emptyContent_jknee_21",U4="_emptyIcon_jknee_30",q4="_instructions_jknee_42",V4="_instruction_jknee_42",Y4="_node_jknee_60",G4="_line_jknee_64",X4="_clickable_jknee_70",Q4="_toggleBtn_jknee_79",K4="_key_jknee_96",Z4="_value_jknee_101",J4="_bracket_jknee_105",W4="_punct_jknee_106",F4="_collapsed_jknee_110",I4="_children_jknee_117",P4="_nodeIcon_jknee_122",$4="_copyableKey_jknee_128",tE="_copied_jknee_139",Lt={container:L4,empty:j4,emptyContent:H4,emptyIcon:U4,instructions:q4,instruction:V4,node:Y4,line:G4,clickable:X4,toggleBtn:Q4,key:K4,value:Z4,bracket:J4,punct:W4,collapsed:F4,children:I4,nodeIcon:P4,copyableKey:$4,copied:tE};function eE({name:s,value:t,isLast:e,depth:i=0,path:r=""}){const[o,u]=Ft.useState(!0),[f,h]=Ft.useState(!1),m=t!==null&&typeof t=="object",g=Array.isArray(t),y=m&&Object.keys(t).length===0,b=G=>{G.stopPropagation();const J=r||(s?`["${s}"]`:"");J&&(navigator.clipboard.writeText(J),h(!0),bn.success(`Copied path: ${J}`),setTimeout(()=>h(!1),1500))},S=G=>{G.stopPropagation(),u(!o)},k=G=>G===null?"var(--syntax-constant)":typeof G=="string"?"var(--syntax-string)":typeof G=="number"?"var(--syntax-number)":typeof G=="boolean"?"var(--syntax-keyword)":"var(--text-main)",w=G=>G===null?"null":typeof G=="string"?`"${G}"`:String(G);if(!m)return C.jsxs("div",{className:Lt.line,style:{paddingLeft:i*20},children:[s&&C.jsxs("span",{className:`${Lt.key} ${Lt.copyableKey} ${f?Lt.copied:""}`,onClick:b,title:"Click to copy path",children:[s,":"]}),!s&&r&&C.jsx("span",{className:`${Lt.key} ${Lt.copyableKey} ${f?Lt.copied:""}`,onClick:b,title:"Click to copy path",style:{marginRight:8,cursor:"copy"},children:""}),C.jsx("span",{className:Lt.value,style:{color:k(t)},children:w(t)}),!e&&C.jsx("span",{className:Lt.punct,children:","})]});const E=Object.keys(t),N=g?p3:d3;return C.jsxs("div",{className:Lt.node,children:[C.jsxs("div",{className:`${Lt.line} ${Lt.clickable}`,onClick:S,style:{paddingLeft:i*20},children:[C.jsx("button",{className:Lt.toggleBtn,children:!y&&(o?C.jsx(v3,{size:14}):C.jsx(x3,{size:14}))}),s&&C.jsxs("span",{className:`${Lt.key} ${Lt.copyableKey} ${f?Lt.copied:""}`,onClick:b,title:"Click to copy path",children:[s,":"]}),C.jsx("span",{className:Lt.bracket,children:C.jsx(N,{size:14,className:Lt.nodeIcon})}),!o&&C.jsx("span",{className:Lt.collapsed,children:g?`${E.length} items`:`${E.length} keys`}),!o&&C.jsxs("span",{className:Lt.bracket,children:[g?"]":"}",!e&&","]})]}),o&&!y&&C.jsx("div",{className:Lt.children,children:E.map((G,J)=>C.jsx(Q2,{name:g?"":G,value:t[G],isLast:J===E.length-1,depth:i+1,path:g?`${r}[${J}]`:`${r||""}["${G}"]`},G))}),o&&C.jsxs("div",{className:Lt.line,style:{paddingLeft:i*20},children:[C.jsx("span",{className:Lt.bracket,children:g?"]":"}"}),!e&&C.jsx("span",{className:Lt.punct,children:","})]})]})}const Q2=Ft.memo(eE);function nE(){const{parsedData:s,isValid:t,rawText:e}=us();return!e||!e.trim()?C.jsx("div",{className:Lt.empty,children:C.jsxs("div",{className:Lt.emptyContent,children:[C.jsx(G2,{size:48,className:Lt.emptyIcon}),C.jsx("h3",{children:"Ready to Visualize"}),C.jsxs("div",{className:Lt.instructions,children:[C.jsxs("div",{className:Lt.instruction,children:[C.jsx(H3,{size:16}),C.jsx("span",{children:"Type or Paste JSON"})]}),C.jsxs("div",{className:Lt.instruction,children:[C.jsx(Tm,{size:16}),C.jsx("span",{children:"Drag & Drop File"})]})]})]})}):!t||s===null?C.jsx("div",{className:Lt.empty,children:C.jsx("p",{children:"Invalid JSON"})}):C.jsx("div",{className:Lt.container,children:C.jsx(Q2,{name:"",value:s,isLast:!0})})}const iE="_overlay_km7l5_1",lE="_modal_km7l5_16",sE="_header_km7l5_30",rE="_title_km7l5_39",aE="_actions_km7l5_45",oE="_actionBtn_km7l5_51",uE="_body_km7l5_69",cE="_pre_km7l5_77",zi={overlay:iE,modal:lE,header:sE,title:rE,actions:aE,actionBtn:oE,body:uE,pre:cE};function fE(){const{generatedContent:s,setGeneratedContent:t}=us(),[e,i]=Ft.useState(!1);if(!s)return null;const r=()=>{navigator.clipboard.writeText(s.content),i(!0),setTimeout(()=>i(!1),2e3)},o=()=>{t(null)};return C.jsx("div",{className:zi.overlay,children:C.jsxs("div",{className:zi.modal,children:[C.jsxs("div",{className:zi.header,children:[C.jsx("h2",{className:zi.title,children:s.title}),C.jsxs("div",{className:zi.actions,children:[C.jsx("button",{className:zi.actionBtn,onClick:r,title:"Copy to Clipboard",children:e?C.jsx(q2,{size:18}):C.jsx(Y2,{size:18})}),C.jsx("button",{className:zi.actionBtn,onClick:o,title:"Close",children:C.jsx(Om,{size:18})})]})]}),C.jsx("div",{className:zi.body,children:C.jsx("pre",{className:zi.pre,children:C.jsx("code",{children:s.content})})})]})})}const hE="_overlay_17clk_1",dE="_modal_17clk_16",mE="_header_17clk_29",pE="_titleRow_17clk_38",gE="_version_17clk_51",yE="_closeBtn_17clk_57",vE="_content_17clk_72",bE="_privacySection_17clk_79",xE="_iconBox_17clk_89",SE="_privacyText_17clk_97",kE="_grid_17clk_117",wE="_card_17clk_123",AE="_cardHeader_17clk_130",CE="_list_17clk_152",ME="_footer_17clk_175",TE="_link_17clk_190",me={overlay:hE,modal:dE,header:mE,titleRow:pE,version:gE,closeBtn:yE,content:vE,privacySection:bE,iconBox:xE,privacyText:SE,grid:kE,card:wE,cardHeader:AE,list:CE,footer:ME,link:TE};function OE(){const{isInfoModalOpen:s,setInfoModalOpen:t}=us();return s?C.jsx("div",{className:me.overlay,onClick:()=>t(!1),children:C.jsxs("div",{className:me.modal,onClick:e=>e.stopPropagation(),children:[C.jsxs("div",{className:me.header,children:[C.jsxs("div",{className:me.titleRow,children:[C.jsx("h2",{children:"JSON Studio"}),C.jsx("span",{className:me.version,children:"v1.0"})]}),C.jsx("button",{className:me.closeBtn,onClick:()=>t(!1),children:C.jsx(Om,{size:20})})]}),C.jsxs("div",{className:me.content,children:[C.jsxs("section",{className:me.privacySection,children:[C.jsx("div",{className:me.iconBox,children:C.jsx(t4,{size:24,className:me.shieldIcon})}),C.jsxs("div",{className:me.privacyText,children:[C.jsx("h3",{children:"Client-Side & Private"}),C.jsxs("p",{children:["Your data never leaves your browser. We do not store any JSON on our servers. Persistence is handled strictly via your browser's ",C.jsx("code",{children:"localStorage"}),"."]})]})]}),C.jsxs("div",{className:me.grid,children:[C.jsxs("div",{className:me.card,children:[C.jsxs("div",{className:me.cardHeader,children:[C.jsx(O3,{size:20}),C.jsx("h4",{children:"AI Features"})]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Bring Your Own Key"}),": Use your personal Gemini or OpenAI key. Keys are stored locally. Zero middleman latency."]}),C.jsxs("ul",{className:me.list,children:[C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Auto-Fix"}),": Repairs invalid JSON."]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Explain"}),": Summarizes data structure."]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Schema"}),": Generates TypeScript interfaces."]})]})]}),C.jsxs("div",{className:me.card,children:[C.jsxs("div",{className:me.cardHeader,children:[C.jsx(g4,{size:20}),C.jsx("h4",{children:"Pro Tips"})]}),C.jsxs("ul",{className:me.list,children:[C.jsxs("li",{children:[C.jsx("strong",{children:"Path Copy"}),": Click any key in Tree View to copy its path (e.g. ",C.jsx("code",{children:"users[0].id"}),")."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Drag & Drop"}),": Drop any JSON file to open."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Auto-Save"}),": Never worry about refreshing."]})]})]})]}),C.jsxs("div",{className:me.footer,children:[C.jsx("p",{children:"Designed for focus and speed."}),C.jsxs("a",{href:"https://github.com/tejus07/JSON-Studio",target:"_blank",rel:"noopener noreferrer",className:me.link,children:["View on GitHub ",C.jsx(F3,{size:12})]})]})]})]})}):null}const EE="_header_y3qs1_1",DE="_logo_y3qs1_12",NE="_logoIcon_y3qs1_21",BE="_logoText_y3qs1_25",_E="_toolbar_y3qs1_29",RE="_toolGroup_y3qs1_44",zE="_toolButton_y3qs1_54",LE="_btnText_y3qs1_73",jE="_fixBtn_y3qs1_94",HE="_divider_y3qs1_108",UE="_viewToggles_y3qs1_115",qE="_active_y3qs1_124",VE="_actions_y3qs1_129",YE="_spin_y3qs1_134",Ct={header:EE,logo:DE,logoIcon:NE,logoText:BE,toolbar:_E,toolGroup:RE,toolButton:zE,btnText:LE,fixBtn:jE,divider:HE,viewToggles:UE,active:qE,actions:VE,spin:YE};function GE({onUpload:s,onDownload:t,onCopy:e,onClear:i,isMobile:r}){const{rawText:o,isValid:u,format:f,minify:h,theme:m,setTheme:g,setAiModalOpen:y,fixJsonWithAI:b,isFixing:S,viewMode:k,setViewMode:w,generateSchemaWithAI:E,explainJsonWithAI:N,isGenerating:G,setInfoModalOpen:J}=us();return C.jsxs("header",{className:Ct.header,children:[C.jsxs("div",{className:Ct.logo,children:[C.jsx(G2,{size:20,className:Ct.logoIcon}),C.jsx("span",{className:Ct.logoText,children:"JSON Studio"})]}),C.jsxs("div",{className:Ct.toolbar,children:[C.jsxs("div",{className:Ct.toolGroup,children:[C.jsx("button",{onClick:s,className:Ct.toolButton,title:"Open JSON File",children:C.jsx(Tm,{size:16})}),C.jsx("button",{onClick:t,className:Ct.toolButton,title:"Save as JSON",disabled:!o,children:C.jsx(D3,{size:16})})]}),C.jsx("div",{className:Ct.divider}),C.jsxs("div",{className:Ct.toolGroup,children:[C.jsx("button",{onClick:e,className:Ct.toolButton,title:"Copy All",disabled:!o,children:C.jsx(Y2,{size:16})}),!r&&C.jsx("button",{onClick:i,className:Ct.toolButton,title:"Clear Editor",children:C.jsx(o4,{size:16})}),C.jsx("button",{onClick:()=>{f(),bn.success("JSON Formatted")},className:Ct.toolButton,title:"Format / Prettify",disabled:!u||!o,children:C.jsx(r4,{size:16})}),C.jsx("button",{onClick:()=>{h(),bn.success("JSON Minified")},className:Ct.toolButton,title:"Minify / Compact",disabled:!u||!o,children:C.jsx(Y3,{size:16})})]}),u&&o&&!r&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Ct.divider}),C.jsxs("div",{className:Ct.toolGroup,children:[C.jsxs("button",{onClick:E,className:Ct.toolButton,title:"Generate Schema",disabled:G,children:[C.jsx(_3,{size:16,className:G?Ct.spin:""}),C.jsx("span",{className:Ct.btnText,children:"Schema"})]}),C.jsxs("button",{onClick:N,className:Ct.toolButton,title:"Explain Data",disabled:G,children:[C.jsx(q3,{size:16,className:G?Ct.spin:""}),C.jsx("span",{className:Ct.btnText,children:"Explain"})]})]})]}),!u&&o&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Ct.divider}),C.jsxs("button",{onClick:b,className:`${Ct.toolButton} ${Ct.fixBtn}`,title:"Auto-Fix JSON",disabled:S||G,children:[C.jsx(d4,{size:16,className:S?Ct.spin:""}),C.jsx("span",{children:S?"Fixing...":"Fix"})]})]}),!r&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Ct.divider}),C.jsxs("div",{className:Ct.viewToggles,children:[C.jsx("button",{className:`${Ct.toolButton} ${k==="code"?Ct.active:""}`,onClick:()=>w("code"),title:"Code Only",children:C.jsx(V2,{size:16})}),C.jsx("button",{className:`${Ct.toolButton} ${k==="split"?Ct.active:""}`,onClick:()=>w("split"),title:"Split View",children:C.jsx(C3,{size:16})}),C.jsx("button",{className:`${Ct.toolButton} ${k==="tree"?Ct.active:""}`,onClick:()=>w("tree"),title:"Tree Only",children:C.jsx(X2,{size:16})})]})]})]}),C.jsx("div",{className:Ct.actions,children:C.jsxs("div",{className:Ct.toolGroup,children:[C.jsx("button",{onClick:()=>J(!0),className:Ct.toolButton,title:"Help & Info",children:C.jsx(k3,{size:16})}),C.jsx("button",{onClick:()=>y(!0),className:Ct.toolButton,title:"AI Settings",children:C.jsx(J3,{size:16})}),C.jsx("button",{onClick:()=>g(m==="dark"?"light":"dark"),className:Ct.toolButton,title:"Toggle Theme",children:m==="dark"?C.jsx(l4,{size:16}):C.jsx(X3,{size:16})})]})})]})}const XE="_nav_1flkl_1",QE="_navItem_1flkl_11",KE="_active_1flkl_28",ZE="_divider_1flkl_36",$s={nav:XE,navItem:QE,active:KE,divider:ZE};function JE(){const{viewMode:s,setViewMode:t}=us();return C.jsxs("nav",{className:$s.nav,children:[C.jsxs("button",{className:`${$s.navItem} ${s==="code"?$s.active:""}`,onClick:()=>t("code"),children:[C.jsx(V2,{size:20}),C.jsx("span",{children:"Code"})]}),C.jsx("div",{className:$s.divider}),C.jsxs("button",{className:`${$s.navItem} ${s==="tree"?$s.active:""}`,onClick:()=>t("tree"),children:[C.jsx(X2,{size:20}),C.jsx("span",{children:"Tree"})]})]})}function WE(){const[s,t]=Ft.useState(!1);return Ft.useEffect(()=>{const e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),s}const FE="_layout_x3ps1_1",IE="_main_x3ps1_86",PE="_pane_x3ps1_94",$E="_full_x3ps1_99",tD="_half_x3ps1_103",eD="_treePane_x3ps1_108",nD="_footer_x3ps1_137",iD="_status_x3ps1_149",lD="_valid_x3ps1_156",sD="_invalid_x3ps1_160",rD="_meta_x3ps1_164",aD="_dragOverlay_x3ps1_172",Ye={layout:FE,main:IE,pane:PE,full:$E,half:tD,treePane:eD,footer:nD,status:iD,valid:lD,invalid:sD,meta:rD,dragOverlay:aD};function oD(){const{rawText:s,error:t,isValid:e,setText:i,clear:r,viewMode:o,setViewMode:u,theme:f}=us(),h=WE();Ft.useEffect(()=>{h&&o==="split"&&u("code")},[h,o,u]);const m=Ft.useRef(null),[g,y]=Ft.useState(!1),b=()=>{navigator.clipboard.writeText(s),bn.success("JSON copied to clipboard")},S=()=>{confirm("Are you sure you want to clear the editor?")&&(r(),bn.success("Editor cleared"))},k=()=>{const K=new Blob([s],{type:"application/json"}),Z=URL.createObjectURL(K),U=document.createElement("a");U.href=Z,U.download="data.json",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(Z),bn.success("File saved as data.json")},w=()=>{m.current?.click()},E=K=>{const Z=K.target.files?.[0];Z&&N(Z)},N=K=>{const Z=new FileReader;Z.onload=U=>{const rt=U.target?.result;i(rt),bn.success("File loaded successfully")},Z.readAsText(K)},G=K=>{K.preventDefault(),y(!0)},J=K=>{K.preventDefault(),y(!1)},st=K=>{K.preventDefault(),y(!1);const Z=K.dataTransfer.files?.[0];Z&&N(Z)};return C.jsxs("div",{className:Ye.layout,onDragOver:G,onDragLeave:J,onDrop:st,children:[C.jsx(Jk,{position:h?"top-center":"bottom-right",theme:f==="dark"?"dark":"light",richColors:!0,closeButton:!0,toastOptions:{style:h?{marginTop:"50px"}:void 0}}),C.jsx(z4,{}),C.jsx(fE,{}),C.jsx(OE,{}),C.jsx("input",{type:"file",ref:m,onChange:E,style:{display:"none"},accept:".json,application/json"}),g&&C.jsxs("div",{className:Ye.dragOverlay,children:[C.jsx(Tm,{size:48}),C.jsx("p",{children:"Drop to Open JSON"})]}),C.jsx(GE,{onUpload:w,onDownload:k,onCopy:b,onClear:S,isMobile:h}),C.jsxs("main",{className:Ye.main,children:[(!h||o==="code")&&C.jsx("div",{className:`${Ye.pane} ${o==="split"?Ye.half:Ye.full}`,children:C.jsx(s3,{initialValue:s,onChange:i})}),(!h&&o==="split"||o==="tree")&&C.jsx("div",{className:`${Ye.pane} ${o==="split"?Ye.half:Ye.full} ${Ye.treePane}`,children:C.jsx(nE,{})})]}),C.jsxs("footer",{className:`${Ye.footer} ${e?Ye.valid:Ye.invalid} `,children:[C.jsx("div",{className:Ye.status,children:s.trim().length>0&&(e?C.jsxs(C.Fragment,{children:[C.jsx(q2,{size:14}),C.jsx("span",{children:"Valid JSON"})]}):C.jsxs(C.Fragment,{children:[C.jsx(c4,{size:14}),C.jsx("span",{children:t})]}))}),C.jsx("div",{className:Ye.meta,children:C.jsxs("span",{children:[s.length," chars"]})})]}),h&&C.jsx(JE,{})]})}function uD(){return C.jsx(oD,{})}fk.createRoot(document.getElementById("root")).render(C.jsx(Ft.StrictMode,{children:C.jsx(uD,{})}));
