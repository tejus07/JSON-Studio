(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();function Yf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},fo={};var pb;function RT(){if(pb)return fo;pb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,s){var o=null;if(s!==void 0&&(o=""+s),l.key!==void 0&&(o=""+l.key),"key"in l){s={};for(var c in l)c!=="key"&&(s[c]=l[c])}else s=l;return l=s.ref,{$$typeof:n,type:i,key:o,ref:l!==void 0?l:null,props:s}}return fo.Fragment=e,fo.jsx=t,fo.jsxs=t,fo}var mb;function LT(){return mb||(mb=1,bp.exports=RT()),bp.exports}var S=LT(),vp={exports:{}},Ne={};var gb;function jT(){if(gb)return Ne;gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function T(_,q,A){this.props=_,this.context=q,this.refs=M,this.updater=A||k}T.prototype.isReactComponent={},T.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function L(){}L.prototype=T.prototype;function R(_,q,A){this.props=_,this.context=q,this.refs=M,this.updater=A||k}var ne=R.prototype=new L;ne.constructor=R,w(ne,T.prototype),ne.isPureReactComponent=!0;var Q=Array.isArray;function D(){}var H={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function Z(_,q,A){var ie=A.ref;return{$$typeof:n,type:_,key:q,ref:ie!==void 0?ie:null,props:A}}function ae(_,q){return Z(_.type,q,_.props)}function te(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function F(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(A){return q[A]})}var re=/\/+/g;function W(_,q){return typeof _=="object"&&_!==null&&_.key!=null?F(""+_.key):q.toString(36)}function P(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(D,D):(_.status="pending",_.then(function(q){_.status==="pending"&&(_.status="fulfilled",_.value=q)},function(q){_.status==="pending"&&(_.status="rejected",_.reason=q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function B(_,q,A,ie,fe){var pe=typeof _;(pe==="undefined"||pe==="boolean")&&(_=null);var Ee=!1;if(_===null)Ee=!0;else switch(pe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(_.$$typeof){case n:case e:Ee=!0;break;case p:return Ee=_._init,B(Ee(_._payload),q,A,ie,fe)}}if(Ee)return fe=fe(_),Ee=ie===""?"."+W(_,0):ie,Q(fe)?(A="",Ee!=null&&(A=Ee.replace(re,"$&/")+"/"),B(fe,q,A,"",function(Kt){return Kt})):fe!=null&&(te(fe)&&(fe=ae(fe,A+(fe.key==null||_&&_.key===fe.key?"":(""+fe.key).replace(re,"$&/")+"/")+Ee)),q.push(fe)),1;Ee=0;var Ae=ie===""?".":ie+":";if(Q(_))for(var Ye=0;Ye<_.length;Ye++)ie=_[Ye],pe=Ae+W(ie,Ye),Ee+=B(ie,q,A,pe,fe);else if(Ye=b(_),typeof Ye=="function")for(_=Ye.call(_),Ye=0;!(ie=_.next()).done;)ie=ie.value,pe=Ae+W(ie,Ye++),Ee+=B(ie,q,A,pe,fe);else if(pe==="object"){if(typeof _.then=="function")return B(P(_),q,A,ie,fe);throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(_,q,A){if(_==null)return _;var ie=[],fe=0;return B(_,ie,"","",function(pe){return q.call(A,pe,fe++)}),ie}function ce(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(A){(_._status===0||_._status===-1)&&(_._status=1,_._result=A)},function(A){(_._status===0||_._status===-1)&&(_._status=2,_._result=A)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var me=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},E={map:G,forEach:function(_,q,A){G(_,function(){q.apply(this,arguments)},A)},count:function(_){var q=0;return G(_,function(){q++}),q},toArray:function(_){return G(_,function(q){return q})||[]},only:function(_){if(!te(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ne.Activity=m,Ne.Children=E,Ne.Component=T,Ne.Fragment=t,Ne.Profiler=l,Ne.PureComponent=R,Ne.StrictMode=i,Ne.Suspense=f,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(_){return H.H.useMemoCache(_)}},Ne.cache=function(_){return function(){return _.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(_,q,A){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ie=w({},_.props),fe=_.key;if(q!=null)for(pe in q.key!==void 0&&(fe=""+q.key),q)!se.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(ie[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)ie.children=A;else if(1<pe){for(var Ee=Array(pe),Ae=0;Ae<pe;Ae++)Ee[Ae]=arguments[Ae+2];ie.children=Ee}return Z(_.type,fe,ie)},Ne.createContext=function(_){return _={$$typeof:o,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:s,_context:_},_},Ne.createElement=function(_,q,A){var ie,fe={},pe=null;if(q!=null)for(ie in q.key!==void 0&&(pe=""+q.key),q)se.call(q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=q[ie]);var Ee=arguments.length-2;if(Ee===1)fe.children=A;else if(1<Ee){for(var Ae=Array(Ee),Ye=0;Ye<Ee;Ye++)Ae[Ye]=arguments[Ye+2];fe.children=Ae}if(_&&_.defaultProps)for(ie in Ee=_.defaultProps,Ee)fe[ie]===void 0&&(fe[ie]=Ee[ie]);return Z(_,pe,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(_){return{$$typeof:c,render:_}},Ne.isValidElement=te,Ne.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:ce}},Ne.memo=function(_,q){return{$$typeof:d,type:_,compare:q===void 0?null:q}},Ne.startTransition=function(_){var q=H.T,A={};H.T=A;try{var ie=_(),fe=H.S;fe!==null&&fe(A,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(D,me)}catch(pe){me(pe)}finally{q!==null&&A.types!==null&&(q.types=A.types),H.T=q}},Ne.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ne.use=function(_){return H.H.use(_)},Ne.useActionState=function(_,q,A){return H.H.useActionState(_,q,A)},Ne.useCallback=function(_,q){return H.H.useCallback(_,q)},Ne.useContext=function(_){return H.H.useContext(_)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(_,q){return H.H.useDeferredValue(_,q)},Ne.useEffect=function(_,q){return H.H.useEffect(_,q)},Ne.useEffectEvent=function(_){return H.H.useEffectEvent(_)},Ne.useId=function(){return H.H.useId()},Ne.useImperativeHandle=function(_,q,A){return H.H.useImperativeHandle(_,q,A)},Ne.useInsertionEffect=function(_,q){return H.H.useInsertionEffect(_,q)},Ne.useLayoutEffect=function(_,q){return H.H.useLayoutEffect(_,q)},Ne.useMemo=function(_,q){return H.H.useMemo(_,q)},Ne.useOptimistic=function(_,q){return H.H.useOptimistic(_,q)},Ne.useReducer=function(_,q,A){return H.H.useReducer(_,q,A)},Ne.useRef=function(_){return H.H.useRef(_)},Ne.useState=function(_){return H.H.useState(_)},Ne.useSyncExternalStore=function(_,q,A){return H.H.useSyncExternalStore(_,q,A)},Ne.useTransition=function(){return H.H.useTransition()},Ne.version="19.2.3",Ne}var yb;function Eg(){return yb||(yb=1,vp.exports=jT()),vp.exports}var ve=Eg();const oe=Yf(ve);var Sp={exports:{}},ho={},kp={exports:{}},wp={};var xb;function HT(){return xb||(xb=1,(function(n){function e(B,G){var ce=B.length;B.push(G);e:for(;0<ce;){var me=ce-1>>>1,E=B[me];if(0<l(E,G))B[me]=G,B[ce]=E,ce=me;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],ce=B.pop();if(ce!==G){B[0]=ce;e:for(var me=0,E=B.length,_=E>>>1;me<_;){var q=2*(me+1)-1,A=B[q],ie=q+1,fe=B[ie];if(0>l(A,ce))ie<E&&0>l(fe,A)?(B[me]=fe,B[ie]=ce,me=ie):(B[me]=A,B[q]=ce,me=q);else if(ie<E&&0>l(fe,ce))B[me]=fe,B[ie]=ce,me=ie;else break e}}return G}function l(B,G){var ce=B.sortIndex-G.sortIndex;return ce!==0?ce:B.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],d=[],p=1,m=null,x=3,b=!1,k=!1,w=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function ne(B){for(var G=t(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=B)i(d),G.sortIndex=G.expirationTime,e(f,G);else break;G=t(d)}}function Q(B){if(w=!1,ne(B),!k)if(t(f)!==null)k=!0,D||(D=!0,F());else{var G=t(d);G!==null&&P(Q,G.startTime-B)}}var D=!1,H=-1,se=5,Z=-1;function ae(){return M?!0:!(n.unstable_now()-Z<se)}function te(){if(M=!1,D){var B=n.unstable_now();Z=B;var G=!0;try{e:{k=!1,w&&(w=!1,L(H),H=-1),b=!0;var ce=x;try{t:{for(ne(B),m=t(f);m!==null&&!(m.expirationTime>B&&ae());){var me=m.callback;if(typeof me=="function"){m.callback=null,x=m.priorityLevel;var E=me(m.expirationTime<=B);if(B=n.unstable_now(),typeof E=="function"){m.callback=E,ne(B),G=!0;break t}m===t(f)&&i(f),ne(B)}else i(f);m=t(f)}if(m!==null)G=!0;else{var _=t(d);_!==null&&P(Q,_.startTime-B),G=!1}}break e}finally{m=null,x=ce,b=!1}G=void 0}}finally{G?F():D=!1}}}var F;if(typeof R=="function")F=function(){R(te)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,W=re.port2;re.port1.onmessage=te,F=function(){W.postMessage(null)}}else F=function(){T(te,0)};function P(B,G){H=T(function(){B(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(B){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var ce=x;x=G;try{return B()}finally{x=ce}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=x;x=B;try{return G()}finally{x=ce}},n.unstable_scheduleCallback=function(B,G,ce){var me=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ce+E,B={id:p++,callback:G,priorityLevel:B,startTime:ce,expirationTime:E,sortIndex:-1},ce>me?(B.sortIndex=ce,e(d,B),t(f)===null&&B===t(d)&&(w?(L(H),H=-1):w=!0,P(Q,ce-me))):(B.sortIndex=E,e(f,B),k||b||(k=!0,D||(D=!0,F()))),B},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(B){var G=x;return function(){var ce=x;x=G;try{return B.apply(this,arguments)}finally{x=ce}}}})(wp)),wp}var bb;function UT(){return bb||(bb=1,kp.exports=HT()),kp.exports}var Cp={exports:{}},gn={};var vb;function IT(){if(vb)return gn;vb=1;var n=Eg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,p)},gn.flushSync=function(f){var d=o.T,p=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=d,i.p=p,i.d.f()}},gn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},gn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},gn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:m,integrity:x,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},gn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},gn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},gn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},gn.requestFormReset=function(f){i.d.r(f)},gn.unstable_batchedUpdates=function(f,d){return f(d)},gn.useFormState=function(f,d,p){return o.H.useFormState(f,d,p)},gn.useFormStatus=function(){return o.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var Sb;function p2(){if(Sb)return Cp.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=IT(),Cp.exports}var kb;function VT(){if(kb)return ho;kb=1;var n=UT(),e=Eg(),t=p2();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function o(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=s(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,h=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return f(g),r;if(y===h)return f(g),a;y=y.sibling}throw Error(i(188))}if(u.return!==h.return)u=g,h=y;else{for(var v=!1,C=g.child;C;){if(C===u){v=!0,u=g,h=y;break}if(C===h){v=!0,h=g,u=y;break}C=C.sibling}if(!v){for(C=y.child;C;){if(C===u){v=!0,u=y,h=g;break}if(C===h){v=!0,h=y,u=g;break}C=C.sibling}if(!v)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var re=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===re?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case T:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case D:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case R:return r.displayName||"Context";case L:return(r._context.displayName||"Context")+".Consumer";case ne:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return a=r.displayName||null,a!==null?a:W(r.type)||"Memo";case se:a=r._payload,r=r._init;try{return W(r(a))}catch{}}return null}var P=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],E=-1;function _(r){return{current:r}}function q(r){0>E||(r.current=me[E],me[E]=null,E--)}function A(r,a){E++,me[E]=r.current,r.current=a}var ie=_(null),fe=_(null),pe=_(null),Ee=_(null);function Ae(r,a){switch(A(pe,a),A(fe,r),A(ie,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?jx(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=jx(a),r=Hx(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(ie),A(ie,r)}function Ye(){q(ie),q(fe),q(pe)}function Kt(r){r.memoizedState!==null&&A(Ee,r);var a=ie.current,u=Hx(a,r.type);a!==u&&(A(fe,r),A(ie,u))}function An(r){fe.current===r&&(q(ie),q(fe)),Ee.current===r&&(q(Ee),ao._currentValue=ce)}var ri,rs;function Fn(r){if(ri===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);ri=a&&a[1]||"",rs=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+r+rs}var Or=!1;function lr(r,a){if(!r||Or)return"";Or=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var I=V}Reflect.construct(r,[],J)}else{try{J.call()}catch(V){I=V}r.call(J.prototype)}}else{try{throw Error()}catch(V){I=V}(J=r())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&I&&typeof V.stack=="string")return[V.stack,I.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),v=y[0],C=y[1];if(v&&C){var O=v.split(`
`),U=C.split(`
`);for(g=h=0;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(h===O.length||g===U.length)for(h=O.length-1,g=U.length-1;1<=h&&0<=g&&O[h]!==U[g];)g--;for(;1<=h&&0<=g;h--,g--)if(O[h]!==U[g]){if(h!==1||g!==1)do if(h--,g--,0>g||O[h]!==U[g]){var K=`
`+O[h].replace(" at new "," at ");return r.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",r.displayName)),K}while(1<=h&&0<=g);break}}}finally{Or=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Fn(u):""}function Bi(r,a){switch(r.tag){case 26:case 27:case 5:return Fn(r.type);case 16:return Fn("Lazy");case 13:return r.child!==a&&a!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return lr(r.type,!1);case 11:return lr(r.type.render,!1);case 1:return lr(r.type,!0);case 31:return Fn("Activity");default:return""}}function bl(r){try{var a="",u=null;do a+=Bi(r,u),u=r,r=r.return;while(r);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var hn=Object.prototype.hasOwnProperty,_r=n.unstable_scheduleCallback,vl=n.unstable_cancelCallback,Xt=n.unstable_shouldYield,zi=n.unstable_requestPaint,Wt=n.unstable_now,Sa=n.unstable_getCurrentPriorityLevel,X=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,we=n.unstable_NormalPriority,Be=n.unstable_LowPriority,je=n.unstable_IdlePriority,dn=n.log,pn=n.unstable_setDisableYieldValue,$t=null,kt=null;function Jt(r){if(typeof dn=="function"&&pn(r),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode($t,r)}catch{}}var nt=Math.clz32?Math.clz32:Li,Ri=Math.log,vn=Math.LN2;function Li(r){return r>>>=0,r===0?32:31-(Ri(r)/vn|0)|0}var ls=256,ss=262144,Sl=4194304;function ji(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Oe(r,a,u){var h=r.pendingLanes;if(h===0)return 0;var g=0,y=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?g=ji(h):(v&=C,v!==0?g=ji(v):u||(u=C&~r,u!==0&&(g=ji(u))))):(C=h&~y,C!==0?g=ji(C):v!==0?g=ji(v):u||(u=h&~r,u!==0&&(g=ji(u)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:g}function mt(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Pt(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var r=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),r}function Nr(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function xt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Mn(r,a,u,h,g,y){var v=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var C=r.entanglements,O=r.expirationTimes,U=r.hiddenUpdates;for(u=v&~u;0<u;){var K=31-nt(u),J=1<<K;C[K]=0,O[K]=-1;var I=U[K];if(I!==null)for(U[K]=null,K=0;K<I.length;K++){var V=I[K];V!==null&&(V.lane&=-536870913)}u&=~J}h!==0&&kl(r,h,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(v&~a))}function kl(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-nt(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|u&261930}function Tn(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var h=31-nt(u),g=1<<h;g&a|r[h]&a&&(r[h]|=a),u&=~g}}function En(r,a){var u=a&-a;return u=(u&42)!==0?1:as(u),(u&(r.suspendedLanes|a))!==0?0:u}function as(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function uh(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:ab(r.type))}function w0(r,a){var u=G.p;try{return G.p=r,a()}finally{G.p=u}}var Dr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Dr,On="__reactProps$"+Dr,os="__reactContainer$"+Dr,ch="__reactEvents$"+Dr,CA="__reactListeners$"+Dr,AA="__reactHandles$"+Dr,C0="__reactResources$"+Dr,ka="__reactMarker$"+Dr;function fh(r){delete r[Zt],delete r[On],delete r[ch],delete r[CA],delete r[AA]}function us(r){var a=r[Zt];if(a)return a;for(var u=r.parentNode;u;){if(a=u[os]||u[Zt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=Gx(r);r!==null;){if(u=r[Zt])return u;r=Gx(r)}return a}r=u,u=r.parentNode}return null}function cs(r){if(r=r[Zt]||r[os]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function wa(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function fs(r){var a=r[C0];return a||(a=r[C0]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ft(r){r[ka]=!0}var A0=new Set,M0={};function wl(r,a){hs(r,a),hs(r+"Capture",a)}function hs(r,a){for(M0[r]=a,r=0;r<a.length;r++)A0.add(a[r])}var MA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T0={},E0={};function TA(r){return hn.call(E0,r)?!0:hn.call(T0,r)?!1:MA.test(r)?E0[r]=!0:(T0[r]=!0,!1)}function pu(r,a,u){if(TA(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function mu(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function sr(r,a,u,h){if(h===null)r.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+h)}}function li(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function O0(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function EA(r,a,u){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(v){u=""+v,y.call(this,v)}}),Object.defineProperty(r,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function hh(r){if(!r._valueTracker){var a=O0(r)?"checked":"value";r._valueTracker=EA(r,a,""+r[a])}}function _0(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return r&&(h=O0(r)?r.checked?"true":"false":r.value),r=h,r!==u?(a.setValue(r),!0):!1}function gu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var OA=/[\n"\\]/g;function si(r){return r.replace(OA,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function dh(r,a,u,h,g,y,v,C){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),a!=null?v==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+li(a)):r.value!==""+li(a)&&(r.value=""+li(a)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),a!=null?ph(r,v,li(a)):u!=null?ph(r,v,li(u)):h!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+li(C):r.removeAttribute("name")}function N0(r,a,u,h,g,y,v,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){hh(r);return}u=u!=null?""+li(u):"",a=a!=null?""+li(a):u,C||a===r.value||(r.value=a),r.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=C?r.checked:!!h,r.defaultChecked=!!h,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),hh(r)}function ph(r,a,u){a==="number"&&gu(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ds(r,a,u,h){if(r=r.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=a.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&h&&(r[u].defaultSelected=!0)}else{for(u=""+li(u),a=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function D0(r,a,u){if(a!=null&&(a=""+li(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+li(u):""}function B0(r,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(i(92));if(P(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=li(a),r.defaultValue=u,h=r.textContent,h===u&&h!==""&&h!==null&&(r.value=h),hh(r)}function ps(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function z0(r,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,u):typeof u!="number"||u===0||_A.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function R0(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&u[g]!==h&&z0(r,g,h)}else for(var y in a)a.hasOwnProperty(y)&&z0(r,y,a[y])}function mh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(r){return DA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ar(){}var gh=null;function yh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ms=null,gs=null;function L0(r){var a=cs(r);if(a&&(r=a.stateNode)){var u=r[On]||null;e:switch(r=a.stateNode,a.type){case"input":if(dh(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+si(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==r&&h.form===r.form){var g=h[On]||null;if(!g)throw Error(i(90));dh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===r.form&&_0(h)}break e;case"textarea":D0(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ds(r,!!u.multiple,a,!1)}}}var xh=!1;function j0(r,a,u){if(xh)return r(a,u);xh=!0;try{var h=r(a);return h}finally{if(xh=!1,(ms!==null||gs!==null)&&(rc(),ms&&(a=ms,r=gs,gs=ms=null,L0(a),r)))for(a=0;a<r.length;a++)L0(r[a])}}function Ca(r,a){var u=r.stateNode;if(u===null)return null;var h=u[On]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=!1;if(or)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){bh=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{bh=!1}var Br=null,vh=null,xu=null;function H0(){if(xu)return xu;var r,a=vh,u=a.length,h,g="value"in Br?Br.value:Br.textContent,y=g.length;for(r=0;r<u&&a[r]===g[r];r++);var v=u-r;for(h=1;h<=v&&a[u-h]===g[y-h];h++);return xu=g.slice(r,1<h?1-h:void 0)}function bu(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function vu(){return!0}function U0(){return!1}function _n(r){function a(u,h,g,y,v){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=v,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(u=r[C],this[C]=u?u(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vu:U0,this.isPropagationStopped=U0,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),a}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=_n(Cl),Ma=m({},Cl,{view:0,detail:0}),BA=_n(Ma),Sh,kh,Ta,ku=m({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ta&&(Ta&&r.type==="mousemove"?(Sh=r.screenX-Ta.screenX,kh=r.screenY-Ta.screenY):kh=Sh=0,Ta=r),Sh)},movementY:function(r){return"movementY"in r?r.movementY:kh}}),I0=_n(ku),zA=m({},ku,{dataTransfer:0}),RA=_n(zA),LA=m({},Ma,{relatedTarget:0}),wh=_n(LA),jA=m({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),HA=_n(jA),UA=m({},Cl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),IA=_n(UA),VA=m({},Cl,{data:0}),V0=_n(VA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GA(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=FA[r])?!!a[r]:!1}function Ch(){return GA}var YA=m({},Ma,{key:function(r){if(r.key){var a=qA[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=bu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?PA[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(r){return r.type==="keypress"?bu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),QA=_n(YA),KA=m({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=_n(KA),XA=m({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),WA=_n(XA),$A=m({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),JA=_n($A),ZA=m({},ku,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),eM=_n(ZA),tM=m({},Cl,{newState:0,oldState:0}),nM=_n(tM),iM=[9,13,27,32],Ah=or&&"CompositionEvent"in window,Ea=null;or&&"documentMode"in document&&(Ea=document.documentMode);var rM=or&&"TextEvent"in window&&!Ea,P0=or&&(!Ah||Ea&&8<Ea&&11>=Ea),F0=" ",G0=!1;function Y0(r,a){switch(r){case"keyup":return iM.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ys=!1;function lM(r,a){switch(r){case"compositionend":return Q0(a);case"keypress":return a.which!==32?null:(G0=!0,F0);case"textInput":return r=a.data,r===F0&&G0?null:r;default:return null}}function sM(r,a){if(ys)return r==="compositionend"||!Ah&&Y0(r,a)?(r=H0(),xu=vh=Br=null,ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return P0&&a.locale!=="ko"?null:a.data;default:return null}}var aM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!aM[r.type]:a==="textarea"}function X0(r,a,u,h){ms?gs?gs.push(h):gs=[h]:ms=h,a=fc(a,"onChange"),0<a.length&&(u=new Su("onChange","change",null,u,h),r.push({event:u,listeners:a}))}var Oa=null,_a=null;function oM(r){Nx(r,0)}function wu(r){var a=wa(r);if(_0(a))return r}function W0(r,a){if(r==="change")return a}var $0=!1;if(or){var Mh;if(or){var Th="oninput"in document;if(!Th){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),Th=typeof J0.oninput=="function"}Mh=Th}else Mh=!1;$0=Mh&&(!document.documentMode||9<document.documentMode)}function Z0(){Oa&&(Oa.detachEvent("onpropertychange",e1),_a=Oa=null)}function e1(r){if(r.propertyName==="value"&&wu(_a)){var a=[];X0(a,_a,r,yh(r)),j0(oM,a)}}function uM(r,a,u){r==="focusin"?(Z0(),Oa=a,_a=u,Oa.attachEvent("onpropertychange",e1)):r==="focusout"&&Z0()}function cM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wu(_a)}function fM(r,a){if(r==="click")return wu(a)}function hM(r,a){if(r==="input"||r==="change")return wu(a)}function dM(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Gn=typeof Object.is=="function"?Object.is:dM;function Na(r,a){if(Gn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!hn.call(a,g)||!Gn(r[g],a[g]))return!1}return!0}function t1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function n1(r,a){var u=t1(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=a&&h>=a)return{node:u,offset:a-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=t1(u)}}function i1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?i1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function r1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=gu(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=gu(r.document)}return a}function Eh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var pM=or&&"documentMode"in document&&11>=document.documentMode,xs=null,Oh=null,Da=null,_h=!1;function l1(r,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_h||xs==null||xs!==gu(h)||(h=xs,"selectionStart"in h&&Eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&Na(Da,h)||(Da=h,h=fc(Oh,"onSelect"),0<h.length&&(a=new Su("onSelect","select",null,a,u),r.push({event:a,listeners:h}),a.target=xs)))}function Al(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var bs={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},Nh={},s1={};or&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Ml(r){if(Nh[r])return Nh[r];if(!bs[r])return r;var a=bs[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in s1)return Nh[r]=a[u];return r}var a1=Ml("animationend"),o1=Ml("animationiteration"),u1=Ml("animationstart"),mM=Ml("transitionrun"),gM=Ml("transitionstart"),yM=Ml("transitioncancel"),c1=Ml("transitionend"),f1=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Ci(r,a){f1.set(r,a),wl(a,[r])}var Cu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ai=[],vs=0,Bh=0;function Au(){for(var r=vs,a=Bh=vs=0;a<r;){var u=ai[a];ai[a++]=null;var h=ai[a];ai[a++]=null;var g=ai[a];ai[a++]=null;var y=ai[a];if(ai[a++]=null,h!==null&&g!==null){var v=h.pending;v===null?g.next=g:(g.next=v.next,v.next=g),h.pending=g}y!==0&&h1(u,g,y)}}function Mu(r,a,u,h){ai[vs++]=r,ai[vs++]=a,ai[vs++]=u,ai[vs++]=h,Bh|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function zh(r,a,u,h){return Mu(r,a,u,h),Tu(r)}function Tl(r,a){return Mu(r,null,null,a),Tu(r)}function h1(r,a,u){r.lanes|=u;var h=r.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=r.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&a!==null&&(g=31-nt(u),r=y.hiddenUpdates,h=r[g],h===null?r[g]=[a]:h.push(a),a.lane=u|536870912),y):null}function Tu(r){if(50<eo)throw eo=0,Pd=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Ss={};function xM(r,a,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,a,u,h){return new xM(r,a,u,h)}function Rh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ur(r,a){var u=r.alternate;return u===null?(u=Yn(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function d1(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Eu(r,a,u,h,g,y){var v=0;if(h=r,typeof r=="function")Rh(r)&&(v=1);else if(typeof r=="string")v=wT(r,u,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=Yn(31,u,a,g),r.elementType=Z,r.lanes=y,r;case w:return El(u.children,g,y,a);case M:v=8,g|=24;break;case T:return r=Yn(12,u,a,g|2),r.elementType=T,r.lanes=y,r;case Q:return r=Yn(13,u,a,g),r.elementType=Q,r.lanes=y,r;case D:return r=Yn(19,u,a,g),r.elementType=D,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:v=10;break e;case L:v=9;break e;case ne:v=11;break e;case H:v=14;break e;case se:v=16,h=null;break e}v=29,u=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=Yn(v,u,a,g),a.elementType=r,a.type=h,a.lanes=y,a}function El(r,a,u,h){return r=Yn(7,r,h,a),r.lanes=u,r}function Lh(r,a,u){return r=Yn(6,r,null,a),r.lanes=u,r}function p1(r){var a=Yn(18,null,null,0);return a.stateNode=r,a}function jh(r,a,u){return a=Yn(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var m1=new WeakMap;function oi(r,a){if(typeof r=="object"&&r!==null){var u=m1.get(r);return u!==void 0?u:(a={value:r,source:a,stack:bl(a)},m1.set(r,a),a)}return{value:r,source:a,stack:bl(a)}}var ks=[],ws=0,Ou=null,Ba=0,ui=[],ci=0,zr=null,Hi=1,Ui="";function cr(r,a){ks[ws++]=Ba,ks[ws++]=Ou,Ou=r,Ba=a}function g1(r,a,u){ui[ci++]=Hi,ui[ci++]=Ui,ui[ci++]=zr,zr=r;var h=Hi;r=Ui;var g=32-nt(h)-1;h&=~(1<<g),u+=1;var y=32-nt(a)+g;if(30<y){var v=g-g%5;y=(h&(1<<v)-1).toString(32),h>>=v,g-=v,Hi=1<<32-nt(a)+g|u<<g|h,Ui=y+r}else Hi=1<<y|u<<g|h,Ui=r}function Hh(r){r.return!==null&&(cr(r,1),g1(r,1,0))}function Uh(r){for(;r===Ou;)Ou=ks[--ws],ks[ws]=null,Ba=ks[--ws],ks[ws]=null;for(;r===zr;)zr=ui[--ci],ui[ci]=null,Ui=ui[--ci],ui[ci]=null,Hi=ui[--ci],ui[ci]=null}function y1(r,a){ui[ci++]=Hi,ui[ci++]=Ui,ui[ci++]=zr,Hi=a.id,Ui=a.overflow,zr=r}var en=null,dt=null,Qe=!1,Rr=null,fi=!1,Ih=Error(i(519));function Lr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(oi(a,r)),Ih}function x1(r){var a=r.stateNode,u=r.type,h=r.memoizedProps;switch(a[Zt]=r,a[On]=h,u){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(u=0;u<no.length;u++)Ue(no[u],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),N0(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),B0(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||Rx(a.textContent,u)?(h.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),h.onScroll!=null&&Ue("scroll",a),h.onScrollEnd!=null&&Ue("scrollend",a),h.onClick!=null&&(a.onclick=ar),a=!0):a=!1,a||Lr(r,!0)}function b1(r){for(en=r.return;en;)switch(en.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:en=en.return}}function Cs(r){if(r!==en)return!1;if(!Qe)return b1(r),Qe=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||rp(r.type,r.memoizedProps)),u=!u),u&&dt&&Lr(r),b1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));dt=Fx(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));dt=Fx(r)}else a===27?(a=dt,Wr(r.type)?(r=up,up=null,dt=r):dt=a):dt=en?di(r.stateNode.nextSibling):null;return!0}function Ol(){dt=en=null,Qe=!1}function Vh(){var r=Rr;return r!==null&&(zn===null?zn=r:zn.push.apply(zn,r),Rr=null),r}function za(r){Rr===null?Rr=[r]:Rr.push(r)}var qh=_(null),_l=null,fr=null;function jr(r,a,u){A(qh,a._currentValue),a._currentValue=u}function hr(r){r._currentValue=qh.current,q(qh)}function Ph(r,a,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===u)break;r=r.return}}function Fh(r,a,u,h){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var v=g.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=g;for(var O=0;O<a.length;O++)if(C.context===a[O]){y.lanes|=u,C=y.alternate,C!==null&&(C.lanes|=u),Ph(y.return,u,r),h||(v=null);break e}y=C.next}}else if(g.tag===18){if(v=g.return,v===null)throw Error(i(341));v.lanes|=u,y=v.alternate,y!==null&&(y.lanes|=u),Ph(v,u,r),v=null}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===r){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}}function As(r,a,u,h){r=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var v=g.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var C=g.type;Gn(g.pendingProps.value,v.value)||(r!==null?r.push(C):r=[C])}}else if(g===Ee.current){if(v=g.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(ao):r=[ao])}g=g.return}r!==null&&Fh(a,r,u,h),a.flags|=262144}function _u(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Nl(r){_l=r,fr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return v1(_l,r)}function Nu(r,a){return _l===null&&Nl(r),v1(r,a)}function v1(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},fr===null){if(r===null)throw Error(i(308));fr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else fr=fr.next=a;return u}var bM=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},vM=n.unstable_scheduleCallback,SM=n.unstable_NormalPriority,Tt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new bM,data:new Map,refCount:0}}function Ra(r){r.refCount--,r.refCount===0&&vM(SM,function(){r.controller.abort()})}var La=null,Yh=0,Ms=0,Ts=null;function kM(r,a){if(La===null){var u=La=[];Yh=0,Ms=Xd(),Ts={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Yh++,a.then(S1,S1),a}function S1(){if(--Yh===0&&La!==null){Ts!==null&&(Ts.status="fulfilled");var r=La;La=null,Ms=0,Ts=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function wM(r,a){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var k1=B.S;B.S=function(r,a){lx=Wt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&kM(r,a),k1!==null&&k1(r,a)};var Dl=_(null);function Qh(){var r=Dl.current;return r!==null?r:ot.pooledCache}function Du(r,a){a===null?A(Dl,Dl.current):A(Dl,a.pool)}function w1(){var r=Qh();return r===null?null:{parent:Tt._currentValue,pool:r}}var Es=Error(i(460)),Kh=Error(i(474)),Bu=Error(i(542)),zu={then:function(){}};function C1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function A1(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(ar,ar),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,T1(r),r;default:if(typeof a.status=="string")a.then(ar,ar);else{if(r=ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,T1(r),r}throw zl=a,Es}}function Bl(r){try{var a=r._init;return a(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(zl=u,Es):u}}var zl=null;function M1(){if(zl===null)throw Error(i(459));var r=zl;return zl=null,r}function T1(r){if(r===Es||r===Bu)throw Error(i(483))}var Os=null,ja=0;function Ru(r){var a=ja;return ja+=1,Os===null&&(Os=[]),A1(Os,r,a)}function Ha(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Lu(r,a){throw a.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function E1(r){function a(z,N){if(r){var j=z.deletions;j===null?(z.deletions=[N],z.flags|=16):j.push(N)}}function u(z,N){if(!r)return null;for(;N!==null;)a(z,N),N=N.sibling;return null}function h(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function g(z,N){return z=ur(z,N),z.index=0,z.sibling=null,z}function y(z,N,j){return z.index=j,r?(j=z.alternate,j!==null?(j=j.index,j<N?(z.flags|=67108866,N):j):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function v(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function C(z,N,j,$){return N===null||N.tag!==6?(N=Lh(j,z.mode,$),N.return=z,N):(N=g(N,j),N.return=z,N)}function O(z,N,j,$){var ke=j.type;return ke===w?K(z,N,j.props.children,$,j.key):N!==null&&(N.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===se&&Bl(ke)===N.type)?(N=g(N,j.props),Ha(N,j),N.return=z,N):(N=Eu(j.type,j.key,j.props,null,z.mode,$),Ha(N,j),N.return=z,N)}function U(z,N,j,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=jh(j,z.mode,$),N.return=z,N):(N=g(N,j.children||[]),N.return=z,N)}function K(z,N,j,$,ke){return N===null||N.tag!==7?(N=El(j,z.mode,$,ke),N.return=z,N):(N=g(N,j),N.return=z,N)}function J(z,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Lh(""+N,z.mode,j),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return j=Eu(N.type,N.key,N.props,null,z.mode,j),Ha(j,N),j.return=z,j;case k:return N=jh(N,z.mode,j),N.return=z,N;case se:return N=Bl(N),J(z,N,j)}if(P(N)||F(N))return N=El(N,z.mode,j,null),N.return=z,N;if(typeof N.then=="function")return J(z,Ru(N),j);if(N.$$typeof===R)return J(z,Nu(z,N),j);Lu(z,N)}return null}function I(z,N,j,$){var ke=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ke!==null?null:C(z,N,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===ke?O(z,N,j,$):null;case k:return j.key===ke?U(z,N,j,$):null;case se:return j=Bl(j),I(z,N,j,$)}if(P(j)||F(j))return ke!==null?null:K(z,N,j,$,null);if(typeof j.then=="function")return I(z,N,Ru(j),$);if(j.$$typeof===R)return I(z,N,Nu(z,j),$);Lu(z,j)}return null}function V(z,N,j,$,ke){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(j)||null,C(N,z,""+$,ke);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return z=z.get($.key===null?j:$.key)||null,O(N,z,$,ke);case k:return z=z.get($.key===null?j:$.key)||null,U(N,z,$,ke);case se:return $=Bl($),V(z,N,j,$,ke)}if(P($)||F($))return z=z.get(j)||null,K(N,z,$,ke,null);if(typeof $.then=="function")return V(z,N,j,Ru($),ke);if($.$$typeof===R)return V(z,N,j,Nu(N,$),ke);Lu(N,$)}return null}function xe(z,N,j,$){for(var ke=null,Xe=null,be=N,ze=N=0,Pe=null;be!==null&&ze<j.length;ze++){be.index>ze?(Pe=be,be=null):Pe=be.sibling;var We=I(z,be,j[ze],$);if(We===null){be===null&&(be=Pe);break}r&&be&&We.alternate===null&&a(z,be),N=y(We,N,ze),Xe===null?ke=We:Xe.sibling=We,Xe=We,be=Pe}if(ze===j.length)return u(z,be),Qe&&cr(z,ze),ke;if(be===null){for(;ze<j.length;ze++)be=J(z,j[ze],$),be!==null&&(N=y(be,N,ze),Xe===null?ke=be:Xe.sibling=be,Xe=be);return Qe&&cr(z,ze),ke}for(be=h(be);ze<j.length;ze++)Pe=V(be,z,ze,j[ze],$),Pe!==null&&(r&&Pe.alternate!==null&&be.delete(Pe.key===null?ze:Pe.key),N=y(Pe,N,ze),Xe===null?ke=Pe:Xe.sibling=Pe,Xe=Pe);return r&&be.forEach(function(tl){return a(z,tl)}),Qe&&cr(z,ze),ke}function Ce(z,N,j,$){if(j==null)throw Error(i(151));for(var ke=null,Xe=null,be=N,ze=N=0,Pe=null,We=j.next();be!==null&&!We.done;ze++,We=j.next()){be.index>ze?(Pe=be,be=null):Pe=be.sibling;var tl=I(z,be,We.value,$);if(tl===null){be===null&&(be=Pe);break}r&&be&&tl.alternate===null&&a(z,be),N=y(tl,N,ze),Xe===null?ke=tl:Xe.sibling=tl,Xe=tl,be=Pe}if(We.done)return u(z,be),Qe&&cr(z,ze),ke;if(be===null){for(;!We.done;ze++,We=j.next())We=J(z,We.value,$),We!==null&&(N=y(We,N,ze),Xe===null?ke=We:Xe.sibling=We,Xe=We);return Qe&&cr(z,ze),ke}for(be=h(be);!We.done;ze++,We=j.next())We=V(be,z,ze,We.value,$),We!==null&&(r&&We.alternate!==null&&be.delete(We.key===null?ze:We.key),N=y(We,N,ze),Xe===null?ke=We:Xe.sibling=We,Xe=We);return r&&be.forEach(function(zT){return a(z,zT)}),Qe&&cr(z,ze),ke}function at(z,N,j,$){if(typeof j=="object"&&j!==null&&j.type===w&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var ke=j.key;N!==null;){if(N.key===ke){if(ke=j.type,ke===w){if(N.tag===7){u(z,N.sibling),$=g(N,j.props.children),$.return=z,z=$;break e}}else if(N.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===se&&Bl(ke)===N.type){u(z,N.sibling),$=g(N,j.props),Ha($,j),$.return=z,z=$;break e}u(z,N);break}else a(z,N);N=N.sibling}j.type===w?($=El(j.props.children,z.mode,$,j.key),$.return=z,z=$):($=Eu(j.type,j.key,j.props,null,z.mode,$),Ha($,j),$.return=z,z=$)}return v(z);case k:e:{for(ke=j.key;N!==null;){if(N.key===ke)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){u(z,N.sibling),$=g(N,j.children||[]),$.return=z,z=$;break e}else{u(z,N);break}else a(z,N);N=N.sibling}$=jh(j,z.mode,$),$.return=z,z=$}return v(z);case se:return j=Bl(j),at(z,N,j,$)}if(P(j))return xe(z,N,j,$);if(F(j)){if(ke=F(j),typeof ke!="function")throw Error(i(150));return j=ke.call(j),Ce(z,N,j,$)}if(typeof j.then=="function")return at(z,N,Ru(j),$);if(j.$$typeof===R)return at(z,N,Nu(z,j),$);Lu(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(u(z,N.sibling),$=g(N,j),$.return=z,z=$):(u(z,N),$=Lh(j,z.mode,$),$.return=z,z=$),v(z)):u(z,N)}return function(z,N,j,$){try{ja=0;var ke=at(z,N,j,$);return Os=null,ke}catch(be){if(be===Es||be===Bu)throw be;var Xe=Yn(29,be,null,z.mode);return Xe.lanes=$,Xe.return=z,Xe}}}var Rl=E1(!0),O1=E1(!1),Hr=!1;function Xh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ur(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ir(r,a,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Tu(r),h1(r,null,u),a}return Mu(r,h,a,u),Tu(r)}function Ua(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,u|=h,a.lanes=u,Tn(r,u)}}function $h(r,a){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var v={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=v:y=y.next=v,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var Jh=!1;function Ia(){if(Jh){var r=Ts;if(r!==null)throw r}}function Va(r,a,u,h){Jh=!1;var g=r.updateQueue;Hr=!1;var y=g.firstBaseUpdate,v=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var O=C,U=O.next;O.next=null,v===null?y=U:v.next=U,v=O;var K=r.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==v&&(C===null?K.firstBaseUpdate=U:C.next=U,K.lastBaseUpdate=O))}if(y!==null){var J=g.baseState;v=0,K=U=O=null,C=y;do{var I=C.lane&-536870913,V=I!==C.lane;if(V?(qe&I)===I:(h&I)===I){I!==0&&I===Ms&&(Jh=!0),K!==null&&(K=K.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var xe=r,Ce=C;I=a;var at=u;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){J=xe.call(at,J,I);break e}J=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,I=typeof xe=="function"?xe.call(at,J,I):xe,I==null)break e;J=m({},J,I);break e;case 2:Hr=!0}}I=C.callback,I!==null&&(r.flags|=64,V&&(r.flags|=8192),V=g.callbacks,V===null?g.callbacks=[I]:V.push(I))}else V={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(U=K=V,O=J):K=K.next=V,v|=I;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;V=C,C=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);K===null&&(O=J),g.baseState=O,g.firstBaseUpdate=U,g.lastBaseUpdate=K,y===null&&(g.shared.lanes=0),Gr|=v,r.lanes=v,r.memoizedState=J}}function _1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function N1(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)_1(u[r],a)}var _s=_(null),ju=_(0);function D1(r,a){r=Sr,A(ju,r),A(_s,a),Sr=r|a.baseLanes}function Zh(){A(ju,Sr),A(_s,_s.current)}function ed(){Sr=ju.current,q(_s),q(ju)}var Qn=_(null),hi=null;function Vr(r){var a=r.alternate;A(wt,wt.current&1),A(Qn,r),hi===null&&(a===null||_s.current!==null||a.memoizedState!==null)&&(hi=r)}function td(r){A(wt,wt.current),A(Qn,r),hi===null&&(hi=r)}function B1(r){r.tag===22?(A(wt,wt.current),A(Qn,r),hi===null&&(hi=r)):qr()}function qr(){A(wt,wt.current),A(Qn,Qn.current)}function Kn(r){q(Qn),hi===r&&(hi=null),q(wt)}var wt=_(0);function Hu(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ap(u)||op(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var dr=0,De=null,lt=null,Et=null,Uu=!1,Ns=!1,Ll=!1,Iu=0,qa=0,Ds=null,CM=0;function vt(){throw Error(i(321))}function nd(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Gn(r[u],a[u]))return!1;return!0}function id(r,a,u,h,g,y){return dr=y,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=r===null||r.memoizedState===null?gy:xd,Ll=!1,y=u(h,g),Ll=!1,Ns&&(y=R1(a,u,h,g)),z1(r),y}function z1(r){B.H=Ga;var a=lt!==null&&lt.next!==null;if(dr=0,Et=lt=De=null,Uu=!1,qa=0,Ds=null,a)throw Error(i(300));r===null||Ot||(r=r.dependencies,r!==null&&_u(r)&&(Ot=!0))}function R1(r,a,u,h){De=r;var g=0;do{if(Ns&&(Ds=null),qa=0,Ns=!1,25<=g)throw Error(i(301));if(g+=1,Et=lt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=yy,y=a(u,h)}while(Ns);return y}function AM(){var r=B.H,a=r.useState()[0];return a=typeof a.then=="function"?Pa(a):a,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(De.flags|=1024),a}function rd(){var r=Iu!==0;return Iu=0,r}function ld(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function sd(r){if(Uu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Uu=!1}dr=0,Et=lt=De=null,Ns=!1,qa=Iu=0,Ds=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=r:Et=Et.next=r,Et}function Ct(){if(lt===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var a=Et===null?De.memoizedState:Et.next;if(a!==null)Et=a,lt=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Et===null?De.memoizedState=Et=r:Et=Et.next=r}return Et}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(r){var a=qa;return qa+=1,Ds===null&&(Ds=[]),r=A1(Ds,r,a),a=De,(Et===null?a.memoizedState:Et.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?gy:xd),r}function qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pa(r);if(r.$$typeof===R)return tn(r)}throw Error(i(438,String(r)))}function ad(r){var a=null,u=De.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=De.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Vu(),De.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),h=0;h<r;h++)u[h]=ae;return a.index++,u}function pr(r,a){return typeof a=="function"?a(r):a}function Pu(r){var a=Ct();return od(a,lt,r)}function od(r,a,u){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var g=r.baseQueue,y=h.pending;if(y!==null){if(g!==null){var v=g.next;g.next=y.next,y.next=v}a.baseQueue=g=y,h.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{a=g.next;var C=v=null,O=null,U=a,K=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(qe&J)===J:(dr&J)===J){var I=U.revertLane;if(I===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Ms&&(K=!0);else if((dr&I)===I){U=U.next,I===Ms&&(K=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(C=O=J,v=y):O=O.next=J,De.lanes|=I,Gr|=I;J=U.action,Ll&&u(y,J),y=U.hasEagerState?U.eagerState:u(y,J)}else I={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(C=O=I,v=y):O=O.next=I,De.lanes|=J,Gr|=J;U=U.next}while(U!==null&&U!==a);if(O===null?v=y:O.next=C,!Gn(y,r.memoizedState)&&(Ot=!0,K&&(u=Ts,u!==null)))throw u;r.memoizedState=y,r.baseState=v,r.baseQueue=O,h.lastRenderedState=y}return g===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function ud(r){var a=Ct(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var h=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var v=g=g.next;do y=r(y,v.action),v=v.next;while(v!==g);Gn(y,a.memoizedState)||(Ot=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function L1(r,a,u){var h=De,g=Ct(),y=Qe;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=a();var v=!Gn((lt||g).memoizedState,u);if(v&&(g.memoizedState=u,Ot=!0),g=g.queue,hd(U1.bind(null,h,g,r),[r]),g.getSnapshot!==a||v||Et!==null&&Et.memoizedState.tag&1){if(h.flags|=2048,Bs(9,{destroy:void 0},H1.bind(null,h,g,u,a),null),ot===null)throw Error(i(349));y||(dr&127)!==0||j1(h,a,u)}return u}function j1(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=De.updateQueue,a===null?(a=Vu(),De.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function H1(r,a,u,h){a.value=u,a.getSnapshot=h,I1(a)&&V1(r)}function U1(r,a,u){return u(function(){I1(a)&&V1(r)})}function I1(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Gn(r,u)}catch{return!0}}function V1(r){var a=Tl(r,2);a!==null&&Rn(a,r,2)}function cd(r){var a=Sn();if(typeof r=="function"){var u=r;if(r=u(),Ll){Jt(!0);try{u()}finally{Jt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:r},a}function q1(r,a,u,h){return r.baseState=u,od(r,lt,typeof h=="function"?h:pr)}function MM(r,a,u,h,g){if(Yu(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){y.listeners.push(v)}};B.T!==null?u(!0):y.isTransition=!1,h(y),u=a.pending,u===null?(y.next=a.pending=y,P1(a,y)):(y.next=u.next,a.pending=u.next=y)}}function P1(r,a){var u=a.action,h=a.payload,g=r.state;if(a.isTransition){var y=B.T,v={};B.T=v;try{var C=u(g,h),O=B.S;O!==null&&O(v,C),F1(r,a,C)}catch(U){fd(r,a,U)}finally{y!==null&&v.types!==null&&(y.types=v.types),B.T=y}}else try{y=u(g,h),F1(r,a,y)}catch(U){fd(r,a,U)}}function F1(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){G1(r,a,h)},function(h){return fd(r,a,h)}):G1(r,a,u)}function G1(r,a,u){a.status="fulfilled",a.value=u,Y1(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,P1(r,u)))}function fd(r,a,u){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,Y1(a),a=a.next;while(a!==h)}r.action=null}function Y1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Q1(r,a){return a}function K1(r,a){if(Qe){var u=ot.formState;if(u!==null){e:{var h=De;if(Qe){if(dt){t:{for(var g=dt,y=fi;g.nodeType!==8;){if(!y){g=null;break t}if(g=di(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){dt=di(g.nextSibling),h=g.data==="F!";break e}}Lr(h)}h=!1}h&&(a=u[0])}}return u=Sn(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q1,lastRenderedState:a},u.queue=h,u=dy.bind(null,De,h),h.dispatch=u,h=cd(!1),y=yd.bind(null,De,!1,h.queue),h=Sn(),g={state:a,dispatch:null,action:r,pending:null},h.queue=g,u=MM.bind(null,De,g,y,u),g.dispatch=u,h.memoizedState=r,[a,u,!1]}function X1(r){var a=Ct();return W1(a,lt,r)}function W1(r,a,u){if(a=od(r,a,Q1)[0],r=Pu(pr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Pa(a)}catch(v){throw v===Es?Bu:v}else h=a;a=Ct();var g=a.queue,y=g.dispatch;return u!==a.memoizedState&&(De.flags|=2048,Bs(9,{destroy:void 0},TM.bind(null,g,u),null)),[h,y,r]}function TM(r,a){r.action=a}function $1(r){var a=Ct(),u=lt;if(u!==null)return W1(a,u,r);Ct(),a=a.memoizedState,u=Ct();var h=u.queue.dispatch;return u.memoizedState=r,[a,h,!1]}function Bs(r,a,u,h){return r={tag:r,create:u,deps:h,inst:a,next:null},a=De.updateQueue,a===null&&(a=Vu(),De.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,a.lastEffect=r),r}function J1(){return Ct().memoizedState}function Fu(r,a,u,h){var g=Sn();De.flags|=r,g.memoizedState=Bs(1|a,{destroy:void 0},u,h===void 0?null:h)}function Gu(r,a,u,h){var g=Ct();h=h===void 0?null:h;var y=g.memoizedState.inst;lt!==null&&h!==null&&nd(h,lt.memoizedState.deps)?g.memoizedState=Bs(a,y,u,h):(De.flags|=r,g.memoizedState=Bs(1|a,y,u,h))}function Z1(r,a){Fu(8390656,8,r,a)}function hd(r,a){Gu(2048,8,r,a)}function EM(r){De.flags|=4;var a=De.updateQueue;if(a===null)a=Vu(),De.updateQueue=a,a.events=[r];else{var u=a.events;u===null?a.events=[r]:u.push(r)}}function ey(r){var a=Ct().memoizedState;return EM({ref:a,nextImpl:r}),function(){if((Ze&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function ty(r,a){return Gu(4,2,r,a)}function ny(r,a){return Gu(4,4,r,a)}function iy(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ry(r,a,u){u=u!=null?u.concat([r]):null,Gu(4,4,iy.bind(null,a,r),u)}function dd(){}function ly(r,a){var u=Ct();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&nd(a,h[1])?h[0]:(u.memoizedState=[r,a],r)}function sy(r,a){var u=Ct();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&nd(a,h[1]))return h[0];if(h=r(),Ll){Jt(!0);try{r()}finally{Jt(!1)}}return u.memoizedState=[h,a],h}function pd(r,a,u){return u===void 0||(dr&1073741824)!==0&&(qe&261930)===0?r.memoizedState=a:(r.memoizedState=u,r=ax(),De.lanes|=r,Gr|=r,u)}function ay(r,a,u,h){return Gn(u,a)?u:_s.current!==null?(r=pd(r,u,h),Gn(r,a)||(Ot=!0),r):(dr&42)===0||(dr&1073741824)!==0&&(qe&261930)===0?(Ot=!0,r.memoizedState=u):(r=ax(),De.lanes|=r,Gr|=r,a)}function oy(r,a,u,h,g){var y=G.p;G.p=y!==0&&8>y?y:8;var v=B.T,C={};B.T=C,yd(r,!1,a,u);try{var O=g(),U=B.S;if(U!==null&&U(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=wM(O,h);Fa(r,a,K,$n(r))}else Fa(r,a,h,$n(r))}catch(J){Fa(r,a,{then:function(){},status:"rejected",reason:J},$n())}finally{G.p=y,v!==null&&C.types!==null&&(v.types=C.types),B.T=v}}function OM(){}function md(r,a,u,h){if(r.tag!==5)throw Error(i(476));var g=uy(r).queue;oy(r,g,a,ce,u===null?OM:function(){return cy(r),u(h)})}function uy(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:ce},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function cy(r){var a=uy(r);a.next===null&&(a=r.alternate.memoizedState),Fa(r,a.next.queue,{},$n())}function gd(){return tn(ao)}function fy(){return Ct().memoizedState}function hy(){return Ct().memoizedState}function _M(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=$n();r=Ur(u);var h=Ir(a,r,u);h!==null&&(Rn(h,a,u),Ua(h,a,u)),a={cache:Gh()},r.payload=a;return}a=a.return}}function NM(r,a,u){var h=$n();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yu(r)?py(a,u):(u=zh(r,a,u,h),u!==null&&(Rn(u,r,h),my(u,a,h)))}function dy(r,a,u){var h=$n();Fa(r,a,u,h)}function Fa(r,a,u,h){var g={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yu(r))py(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var v=a.lastRenderedState,C=y(v,u);if(g.hasEagerState=!0,g.eagerState=C,Gn(C,v))return Mu(r,a,g,0),ot===null&&Au(),!1}catch{}if(u=zh(r,a,g,h),u!==null)return Rn(u,r,h),my(u,a,h),!0}return!1}function yd(r,a,u,h){if(h={lane:2,revertLane:Xd(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Yu(r)){if(a)throw Error(i(479))}else a=zh(r,u,h,2),a!==null&&Rn(a,r,2)}function Yu(r){var a=r.alternate;return r===De||a!==null&&a===De}function py(r,a){Ns=Uu=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function my(r,a,u){if((u&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,u|=h,a.lanes=u,Tn(r,u)}}var Ga={readContext:tn,use:qu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ga.useEffectEvent=vt;var gy={readContext:tn,use:qu,useCallback:function(r,a){return Sn().memoizedState=[r,a===void 0?null:a],r},useContext:tn,useEffect:Z1,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,Fu(4194308,4,iy.bind(null,a,r),u)},useLayoutEffect:function(r,a){return Fu(4194308,4,r,a)},useInsertionEffect:function(r,a){Fu(4,2,r,a)},useMemo:function(r,a){var u=Sn();a=a===void 0?null:a;var h=r();if(Ll){Jt(!0);try{r()}finally{Jt(!1)}}return u.memoizedState=[h,a],h},useReducer:function(r,a,u){var h=Sn();if(u!==void 0){var g=u(a);if(Ll){Jt(!0);try{u(a)}finally{Jt(!1)}}}else g=a;return h.memoizedState=h.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},h.queue=r,r=r.dispatch=NM.bind(null,De,r),[h.memoizedState,r]},useRef:function(r){var a=Sn();return r={current:r},a.memoizedState=r},useState:function(r){r=cd(r);var a=r.queue,u=dy.bind(null,De,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:dd,useDeferredValue:function(r,a){var u=Sn();return pd(u,r,a)},useTransition:function(){var r=cd(!1);return r=oy.bind(null,De,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var h=De,g=Sn();if(Qe){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),ot===null)throw Error(i(349));(qe&127)!==0||j1(h,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,Z1(U1.bind(null,h,y,r),[r]),h.flags|=2048,Bs(9,{destroy:void 0},H1.bind(null,h,y,u,a),null),u},useId:function(){var r=Sn(),a=ot.identifierPrefix;if(Qe){var u=Ui,h=Hi;u=(h&~(1<<32-nt(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Iu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=CM++,a="_"+a+"r_"+u.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:gd,useFormState:K1,useActionState:K1,useOptimistic:function(r){var a=Sn();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=yd.bind(null,De,!0,u),u.dispatch=a,[r,a]},useMemoCache:ad,useCacheRefresh:function(){return Sn().memoizedState=_M.bind(null,De)},useEffectEvent:function(r){var a=Sn(),u={impl:r};return a.memoizedState=u,function(){if((Ze&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},xd={readContext:tn,use:qu,useCallback:ly,useContext:tn,useEffect:hd,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Pu,useRef:J1,useState:function(){return Pu(pr)},useDebugValue:dd,useDeferredValue:function(r,a){var u=Ct();return ay(u,lt.memoizedState,r,a)},useTransition:function(){var r=Pu(pr)[0],a=Ct().memoizedState;return[typeof r=="boolean"?r:Pa(r),a]},useSyncExternalStore:L1,useId:fy,useHostTransitionStatus:gd,useFormState:X1,useActionState:X1,useOptimistic:function(r,a){var u=Ct();return q1(u,lt,r,a)},useMemoCache:ad,useCacheRefresh:hy};xd.useEffectEvent=ey;var yy={readContext:tn,use:qu,useCallback:ly,useContext:tn,useEffect:hd,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:ud,useRef:J1,useState:function(){return ud(pr)},useDebugValue:dd,useDeferredValue:function(r,a){var u=Ct();return lt===null?pd(u,r,a):ay(u,lt.memoizedState,r,a)},useTransition:function(){var r=ud(pr)[0],a=Ct().memoizedState;return[typeof r=="boolean"?r:Pa(r),a]},useSyncExternalStore:L1,useId:fy,useHostTransitionStatus:gd,useFormState:$1,useActionState:$1,useOptimistic:function(r,a){var u=Ct();return lt!==null?q1(u,lt,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ad,useCacheRefresh:hy};yy.useEffectEvent=ey;function bd(r,a,u,h){a=r.memoizedState,u=u(h,a),u=u==null?a:m({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var vd={enqueueSetState:function(r,a,u){r=r._reactInternals;var h=$n(),g=Ur(h);g.payload=a,u!=null&&(g.callback=u),a=Ir(r,g,h),a!==null&&(Rn(a,r,h),Ua(a,r,h))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var h=$n(),g=Ur(h);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=Ir(r,g,h),a!==null&&(Rn(a,r,h),Ua(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=$n(),h=Ur(u);h.tag=2,a!=null&&(h.callback=a),a=Ir(r,h,u),a!==null&&(Rn(a,r,u),Ua(a,r,u))}};function xy(r,a,u,h,g,y,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,v):a.prototype&&a.prototype.isPureReactComponent?!Na(u,h)||!Na(g,y):!0}function by(r,a,u,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==r&&vd.enqueueReplaceState(a,a.state,null)}function jl(r,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(r=r.defaultProps){u===a&&(u=m({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}function vy(r){Cu(r)}function Sy(r){console.error(r)}function ky(r){Cu(r)}function Qu(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function wy(r,a,u){try{var h=r.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sd(r,a,u){return u=Ur(u),u.tag=3,u.payload={element:null},u.callback=function(){Qu(r,a)},u}function Cy(r){return r=Ur(r),r.tag=3,r}function Ay(r,a,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;r.payload=function(){return g(y)},r.callback=function(){wy(a,u,h)}}var v=u.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){wy(a,u,h),typeof g!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function DM(r,a,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&As(a,u,g,!0),u=Qn.current,u!==null){switch(u.tag){case 31:case 13:return hi===null?lc():u.alternate===null&&St===0&&(St=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===zu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Yd(r,h,g)),!1;case 22:return u.flags|=65536,h===zu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Yd(r,h,g)),!1}throw Error(i(435,u.tag))}return Yd(r,h,g),lc(),!1}if(Qe)return a=Qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Ih&&(r=Error(i(422),{cause:h}),za(oi(r,u)))):(h!==Ih&&(a=Error(i(423),{cause:h}),za(oi(a,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,h=oi(h,u),g=Sd(r.stateNode,h,g),$h(r,g),St!==4&&(St=2)),!1;var y=Error(i(520),{cause:h});if(y=oi(y,u),Za===null?Za=[y]:Za.push(y),St!==4&&(St=2),a===null)return!0;h=oi(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=Sd(u.stateNode,h,r),$h(u,r),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yr===null||!Yr.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Cy(g),Ay(g,r,u,h),$h(u,g),!1}u=u.return}while(u!==null);return!1}var kd=Error(i(461)),Ot=!1;function nn(r,a,u,h){a.child=r===null?O1(a,null,u,h):Rl(a,r.child,u,h)}function My(r,a,u,h,g){u=u.render;var y=a.ref;if("ref"in h){var v={};for(var C in h)C!=="ref"&&(v[C]=h[C])}else v=h;return Nl(a),h=id(r,a,u,v,y,g),C=rd(),r!==null&&!Ot?(ld(r,a,g),mr(r,a,g)):(Qe&&C&&Hh(a),a.flags|=1,nn(r,a,h,g),a.child)}function Ty(r,a,u,h,g){if(r===null){var y=u.type;return typeof y=="function"&&!Rh(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,Ey(r,a,y,h,g)):(r=Eu(u.type,null,h,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!_d(r,g)){var v=y.memoizedProps;if(u=u.compare,u=u!==null?u:Na,u(v,h)&&r.ref===a.ref)return mr(r,a,g)}return a.flags|=1,r=ur(y,h),r.ref=a.ref,r.return=a,a.child=r}function Ey(r,a,u,h,g){if(r!==null){var y=r.memoizedProps;if(Na(y,h)&&r.ref===a.ref)if(Ot=!1,a.pendingProps=h=y,_d(r,g))(r.flags&131072)!==0&&(Ot=!0);else return a.lanes=r.lanes,mr(r,a,g)}return wd(r,a,u,h,g)}function Oy(r,a,u,h){var g=h.children,y=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,r!==null){for(h=a.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return _y(r,a,y,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Du(a,y!==null?y.cachePool:null),y!==null?D1(a,y):Zh(),B1(a);else return h=a.lanes=536870912,_y(r,a,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(Du(a,y.cachePool),D1(a,y),qr(),a.memoizedState=null):(r!==null&&Du(a,null),Zh(),qr());return nn(r,a,g,u),a.child}function Ya(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function _y(r,a,u,h,g){var y=Qh();return y=y===null?null:{parent:Tt._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},r!==null&&Du(a,null),Zh(),B1(a),r!==null&&As(r,a,h,!0),a.childLanes=g,null}function Ku(r,a){return a=Wu({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function Ny(r,a,u){return Rl(a,r.child,null,u),r=Ku(a,a.pendingProps),r.flags|=2,Kn(a),a.memoizedState=null,r}function BM(r,a,u){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Qe){if(h.mode==="hidden")return r=Ku(a,h),a.lanes=536870912,Ya(null,r);if(td(a),(r=dt)?(r=Px(r,fi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:zr!==null?{id:Hi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},u=p1(r),u.return=a,a.child=u,en=a,dt=null)):r=null,r===null)throw Lr(a);return a.lanes=536870912,null}return Ku(a,h)}var y=r.memoizedState;if(y!==null){var v=y.dehydrated;if(td(a),g)if(a.flags&256)a.flags&=-257,a=Ny(r,a,u);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ot||As(r,a,u,!1),g=(u&r.childLanes)!==0,Ot||g){if(h=ot,h!==null&&(v=En(h,u),v!==0&&v!==y.retryLane))throw y.retryLane=v,Tl(r,v),Rn(h,r,v),kd;lc(),a=Ny(r,a,u)}else r=y.treeContext,dt=di(v.nextSibling),en=a,Qe=!0,Rr=null,fi=!1,r!==null&&y1(a,r),a=Ku(a,h),a.flags|=4096;return a}return r=ur(r.child,{mode:h.mode,children:h.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Xu(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function wd(r,a,u,h,g){return Nl(a),u=id(r,a,u,h,void 0,g),h=rd(),r!==null&&!Ot?(ld(r,a,g),mr(r,a,g)):(Qe&&h&&Hh(a),a.flags|=1,nn(r,a,u,g),a.child)}function Dy(r,a,u,h,g,y){return Nl(a),a.updateQueue=null,u=R1(a,h,u,g),z1(r),h=rd(),r!==null&&!Ot?(ld(r,a,y),mr(r,a,y)):(Qe&&h&&Hh(a),a.flags|=1,nn(r,a,u,y),a.child)}function By(r,a,u,h,g){if(Nl(a),a.stateNode===null){var y=Ss,v=u.contextType;typeof v=="object"&&v!==null&&(y=tn(v)),y=new u(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=vd,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Xh(a),v=u.contextType,y.context=typeof v=="object"&&v!==null?tn(v):Ss,y.state=a.memoizedState,v=u.getDerivedStateFromProps,typeof v=="function"&&(bd(a,u,v,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(v=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),v!==y.state&&vd.enqueueReplaceState(y,y.state,null),Va(a,h,y,g),Ia(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){y=a.stateNode;var C=a.memoizedProps,O=jl(u,C);y.props=O;var U=y.context,K=u.contextType;v=Ss,typeof K=="object"&&K!==null&&(v=tn(K));var J=u.getDerivedStateFromProps;K=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||U!==v)&&by(a,y,h,v),Hr=!1;var I=a.memoizedState;y.state=I,Va(a,h,y,g),Ia(),U=a.memoizedState,C||I!==U||Hr?(typeof J=="function"&&(bd(a,u,J,h),U=a.memoizedState),(O=Hr||xy(a,u,O,h,I,U,v))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=U),y.props=h,y.state=U,y.context=v,h=O):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Wh(r,a),v=a.memoizedProps,K=jl(u,v),y.props=K,J=a.pendingProps,I=y.context,U=u.contextType,O=Ss,typeof U=="object"&&U!==null&&(O=tn(U)),C=u.getDerivedStateFromProps,(U=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(v!==J||I!==O)&&by(a,y,h,O),Hr=!1,I=a.memoizedState,y.state=I,Va(a,h,y,g),Ia();var V=a.memoizedState;v!==J||I!==V||Hr||r!==null&&r.dependencies!==null&&_u(r.dependencies)?(typeof C=="function"&&(bd(a,u,C,h),V=a.memoizedState),(K=Hr||xy(a,u,K,h,I,V,O)||r!==null&&r.dependencies!==null&&_u(r.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,V,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,V,O)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||v===r.memoizedProps&&I===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&I===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=V),y.props=h,y.state=V,y.context=O,h=K):(typeof y.componentDidUpdate!="function"||v===r.memoizedProps&&I===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&I===r.memoizedState||(a.flags|=1024),h=!1)}return y=h,Xu(r,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&h?(a.child=Rl(a,r.child,null,g),a.child=Rl(a,null,u,g)):nn(r,a,u,g),a.memoizedState=y.state,r=a.child):r=mr(r,a,g),r}function zy(r,a,u,h){return Ol(),a.flags|=256,nn(r,a,u,h),a.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(r){return{baseLanes:r,cachePool:w1()}}function Md(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Wn),r}function Ry(r,a,u){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,v;if((v=y)||(v=r!==null&&r.memoizedState===null?!1:(wt.current&2)!==0),v&&(g=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,r===null){if(Qe){if(g?Vr(a):qr(),(r=dt)?(r=Px(r,fi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:zr!==null?{id:Hi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},u=p1(r),u.return=a,a.child=u,en=a,dt=null)):r=null,r===null)throw Lr(a);return op(r)?a.lanes=32:a.lanes=536870912,null}var C=h.children;return h=h.fallback,g?(qr(),g=a.mode,C=Wu({mode:"hidden",children:C},g),h=El(h,g,u,null),C.return=a,h.return=a,C.sibling=h,a.child=C,h=a.child,h.memoizedState=Ad(u),h.childLanes=Md(r,v,u),a.memoizedState=Cd,Ya(null,h)):(Vr(a),Td(a,C))}var O=r.memoizedState;if(O!==null&&(C=O.dehydrated,C!==null)){if(y)a.flags&256?(Vr(a),a.flags&=-257,a=Ed(r,a,u)):a.memoizedState!==null?(qr(),a.child=r.child,a.flags|=128,a=null):(qr(),C=h.fallback,g=a.mode,h=Wu({mode:"visible",children:h.children},g),C=El(C,g,u,null),C.flags|=2,h.return=a,C.return=a,h.sibling=C,a.child=h,Rl(a,r.child,null,u),h=a.child,h.memoizedState=Ad(u),h.childLanes=Md(r,v,u),a.memoizedState=Cd,a=Ya(null,h));else if(Vr(a),op(C)){if(v=C.nextSibling&&C.nextSibling.dataset,v)var U=v.dgst;v=U,h=Error(i(419)),h.stack="",h.digest=v,za({value:h,source:null,stack:null}),a=Ed(r,a,u)}else if(Ot||As(r,a,u,!1),v=(u&r.childLanes)!==0,Ot||v){if(v=ot,v!==null&&(h=En(v,u),h!==0&&h!==O.retryLane))throw O.retryLane=h,Tl(r,h),Rn(v,r,h),kd;ap(C)||lc(),a=Ed(r,a,u)}else ap(C)?(a.flags|=192,a.child=r.child,a=null):(r=O.treeContext,dt=di(C.nextSibling),en=a,Qe=!0,Rr=null,fi=!1,r!==null&&y1(a,r),a=Td(a,h.children),a.flags|=4096);return a}return g?(qr(),C=h.fallback,g=a.mode,O=r.child,U=O.sibling,h=ur(O,{mode:"hidden",children:h.children}),h.subtreeFlags=O.subtreeFlags&65011712,U!==null?C=ur(U,C):(C=El(C,g,u,null),C.flags|=2),C.return=a,h.return=a,h.sibling=C,a.child=h,Ya(null,h),h=a.child,C=r.child.memoizedState,C===null?C=Ad(u):(g=C.cachePool,g!==null?(O=Tt._currentValue,g=g.parent!==O?{parent:O,pool:O}:g):g=w1(),C={baseLanes:C.baseLanes|u,cachePool:g}),h.memoizedState=C,h.childLanes=Md(r,v,u),a.memoizedState=Cd,Ya(r.child,h)):(Vr(a),u=r.child,r=u.sibling,u=ur(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,r!==null&&(v=a.deletions,v===null?(a.deletions=[r],a.flags|=16):v.push(r)),a.child=u,a.memoizedState=null,u)}function Td(r,a){return a=Wu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Wu(r,a){return r=Yn(22,r,null,a),r.lanes=0,r}function Ed(r,a,u){return Rl(a,r.child,null,u),r=Td(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Ly(r,a,u){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),Ph(r.return,a,u)}function Od(r,a,u,h,g,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g,treeForkCount:y}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=g,v.treeForkCount=y)}function jy(r,a,u){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var v=wt.current,C=(v&2)!==0;if(C?(v=v&1|2,a.flags|=128):v&=1,A(wt,v),nn(r,a,h,u),h=Qe?Ba:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ly(r,u,a);else if(r.tag===19)Ly(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(u=a.child,g=null;u!==null;)r=u.alternate,r!==null&&Hu(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Od(a,!1,g,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Hu(r)===null){a.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Od(a,!0,u,null,y,h);break;case"together":Od(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function mr(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Gr|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(As(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=ur(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=ur(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function _d(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&_u(r)))}function zM(r,a,u){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),jr(a,Tt,r.memoizedState.cache),Ol();break;case 27:case 5:Kt(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:jr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,td(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Vr(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Ry(r,a,u):(Vr(a),r=mr(r,a,u),r!==null?r.sibling:null);Vr(a);break;case 19:var g=(r.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(As(r,a,u,!1),h=(u&a.childLanes)!==0),g){if(h)return jy(r,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),A(wt,wt.current),h)break;return null;case 22:return a.lanes=0,Oy(r,a,u,a.pendingProps);case 24:jr(a,Tt,r.memoizedState.cache)}return mr(r,a,u)}function Hy(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ot=!0;else{if(!_d(r,u)&&(a.flags&128)===0)return Ot=!1,zM(r,a,u);Ot=(r.flags&131072)!==0}else Ot=!1,Qe&&(a.flags&1048576)!==0&&g1(a,Ba,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(r=Bl(a.elementType),a.type=r,typeof r=="function")Rh(r)?(h=jl(r,h),a.tag=1,a=By(null,a,r,h,u)):(a.tag=0,a=wd(null,a,r,h,u));else{if(r!=null){var g=r.$$typeof;if(g===ne){a.tag=11,a=My(null,a,r,h,u);break e}else if(g===H){a.tag=14,a=Ty(null,a,r,h,u);break e}}throw a=W(r)||r,Error(i(306,a,""))}}return a;case 0:return wd(r,a,a.type,a.pendingProps,u);case 1:return h=a.type,g=jl(h,a.pendingProps),By(r,a,h,g,u);case 3:e:{if(Ae(a,a.stateNode.containerInfo),r===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,Wh(r,a),Va(a,h,null,u);var v=a.memoizedState;if(h=v.cache,jr(a,Tt,h),h!==y.cache&&Fh(a,[Tt],u,!0),Ia(),h=v.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=zy(r,a,h,u);break e}else if(h!==g){g=oi(Error(i(424)),a),za(g),a=zy(r,a,h,u);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,dt=di(r.firstChild),en=a,Qe=!0,Rr=null,fi=!0,u=O1(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ol(),h===g){a=mr(r,a,u);break e}nn(r,a,h,u)}a=a.child}return a;case 26:return Xu(r,a),r===null?(u=Xx(a.type,null,a.pendingProps,null))?a.memoizedState=u:Qe||(u=a.type,r=a.pendingProps,h=hc(pe.current).createElement(u),h[Zt]=a,h[On]=r,rn(h,u,r),Ft(h),a.stateNode=h):a.memoizedState=Xx(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Kt(a),r===null&&Qe&&(h=a.stateNode=Yx(a.type,a.pendingProps,pe.current),en=a,fi=!0,g=dt,Wr(a.type)?(up=g,dt=di(h.firstChild)):dt=g),nn(r,a,a.pendingProps.children,u),Xu(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Qe&&((g=h=dt)&&(h=cT(h,a.type,a.pendingProps,fi),h!==null?(a.stateNode=h,en=a,dt=di(h.firstChild),fi=!1,g=!0):g=!1),g||Lr(a)),Kt(a),g=a.type,y=a.pendingProps,v=r!==null?r.memoizedProps:null,h=y.children,rp(g,y)?h=null:v!==null&&rp(g,v)&&(a.flags|=32),a.memoizedState!==null&&(g=id(r,a,AM,null,null,u),ao._currentValue=g),Xu(r,a),nn(r,a,h,u),a.child;case 6:return r===null&&Qe&&((r=u=dt)&&(u=fT(u,a.pendingProps,fi),u!==null?(a.stateNode=u,en=a,dt=null,r=!0):r=!1),r||Lr(a)),null;case 13:return Ry(r,a,u);case 4:return Ae(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=Rl(a,null,h,u):nn(r,a,h,u),a.child;case 11:return My(r,a,a.type,a.pendingProps,u);case 7:return nn(r,a,a.pendingProps,u),a.child;case 8:return nn(r,a,a.pendingProps.children,u),a.child;case 12:return nn(r,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,jr(a,a.type,h.value),nn(r,a,h.children,u),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Nl(a),g=tn(g),h=h(g),a.flags|=1,nn(r,a,h,u),a.child;case 14:return Ty(r,a,a.type,a.pendingProps,u);case 15:return Ey(r,a,a.type,a.pendingProps,u);case 19:return jy(r,a,u);case 31:return BM(r,a,u);case 22:return Oy(r,a,u,a.pendingProps);case 24:return Nl(a),h=tn(Tt),r===null?(g=Qh(),g===null&&(g=ot,y=Gh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),a.memoizedState={parent:h,cache:g},Xh(a),jr(a,Tt,g)):((r.lanes&u)!==0&&(Wh(r,a),Va(a,null,null,u),Ia()),g=r.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),jr(a,Tt,h)):(h=y.cache,jr(a,Tt,h),h!==g.cache&&Fh(a,[Tt],u,!0))),nn(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function gr(r){r.flags|=4}function Nd(r,a,u,h,g){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(fx())r.flags|=8192;else throw zl=zu,Kh}else r.flags&=-16777217}function Uy(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!eb(a))if(fx())r.flags|=8192;else throw zl=zu,Kh}function $u(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?mn():536870912,r.lanes|=a,js|=a)}function Qa(r,a){if(!Qe)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function pt(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(a)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=u,a}function RM(r,a,u){var h=a.pendingProps;switch(Uh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(a),null;case 1:return pt(a),null;case 3:return u=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),hr(Tt),Ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Cs(a)?gr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vh())),pt(a),null;case 26:var g=a.type,y=a.memoizedState;return r===null?(gr(a),y!==null?(pt(a),Uy(a,y)):(pt(a),Nd(a,g,null,h,u))):y?y!==r.memoizedState?(gr(a),pt(a),Uy(a,y)):(pt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==h&&gr(a),pt(a),Nd(a,g,r,h,u)),null;case 27:if(An(a),u=pe.current,g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&gr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return pt(a),null}r=ie.current,Cs(a)?x1(a):(r=Yx(g,h,u),a.stateNode=r,gr(a))}return pt(a),null;case 5:if(An(a),g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&gr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return pt(a),null}if(y=ie.current,Cs(a))x1(a);else{var v=hc(pe.current);switch(y){case 1:y=v.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=v.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=v.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?v.createElement(g,{is:h.is}):v.createElement(g)}}y[Zt]=a,y[On]=h;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)y.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=y;e:switch(rn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&gr(a)}}return pt(a),Nd(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,u),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&gr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=pe.current,Cs(a)){if(r=a.stateNode,u=a.memoizedProps,h=null,g=en,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}r[Zt]=a,r=!!(r.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Rx(r.nodeValue,u)),r||Lr(a,!0)}else r=hc(r).createTextNode(h),r[Zt]=a,a.stateNode=r}return pt(a),null;case 31:if(u=a.memoizedState,r===null||r.memoizedState!==null){if(h=Cs(a),u!==null){if(r===null){if(!h)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Zt]=a}else Ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),r=!1}else u=Vh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return pt(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Cs(a),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Zt]=a}else Ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),g=!1}else g=Vh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,r=r!==null&&r.memoizedState!==null,u&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),u!==r&&u&&(a.child.flags|=8192),$u(a,a.updateQueue),pt(a),null);case 4:return Ye(),r===null&&Zd(a.stateNode.containerInfo),pt(a),null;case 10:return hr(a.type),pt(a),null;case 19:if(q(wt),h=a.memoizedState,h===null)return pt(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)Qa(h,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Hu(r),y!==null){for(a.flags|=128,Qa(h,!1),r=y.updateQueue,a.updateQueue=r,$u(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)d1(u,r),u=u.sibling;return A(wt,wt.current&1|2),Qe&&cr(a,h.treeForkCount),a.child}r=r.sibling}h.tail!==null&&Wt()>nc&&(a.flags|=128,g=!0,Qa(h,!1),a.lanes=4194304)}else{if(!g)if(r=Hu(y),r!==null){if(a.flags|=128,g=!0,r=r.updateQueue,a.updateQueue=r,$u(a,r),Qa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Qe)return pt(a),null}else 2*Wt()-h.renderingStartTime>nc&&u!==536870912&&(a.flags|=128,g=!0,Qa(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(r=h.last,r!==null?r.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Wt(),r.sibling=null,u=wt.current,A(wt,g?u&1|2:u&1),Qe&&cr(a,h.treeForkCount),r):(pt(a),null);case 22:case 23:return Kn(a),ed(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(pt(a),a.subtreeFlags&6&&(a.flags|=8192)):pt(a),u=a.updateQueue,u!==null&&$u(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),r!==null&&q(Dl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),hr(Tt),pt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function LM(r,a){switch(Uh(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return hr(Tt),Ye(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(i(340));Ol()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Kn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ol()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return q(wt),null;case 4:return Ye(),null;case 10:return hr(a.type),null;case 22:case 23:return Kn(a),ed(),r!==null&&q(Dl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return hr(Tt),null;case 25:return null;default:return null}}function Iy(r,a){switch(Uh(a),a.tag){case 3:hr(Tt),Ye();break;case 26:case 27:case 5:An(a);break;case 4:Ye();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:q(wt);break;case 10:hr(a.type);break;case 22:case 23:Kn(a),ed(),r!==null&&q(Dl);break;case 24:hr(Tt)}}function Ka(r,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){h=void 0;var y=u.create,v=u.inst;h=y(),v.destroy=h}u=u.next}while(u!==g)}}catch(C){rt(a,a.return,C)}}function Pr(r,a,u){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&r)===r){var v=h.inst,C=v.destroy;if(C!==void 0){v.destroy=void 0,g=a;var O=u,U=C;try{U()}catch(K){rt(g,O,K)}}}h=h.next}while(h!==y)}}catch(K){rt(a,a.return,K)}}function Vy(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{N1(a,u)}catch(h){rt(r,r.return,h)}}}function qy(r,a,u){u.props=jl(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(h){rt(r,a,h)}}function Xa(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof u=="function"?r.refCleanup=u(h):u.current=h}}catch(g){rt(r,a,g)}}function Ii(r,a){var u=r.ref,h=r.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){rt(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){rt(r,a,g)}else u.current=null}function Py(r){var a=r.type,u=r.memoizedProps,h=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){rt(r,r.return,g)}}function Dd(r,a,u){try{var h=r.stateNode;rT(h,r.type,u,a),h[On]=a}catch(g){rt(r,r.return,g)}}function Fy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wr(r.type)||r.tag===4}function Bd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zd(r,a,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ar));else if(h!==4&&(h===27&&Wr(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(zd(r,a,u),r=r.sibling;r!==null;)zd(r,a,u),r=r.sibling}function Ju(r,a,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(h!==4&&(h===27&&Wr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Ju(r,a,u),r=r.sibling;r!==null;)Ju(r,a,u),r=r.sibling}function Gy(r){var a=r.stateNode,u=r.memoizedProps;try{for(var h=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);rn(a,h,u),a[Zt]=r,a[On]=u}catch(y){rt(r,r.return,y)}}var yr=!1,_t=!1,Rd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function jM(r,a){if(r=r.containerInfo,np=bc,r=r1(r),Eh(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var v=0,C=-1,O=-1,U=0,K=0,J=r,I=null;t:for(;;){for(var V;J!==u||g!==0&&J.nodeType!==3||(C=v+g),J!==y||h!==0&&J.nodeType!==3||(O=v+h),J.nodeType===3&&(v+=J.nodeValue.length),(V=J.firstChild)!==null;)I=J,J=V;for(;;){if(J===r)break t;if(I===u&&++U===g&&(C=v),I===y&&++K===h&&(O=v),(V=J.nextSibling)!==null)break;J=I,I=J.parentNode}J=V}u=C===-1||O===-1?null:{start:C,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(ip={focusedElem:r,selectionRange:u},bc=!1,Gt=a;Gt!==null;)if(a=Gt,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Gt=r;else for(;Gt!==null;){switch(a=Gt,y=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)g=r[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,u=a,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var xe=jl(u.type,g);r=h.getSnapshotBeforeUpdate(xe,y),h.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){rt(u,u.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)sp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Gt=r;break}Gt=a.return}}function Qy(r,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:br(r,u),h&4&&Ka(5,u);break;case 1:if(br(r,u),h&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(v){rt(u,u.return,v)}else{var g=jl(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(v){rt(u,u.return,v)}}h&64&&Vy(u),h&512&&Xa(u,u.return);break;case 3:if(br(r,u),h&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{N1(r,a)}catch(v){rt(u,u.return,v)}}break;case 27:a===null&&h&4&&Gy(u);case 26:case 5:br(r,u),a===null&&h&4&&Py(u),h&512&&Xa(u,u.return);break;case 12:br(r,u);break;case 31:br(r,u),h&4&&Wy(r,u);break;case 13:br(r,u),h&4&&$y(r,u),h&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=YM.bind(null,u),hT(r,u))));break;case 22:if(h=u.memoizedState!==null||yr,!h){a=a!==null&&a.memoizedState!==null||_t,g=yr;var y=_t;yr=h,(_t=a)&&!y?vr(r,u,(u.subtreeFlags&8772)!==0):br(r,u),yr=g,_t=y}break;case 30:break;default:br(r,u)}}function Ky(r){var a=r.alternate;a!==null&&(r.alternate=null,Ky(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&fh(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,Nn=!1;function xr(r,a,u){for(u=u.child;u!==null;)Xy(r,a,u),u=u.sibling}function Xy(r,a,u){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount($t,u)}catch{}switch(u.tag){case 26:_t||Ii(u,a),xr(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:_t||Ii(u,a);var h=gt,g=Nn;Wr(u.type)&&(gt=u.stateNode,Nn=!1),xr(r,a,u),ro(u.stateNode),gt=h,Nn=g;break;case 5:_t||Ii(u,a);case 6:if(h=gt,g=Nn,gt=null,xr(r,a,u),gt=h,Nn=g,gt!==null)if(Nn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(u.stateNode)}catch(y){rt(u,a,y)}else try{gt.removeChild(u.stateNode)}catch(y){rt(u,a,y)}break;case 18:gt!==null&&(Nn?(r=gt,Vx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Gs(r)):Vx(gt,u.stateNode));break;case 4:h=gt,g=Nn,gt=u.stateNode.containerInfo,Nn=!0,xr(r,a,u),gt=h,Nn=g;break;case 0:case 11:case 14:case 15:Pr(2,u,a),_t||Pr(4,u,a),xr(r,a,u);break;case 1:_t||(Ii(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&qy(u,a,h)),xr(r,a,u);break;case 21:xr(r,a,u);break;case 22:_t=(h=_t)||u.memoizedState!==null,xr(r,a,u),_t=h;break;default:xr(r,a,u)}}function Wy(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Gs(r)}catch(u){rt(a,a.return,u)}}}function $y(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gs(r)}catch(u){rt(a,a.return,u)}}function HM(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Yy),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Yy),a;default:throw Error(i(435,r.tag))}}function Zu(r,a){var u=HM(r);a.forEach(function(h){if(!u.has(h)){u.add(h);var g=QM.bind(null,r,h);h.then(g,g)}})}function Dn(r,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=r,v=a,C=v;e:for(;C!==null;){switch(C.tag){case 27:if(Wr(C.type)){gt=C.stateNode,Nn=!1;break e}break;case 5:gt=C.stateNode,Nn=!1;break e;case 3:case 4:gt=C.stateNode.containerInfo,Nn=!0;break e}C=C.return}if(gt===null)throw Error(i(160));Xy(y,v,g),gt=null,Nn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jy(a,r),a=a.sibling}var Ai=null;function Jy(r,a){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Dn(a,r),Bn(r),h&4&&(Pr(3,r,r.return),Ka(3,r),Pr(5,r,r.return));break;case 1:Dn(a,r),Bn(r),h&512&&(_t||u===null||Ii(u,u.return)),h&64&&yr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=Ai;if(Dn(a,r),Bn(r),h&512&&(_t||u===null||Ii(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=r.memoizedState,u===null)if(h===null)if(r.stateNode===null){e:{h=r.type,u=r.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ka]||y[Zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),rn(y,h,u),y[Zt]=r,Ft(y),h=y;break e;case"link":var v=Jx("link","href",g).get(h+(u.href||""));if(v){for(var C=0;C<v.length;C++)if(y=v[C],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){v.splice(C,1);break t}}y=g.createElement(h),rn(y,h,u),g.head.appendChild(y);break;case"meta":if(v=Jx("meta","content",g).get(h+(u.content||""))){for(C=0;C<v.length;C++)if(y=v[C],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){v.splice(C,1);break t}}y=g.createElement(h),rn(y,h,u),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Zt]=r,Ft(y),h=y}r.stateNode=h}else Zx(g,r.type,r.stateNode);else r.stateNode=$x(g,h,r.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?Zx(g,r.type,r.stateNode):$x(g,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Dd(r,r.memoizedProps,u.memoizedProps)}break;case 27:Dn(a,r),Bn(r),h&512&&(_t||u===null||Ii(u,u.return)),u!==null&&h&4&&Dd(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Dn(a,r),Bn(r),h&512&&(_t||u===null||Ii(u,u.return)),r.flags&32){g=r.stateNode;try{ps(g,"")}catch(xe){rt(r,r.return,xe)}}h&4&&r.stateNode!=null&&(g=r.memoizedProps,Dd(r,g,u!==null?u.memoizedProps:g)),h&1024&&(Rd=!0);break;case 6:if(Dn(a,r),Bn(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,u=r.stateNode;try{u.nodeValue=h}catch(xe){rt(r,r.return,xe)}}break;case 3:if(mc=null,g=Ai,Ai=dc(a.containerInfo),Dn(a,r),Ai=g,Bn(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Gs(a.containerInfo)}catch(xe){rt(r,r.return,xe)}Rd&&(Rd=!1,Zy(r));break;case 4:h=Ai,Ai=dc(r.stateNode.containerInfo),Dn(a,r),Bn(r),Ai=h;break;case 12:Dn(a,r),Bn(r);break;case 31:Dn(a,r),Bn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zu(r,h)));break;case 13:Dn(a,r),Bn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(tc=Wt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zu(r,h)));break;case 22:g=r.memoizedState!==null;var O=u!==null&&u.memoizedState!==null,U=yr,K=_t;if(yr=U||g,_t=K||O,Dn(a,r),_t=K,yr=U,Bn(r),h&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||O||yr||_t||Hl(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){O=u=a;try{if(y=O.stateNode,g)v=y.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{C=O.stateNode;var J=O.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(xe){rt(O,O.return,xe)}}}else if(a.tag===6){if(u===null){O=a;try{O.stateNode.nodeValue=g?"":O.memoizedProps}catch(xe){rt(O,O.return,xe)}}}else if(a.tag===18){if(u===null){O=a;try{var V=O.stateNode;g?qx(V,!0):qx(O.stateNode,!1)}catch(xe){rt(O,O.return,xe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Zu(r,u))));break;case 19:Dn(a,r),Bn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zu(r,h)));break;case 30:break;case 21:break;default:Dn(a,r),Bn(r)}}function Bn(r){var a=r.flags;if(a&2){try{for(var u,h=r.return;h!==null;){if(Fy(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,y=Bd(r);Ju(r,y,g);break;case 5:var v=u.stateNode;u.flags&32&&(ps(v,""),u.flags&=-33);var C=Bd(r);Ju(r,C,v);break;case 3:case 4:var O=u.stateNode.containerInfo,U=Bd(r);zd(r,U,O);break;default:throw Error(i(161))}}catch(K){rt(r,r.return,K)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Zy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Zy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function br(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qy(r,a.alternate,a),a=a.sibling}function Hl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Pr(4,a,a.return),Hl(a);break;case 1:Ii(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&qy(a,a.return,u),Hl(a);break;case 27:ro(a.stateNode);case 26:case 5:Ii(a,a.return),Hl(a);break;case 22:a.memoizedState===null&&Hl(a);break;case 30:Hl(a);break;default:Hl(a)}r=r.sibling}}function vr(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=r,y=a,v=y.flags;switch(y.tag){case 0:case 11:case 15:vr(g,y,u),Ka(4,y);break;case 1:if(vr(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){rt(h,h.return,U)}if(h=y,g=h.updateQueue,g!==null){var C=h.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)_1(O[g],C)}catch(U){rt(h,h.return,U)}}u&&v&64&&Vy(y),Xa(y,y.return);break;case 27:Gy(y);case 26:case 5:vr(g,y,u),u&&h===null&&v&4&&Py(y),Xa(y,y.return);break;case 12:vr(g,y,u);break;case 31:vr(g,y,u),u&&v&4&&Wy(g,y);break;case 13:vr(g,y,u),u&&v&4&&$y(g,y);break;case 22:y.memoizedState===null&&vr(g,y,u),Xa(y,y.return);break;case 30:break;default:vr(g,y,u)}a=a.sibling}}function Ld(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ra(u))}function jd(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ra(r))}function Mi(r,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ex(r,a,u,h),a=a.sibling}function ex(r,a,u,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(r,a,u,h),g&2048&&Ka(9,a);break;case 1:Mi(r,a,u,h);break;case 3:Mi(r,a,u,h),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ra(r)));break;case 12:if(g&2048){Mi(r,a,u,h),r=a.stateNode;try{var y=a.memoizedProps,v=y.id,C=y.onPostCommit;typeof C=="function"&&C(v,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){rt(a,a.return,O)}}else Mi(r,a,u,h);break;case 31:Mi(r,a,u,h);break;case 13:Mi(r,a,u,h);break;case 23:break;case 22:y=a.stateNode,v=a.alternate,a.memoizedState!==null?y._visibility&2?Mi(r,a,u,h):Wa(r,a):y._visibility&2?Mi(r,a,u,h):(y._visibility|=2,zs(r,a,u,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Ld(v,a);break;case 24:Mi(r,a,u,h),g&2048&&jd(a.alternate,a);break;default:Mi(r,a,u,h)}}function zs(r,a,u,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=r,v=a,C=u,O=h,U=v.flags;switch(v.tag){case 0:case 11:case 15:zs(y,v,C,O,g),Ka(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?zs(y,v,C,O,g):Wa(y,v):(K._visibility|=2,zs(y,v,C,O,g)),g&&U&2048&&Ld(v.alternate,v);break;case 24:zs(y,v,C,O,g),g&&U&2048&&jd(v.alternate,v);break;default:zs(y,v,C,O,g)}a=a.sibling}}function Wa(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,h=a,g=h.flags;switch(h.tag){case 22:Wa(u,h),g&2048&&Ld(h.alternate,h);break;case 24:Wa(u,h),g&2048&&jd(h.alternate,h);break;default:Wa(u,h)}a=a.sibling}}var $a=8192;function Rs(r,a,u){if(r.subtreeFlags&$a)for(r=r.child;r!==null;)tx(r,a,u),r=r.sibling}function tx(r,a,u){switch(r.tag){case 26:Rs(r,a,u),r.flags&$a&&r.memoizedState!==null&&CT(u,Ai,r.memoizedState,r.memoizedProps);break;case 5:Rs(r,a,u);break;case 3:case 4:var h=Ai;Ai=dc(r.stateNode.containerInfo),Rs(r,a,u),Ai=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=$a,$a=16777216,Rs(r,a,u),$a=h):Rs(r,a,u));break;default:Rs(r,a,u)}}function nx(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ja(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Gt=h,rx(h,r)}nx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ix(r),r=r.sibling}function ix(r){switch(r.tag){case 0:case 11:case 15:Ja(r),r.flags&2048&&Pr(9,r,r.return);break;case 3:Ja(r);break;case 12:Ja(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,ec(r)):Ja(r);break;default:Ja(r)}}function ec(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Gt=h,rx(h,r)}nx(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Pr(8,a,a.return),ec(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ec(a));break;default:ec(a)}r=r.sibling}}function rx(r,a){for(;Gt!==null;){var u=Gt;switch(u.tag){case 0:case 11:case 15:Pr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ra(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Gt=h;else e:for(u=r;Gt!==null;){h=Gt;var g=h.sibling,y=h.return;if(Ky(h),h===u){Gt=null;break e}if(g!==null){g.return=y,Gt=g;break e}Gt=y}}}var UM={getCacheForType:function(r){var a=tn(Tt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u},cacheSignal:function(){return tn(Tt).controller.signal}},IM=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,He=null,qe=0,it=0,Xn=null,Fr=!1,Ls=!1,Hd=!1,Sr=0,St=0,Gr=0,Ul=0,Ud=0,Wn=0,js=0,Za=null,zn=null,Id=!1,tc=0,lx=0,nc=1/0,ic=null,Yr=null,Ht=0,Qr=null,Hs=null,kr=0,Vd=0,qd=null,sx=null,eo=0,Pd=null;function $n(){return(Ze&2)!==0&&qe!==0?qe&-qe:B.T!==null?Xd():uh()}function ax(){if(Wn===0)if((qe&536870912)===0||Qe){var r=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),Wn=r}else Wn=536870912;return r=Qn.current,r!==null&&(r.flags|=32),Wn}function Rn(r,a,u){(r===ot&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(Us(r,0),Kr(r,qe,Wn,!1)),xt(r,u),((Ze&2)===0||r!==ot)&&(r===ot&&((Ze&2)===0&&(Ul|=u),St===4&&Kr(r,qe,Wn,!1)),Vi(r))}function ox(r,a,u){if((Ze&6)!==0)throw Error(i(327));var h=!u&&(a&127)===0&&(a&r.expiredLanes)===0||mt(r,a),g=h?PM(r,a):Gd(r,a,!0),y=h;do{if(g===0){Ls&&!h&&Kr(r,a,0,!1);break}else{if(u=r.current.alternate,y&&!VM(u)){g=Gd(r,a,!1),y=!1;continue}if(g===2){if(y=a,r.errorRecoveryDisabledLanes&y)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var C=r;g=Za;var O=C.current.memoizedState.isDehydrated;if(O&&(Us(C,v).flags|=256),v=Gd(C,v,!1),v!==2){if(Hd&&!O){C.errorRecoveryDisabledLanes|=y,Ul|=y,g=4;break e}y=zn,zn=g,y!==null&&(zn===null?zn=y:zn.push.apply(zn,y))}g=v}if(y=!1,g!==2)continue}}if(g===1){Us(r,0),Kr(r,a,0,!0);break}e:{switch(h=r,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Kr(h,a,Wn,!Fr);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=tc+300-Wt(),10<g)){if(Kr(h,a,Wn,!Fr),Oe(h,0,!0)!==0)break e;kr=a,h.timeoutHandle=Ux(ux.bind(null,h,u,zn,ic,Id,a,Wn,Ul,js,Fr,y,"Throttled",-0,0),g);break e}ux(h,u,zn,ic,Id,a,Wn,Ul,js,Fr,y,null,-0,0)}}break}while(!0);Vi(r)}function ux(r,a,u,h,g,y,v,C,O,U,K,J,I,V){if(r.timeoutHandle=-1,J=a.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},tx(a,y,J);var xe=(y&62914560)===y?tc-Wt():(y&4194048)===y?lx-Wt():0;if(xe=AT(J,xe),xe!==null){kr=y,r.cancelPendingCommit=xe(yx.bind(null,r,a,y,u,h,g,v,C,O,K,J,null,I,V)),Kr(r,y,v,!U);return}}yx(r,a,y,u,h,g,v,C,O)}function VM(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Gn(y(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Kr(r,a,u,h){a&=~Ud,a&=~Ul,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var g=a;0<g;){var y=31-nt(g),v=1<<y;h[y]=-1,g&=~v}u!==0&&kl(r,u,a)}function rc(){return(Ze&6)===0?(to(0),!1):!0}function Fd(){if(He!==null){if(it===0)var r=He.return;else r=He,fr=_l=null,sd(r),Os=null,ja=0,r=He;for(;r!==null;)Iy(r.alternate,r),r=r.return;He=null}}function Us(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,aT(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),kr=0,Fd(),ot=r,He=u=ur(r.current,null),qe=a,it=0,Xn=null,Fr=!1,Ls=mt(r,a),Hd=!1,js=Wn=Ud=Ul=Gr=St=0,zn=Za=null,Id=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var g=31-nt(h),y=1<<g;a|=r[g],h&=~y}return Sr=a,Au(),u}function cx(r,a){De=null,B.H=Ga,a===Es||a===Bu?(a=M1(),it=3):a===Kh?(a=M1(),it=4):it=a===kd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xn=a,He===null&&(St=1,Qu(r,oi(a,r.current)))}function fx(){var r=Qn.current;return r===null?!0:(qe&4194048)===qe?hi===null:(qe&62914560)===qe||(qe&536870912)!==0?r===hi:!1}function hx(){var r=B.H;return B.H=Ga,r===null?Ga:r}function dx(){var r=B.A;return B.A=UM,r}function lc(){St=4,Fr||(qe&4194048)!==qe&&Qn.current!==null||(Ls=!0),(Gr&134217727)===0&&(Ul&134217727)===0||ot===null||Kr(ot,qe,Wn,!1)}function Gd(r,a,u){var h=Ze;Ze|=2;var g=hx(),y=dx();(ot!==r||qe!==a)&&(ic=null,Us(r,a)),a=!1;var v=St;e:do try{if(it!==0&&He!==null){var C=He,O=Xn;switch(it){case 8:Fd(),v=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(a=!0);var U=it;if(it=0,Xn=null,Is(r,C,O,U),u&&Ls){v=0;break e}break;default:U=it,it=0,Xn=null,Is(r,C,O,U)}}qM(),v=St;break}catch(K){cx(r,K)}while(!0);return a&&r.shellSuspendCounter++,fr=_l=null,Ze=h,B.H=g,B.A=y,He===null&&(ot=null,qe=0,Au()),v}function qM(){for(;He!==null;)px(He)}function PM(r,a){var u=Ze;Ze|=2;var h=hx(),g=dx();ot!==r||qe!==a?(ic=null,nc=Wt()+500,Us(r,a)):Ls=mt(r,a);e:do try{if(it!==0&&He!==null){a=He;var y=Xn;t:switch(it){case 1:it=0,Xn=null,Is(r,a,y,1);break;case 2:case 9:if(C1(y)){it=0,Xn=null,mx(a);break}a=function(){it!==2&&it!==9||ot!==r||(it=7),Vi(r)},y.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:C1(y)?(it=0,Xn=null,mx(a)):(it=0,Xn=null,Is(r,a,y,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var C=He;if(v?eb(v):C.stateNode.complete){it=0,Xn=null;var O=C.sibling;if(O!==null)He=O;else{var U=C.return;U!==null?(He=U,sc(U)):He=null}break t}}it=0,Xn=null,Is(r,a,y,5);break;case 6:it=0,Xn=null,Is(r,a,y,6);break;case 8:Fd(),St=6;break e;default:throw Error(i(462))}}FM();break}catch(K){cx(r,K)}while(!0);return fr=_l=null,B.H=h,B.A=g,Ze=u,He!==null?0:(ot=null,qe=0,Au(),St)}function FM(){for(;He!==null&&!Xt();)px(He)}function px(r){var a=Hy(r.alternate,r,Sr);r.memoizedProps=r.pendingProps,a===null?sc(r):He=a}function mx(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=Dy(u,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=Dy(u,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:sd(a);default:Iy(u,a),a=He=d1(a,Sr),a=Hy(u,a,Sr)}r.memoizedProps=r.pendingProps,a===null?sc(r):He=a}function Is(r,a,u,h){fr=_l=null,sd(a),Os=null,ja=0;var g=a.return;try{if(DM(r,g,a,u,qe)){St=1,Qu(r,oi(u,r.current)),He=null;return}}catch(y){if(g!==null)throw He=g,y;St=1,Qu(r,oi(u,r.current)),He=null;return}a.flags&32768?(Qe||h===1?r=!0:Ls||(qe&536870912)!==0?r=!1:(Fr=r=!0,(h===2||h===9||h===3||h===6)&&(h=Qn.current,h!==null&&h.tag===13&&(h.flags|=16384))),gx(a,r)):sc(a)}function sc(r){var a=r;do{if((a.flags&32768)!==0){gx(a,Fr);return}r=a.return;var u=RM(a.alternate,a,Sr);if(u!==null){He=u;return}if(a=a.sibling,a!==null){He=a;return}He=a=r}while(a!==null);St===0&&(St=5)}function gx(r,a){do{var u=LM(r.alternate,r);if(u!==null){u.flags&=32767,He=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){He=r;return}He=r=u}while(r!==null);St=6,He=null}function yx(r,a,u,h,g,y,v,C,O){r.cancelPendingCommit=null;do ac();while(Ht!==0);if((Ze&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Bh,Mn(r,u,y,v,C,O),r===ot&&(He=ot=null,qe=0),Hs=a,Qr=r,kr=u,Vd=y,qd=g,sx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,KM(we,function(){return kx(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=G.p,G.p=2,v=Ze,Ze|=4;try{jM(r,a,u)}finally{Ze=v,G.p=g,B.T=h}}Ht=1,xx(),bx(),vx()}}function xx(){if(Ht===1){Ht=0;var r=Qr,a=Hs,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var h=G.p;G.p=2;var g=Ze;Ze|=4;try{Jy(a,r);var y=ip,v=r1(r.containerInfo),C=y.focusedElem,O=y.selectionRange;if(v!==C&&C&&C.ownerDocument&&i1(C.ownerDocument.documentElement,C)){if(O!==null&&Eh(C)){var U=O.start,K=O.end;if(K===void 0&&(K=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(K,C.value.length);else{var J=C.ownerDocument||document,I=J&&J.defaultView||window;if(I.getSelection){var V=I.getSelection(),xe=C.textContent.length,Ce=Math.min(O.start,xe),at=O.end===void 0?Ce:Math.min(O.end,xe);!V.extend&&Ce>at&&(v=at,at=Ce,Ce=v);var z=n1(C,Ce),N=n1(C,at);if(z&&N&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var j=J.createRange();j.setStart(z.node,z.offset),V.removeAllRanges(),Ce>at?(V.addRange(j),V.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),V.addRange(j))}}}}for(J=[],V=C;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var $=J[C];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}bc=!!np,ip=np=null}finally{Ze=g,G.p=h,B.T=u}}r.current=a,Ht=2}}function bx(){if(Ht===2){Ht=0;var r=Qr,a=Hs,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var h=G.p;G.p=2;var g=Ze;Ze|=4;try{Qy(r,a.alternate,a)}finally{Ze=g,G.p=h,B.T=u}}Ht=3}}function vx(){if(Ht===4||Ht===3){Ht=0,zi();var r=Qr,a=Hs,u=kr,h=sx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ht=5:(Ht=0,Hs=Qr=null,Sx(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Yr=null),wi(u),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot($t,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=B.T,g=G.p,G.p=2,B.T=null;try{for(var y=r.onRecoverableError,v=0;v<h.length;v++){var C=h[v];y(C.value,{componentStack:C.stack})}}finally{B.T=a,G.p=g}}(kr&3)!==0&&ac(),Vi(r),g=r.pendingLanes,(u&261930)!==0&&(g&42)!==0?r===Pd?eo++:(eo=0,Pd=r):eo=0,to(0)}}function Sx(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ra(a)))}function ac(){return xx(),bx(),vx(),kx()}function kx(){if(Ht!==5)return!1;var r=Qr,a=Vd;Vd=0;var u=wi(kr),h=B.T,g=G.p;try{G.p=32>u?32:u,B.T=null,u=qd,qd=null;var y=Qr,v=kr;if(Ht=0,Hs=Qr=null,kr=0,(Ze&6)!==0)throw Error(i(331));var C=Ze;if(Ze|=4,ix(y.current),ex(y,y.current,v,u),Ze=C,to(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot($t,y)}catch{}return!0}finally{G.p=g,B.T=h,Sx(r,a)}}function wx(r,a,u){a=oi(u,a),a=Sd(r.stateNode,a,2),r=Ir(r,a,2),r!==null&&(xt(r,2),Vi(r))}function rt(r,a,u){if(r.tag===3)wx(r,r,u);else for(;a!==null;){if(a.tag===3){wx(a,r,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Yr===null||!Yr.has(h))){r=oi(u,r),u=Cy(2),h=Ir(a,u,2),h!==null&&(Ay(u,h,a,r),xt(h,2),Vi(h));break}}a=a.return}}function Yd(r,a,u){var h=r.pingCache;if(h===null){h=r.pingCache=new IM;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(Hd=!0,g.add(u),r=GM.bind(null,r,a,u),a.then(r,r))}function GM(r,a,u){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ot===r&&(qe&u)===u&&(St===4||St===3&&(qe&62914560)===qe&&300>Wt()-tc?(Ze&2)===0&&Us(r,0):Ud|=u,js===qe&&(js=0)),Vi(r)}function Cx(r,a){a===0&&(a=mn()),r=Tl(r,a),r!==null&&(xt(r,a),Vi(r))}function YM(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),Cx(r,u)}function QM(r,a){var u=0;switch(r.tag){case 31:case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Cx(r,u)}function KM(r,a){return _r(r,a)}var oc=null,Vs=null,Qd=!1,uc=!1,Kd=!1,Xr=0;function Vi(r){r!==Vs&&r.next===null&&(Vs===null?oc=Vs=r:Vs=Vs.next=r),uc=!0,Qd||(Qd=!0,WM())}function to(r,a){if(!Kd&&uc){Kd=!0;do for(var u=!1,h=oc;h!==null;){if(r!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var v=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-nt(42|r)+1)-1,y&=g&~(v&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Ex(h,y))}else y=qe,y=Oe(h,h===ot?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||mt(h,y)||(u=!0,Ex(h,y));h=h.next}while(u);Kd=!1}}function XM(){Ax()}function Ax(){uc=Qd=!1;var r=0;Xr!==0&&sT()&&(r=Xr);for(var a=Wt(),u=null,h=oc;h!==null;){var g=h.next,y=Mx(h,a);y===0?(h.next=null,u===null?oc=g:u.next=g,g===null&&(Vs=u)):(u=h,(r!==0||(y&3)!==0)&&(uc=!0)),h=g}Ht!==0&&Ht!==5||to(r),Xr!==0&&(Xr=0)}function Mx(r,a){for(var u=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var v=31-nt(y),C=1<<v,O=g[v];O===-1?((C&u)===0||(C&h)!==0)&&(g[v]=Pt(C,a)):O<=a&&(r.expiredLanes|=C),y&=~C}if(a=ot,u=qe,u=Oe(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,u===0||r===a&&(it===2||it===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&vl(h),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||mt(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(h!==null&&vl(h),wi(u)){case 2:case 8:u=ue;break;case 32:u=we;break;case 268435456:u=je;break;default:u=we}return h=Tx.bind(null,r),u=_r(u,h),r.callbackPriority=a,r.callbackNode=u,a}return h!==null&&h!==null&&vl(h),r.callbackPriority=2,r.callbackNode=null,2}function Tx(r,a){if(Ht!==0&&Ht!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(ac()&&r.callbackNode!==u)return null;var h=qe;return h=Oe(r,r===ot?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(ox(r,h,a),Mx(r,Wt()),r.callbackNode!=null&&r.callbackNode===u?Tx.bind(null,r):null)}function Ex(r,a){if(ac())return null;ox(r,a,!0)}function WM(){oT(function(){(Ze&6)!==0?_r(X,XM):Ax()})}function Xd(){if(Xr===0){var r=Ms;r===0&&(r=ls,ls<<=1,(ls&261888)===0&&(ls=256)),Xr=r}return Xr}function Ox(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yu(""+r)}function _x(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function $M(r,a,u,h,g){if(a==="submit"&&u&&u.stateNode===g){var y=Ox((g[On]||null).action),v=h.submitter;v&&(a=(a=v[On]||null)?Ox(a.formAction):v.getAttribute("formAction"),a!==null&&(y=a,v=null));var C=new Su("action","action",null,h,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xr!==0){var O=v?_x(g,v):new FormData(g);md(u,{pending:!0,data:O,method:g.method,action:y},null,O)}}else typeof y=="function"&&(C.preventDefault(),O=v?_x(g,v):new FormData(g),md(u,{pending:!0,data:O,method:g.method,action:y},y,O))},currentTarget:g}]})}}for(var Wd=0;Wd<Dh.length;Wd++){var $d=Dh[Wd],JM=$d.toLowerCase(),ZM=$d[0].toUpperCase()+$d.slice(1);Ci(JM,"on"+ZM)}Ci(a1,"onAnimationEnd"),Ci(o1,"onAnimationIteration"),Ci(u1,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(mM,"onTransitionRun"),Ci(gM,"onTransitionStart"),Ci(yM,"onTransitionCancel"),Ci(c1,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wl("onBeforeInput",["compositionend","keypress","textInput","paste"]),wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Nx(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var v=h.length-1;0<=v;v--){var C=h[v],O=C.instance,U=C.currentTarget;if(C=C.listener,O!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=U;try{y(g)}catch(K){Cu(K)}g.currentTarget=null,y=O}else for(v=0;v<h.length;v++){if(C=h[v],O=C.instance,U=C.currentTarget,C=C.listener,O!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=U;try{y(g)}catch(K){Cu(K)}g.currentTarget=null,y=O}}}}function Ue(r,a){var u=a[ch];u===void 0&&(u=a[ch]=new Set);var h=r+"__bubble";u.has(h)||(Dx(a,r,2,!1),u.add(h))}function Jd(r,a,u){var h=0;a&&(h|=4),Dx(u,r,h,a)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Zd(r){if(!r[cc]){r[cc]=!0,A0.forEach(function(u){u!=="selectionchange"&&(eT.has(u)||Jd(u,!1,r),Jd(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[cc]||(a[cc]=!0,Jd("selectionchange",!1,a))}}function Dx(r,a,u,h){switch(ab(a)){case 2:var g=ET;break;case 8:g=OT;break;default:g=pp}u=g.bind(null,a,u,r),g=void 0,!bh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(a,u,{capture:!0,passive:g}):r.addEventListener(a,u,!0):g!==void 0?r.addEventListener(a,u,{passive:g}):r.addEventListener(a,u,!1)}function ep(r,a,u,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var C=h.stateNode.containerInfo;if(C===g)break;if(v===4)for(v=h.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===g)return;v=v.return}for(;C!==null;){if(v=us(C),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){h=y=v;continue e}C=C.parentNode}}h=h.return}j0(function(){var U=y,K=yh(u),J=[];e:{var I=f1.get(r);if(I!==void 0){var V=Su,xe=r;switch(r){case"keypress":if(bu(u)===0)break e;case"keydown":case"keyup":V=QA;break;case"focusin":xe="focus",V=wh;break;case"focusout":xe="blur",V=wh;break;case"beforeblur":case"afterblur":V=wh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=RA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=WA;break;case a1:case o1:case u1:V=HA;break;case c1:V=JA;break;case"scroll":case"scrollend":V=BA;break;case"wheel":V=eM;break;case"copy":case"cut":case"paste":V=IA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=q0;break;case"toggle":case"beforetoggle":V=nM}var Ce=(a&4)!==0,at=!Ce&&(r==="scroll"||r==="scrollend"),z=Ce?I!==null?I+"Capture":null:I;Ce=[];for(var N=U,j;N!==null;){var $=N;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||z===null||($=Ca(N,z),$!=null&&Ce.push(io(N,$,j))),at)break;N=N.return}0<Ce.length&&(I=new V(I,xe,null,u,K),J.push({event:I,listeners:Ce}))}}if((a&7)===0){e:{if(I=r==="mouseover"||r==="pointerover",V=r==="mouseout"||r==="pointerout",I&&u!==gh&&(xe=u.relatedTarget||u.fromElement)&&(us(xe)||xe[os]))break e;if((V||I)&&(I=K.window===K?K:(I=K.ownerDocument)?I.defaultView||I.parentWindow:window,V?(xe=u.relatedTarget||u.toElement,V=U,xe=xe?us(xe):null,xe!==null&&(at=s(xe),Ce=xe.tag,xe!==at||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(V=null,xe=U),V!==xe)){if(Ce=I0,$="onMouseLeave",z="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=q0,$="onPointerLeave",z="onPointerEnter",N="pointer"),at=V==null?I:wa(V),j=xe==null?I:wa(xe),I=new Ce($,N+"leave",V,u,K),I.target=at,I.relatedTarget=j,$=null,us(K)===U&&(Ce=new Ce(z,N+"enter",xe,u,K),Ce.target=j,Ce.relatedTarget=at,$=Ce),at=$,V&&xe)t:{for(Ce=tT,z=V,N=xe,j=0,$=z;$;$=Ce($))j++;$=0;for(var ke=N;ke;ke=Ce(ke))$++;for(;0<j-$;)z=Ce(z),j--;for(;0<$-j;)N=Ce(N),$--;for(;j--;){if(z===N||N!==null&&z===N.alternate){Ce=z;break t}z=Ce(z),N=Ce(N)}Ce=null}else Ce=null;V!==null&&Bx(J,I,V,Ce,!1),xe!==null&&at!==null&&Bx(J,at,xe,Ce,!0)}}e:{if(I=U?wa(U):window,V=I.nodeName&&I.nodeName.toLowerCase(),V==="select"||V==="input"&&I.type==="file")var Xe=W0;else if(K0(I))if($0)Xe=hM;else{Xe=cM;var be=uM}else V=I.nodeName,!V||V.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?U&&mh(U.elementType)&&(Xe=W0):Xe=fM;if(Xe&&(Xe=Xe(r,U))){X0(J,Xe,u,K);break e}be&&be(r,I,U),r==="focusout"&&U&&I.type==="number"&&U.memoizedProps.value!=null&&ph(I,"number",I.value)}switch(be=U?wa(U):window,r){case"focusin":(K0(be)||be.contentEditable==="true")&&(xs=be,Oh=U,Da=null);break;case"focusout":Da=Oh=xs=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,l1(J,u,K);break;case"selectionchange":if(pM)break;case"keydown":case"keyup":l1(J,u,K)}var ze;if(Ah)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ys?Y0(r,u)&&(Pe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(P0&&u.locale!=="ko"&&(ys||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ys&&(ze=H0()):(Br=K,vh="value"in Br?Br.value:Br.textContent,ys=!0)),be=fc(U,Pe),0<be.length&&(Pe=new V0(Pe,r,null,u,K),J.push({event:Pe,listeners:be}),ze?Pe.data=ze:(ze=Q0(u),ze!==null&&(Pe.data=ze)))),(ze=rM?lM(r,u):sM(r,u))&&(Pe=fc(U,"onBeforeInput"),0<Pe.length&&(be=new V0("onBeforeInput","beforeinput",null,u,K),J.push({event:be,listeners:Pe}),be.data=ze)),$M(J,r,U,u,K)}Nx(J,a)})}function io(r,a,u){return{instance:r,listener:a,currentTarget:u}}function fc(r,a){for(var u=a+"Capture",h=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ca(r,u),g!=null&&h.unshift(io(r,g,y)),g=Ca(r,a),g!=null&&h.push(io(r,g,y))),r.tag===3)return h;r=r.return}return[]}function tT(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bx(r,a,u,h,g){for(var y=a._reactName,v=[];u!==null&&u!==h;){var C=u,O=C.alternate,U=C.stateNode;if(C=C.tag,O!==null&&O===h)break;C!==5&&C!==26&&C!==27||U===null||(O=U,g?(U=Ca(u,y),U!=null&&v.unshift(io(u,U,O))):g||(U=Ca(u,y),U!=null&&v.push(io(u,U,O)))),u=u.return}v.length!==0&&r.push({event:a,listeners:v})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function zx(r){return(typeof r=="string"?r:""+r).replace(nT,`
`).replace(iT,"")}function Rx(r,a){return a=zx(a),zx(r)===a}function st(r,a,u,h,g,y){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ps(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ps(r,""+h);break;case"className":mu(r,"class",h);break;case"tabIndex":mu(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":mu(r,u,h);break;case"style":R0(r,h,y);break;case"data":if(a!=="object"){mu(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=yu(""+h),r.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&st(r,a,"name",g.name,g,null),st(r,a,"formEncType",g.formEncType,g,null),st(r,a,"formMethod",g.formMethod,g,null),st(r,a,"formTarget",g.formTarget,g,null)):(st(r,a,"encType",g.encType,g,null),st(r,a,"method",g.method,g,null),st(r,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=yu(""+h),r.setAttribute(u,h);break;case"onClick":h!=null&&(r.onclick=ar);break;case"onScroll":h!=null&&Ue("scroll",r);break;case"onScrollEnd":h!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}u=yu(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""+h):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":h===!0?r.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,h):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(u,h):r.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(u):r.setAttribute(u,h);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),pu(r,"popover",h);break;case"xlinkActuate":sr(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":sr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":sr(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":sr(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":sr(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":sr(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":sr(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":sr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":sr(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":pu(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=NA.get(u)||u,pu(r,u,h))}}function tp(r,a,u,h,g,y){switch(u){case"style":R0(r,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof h=="string"?ps(r,h):(typeof h=="number"||typeof h=="bigint")&&ps(r,""+h);break;case"onScroll":h!=null&&Ue("scroll",r);break;case"onScrollEnd":h!=null&&Ue("scrollend",r);break;case"onClick":h!=null&&(r.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!M0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),y=r[On]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,h,g);break e}u in r?r[u]=h:h===!0?r.setAttribute(u,""):pu(r,u,h)}}}function rn(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var v=u[y];if(v!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:st(r,a,y,v,u,null)}}g&&st(r,a,"srcSet",u.srcSet,u,null),h&&st(r,a,"src",u.src,u,null);return;case"input":Ue("invalid",r);var C=y=v=g=null,O=null,U=null;for(h in u)if(u.hasOwnProperty(h)){var K=u[h];if(K!=null)switch(h){case"name":g=K;break;case"type":v=K;break;case"checked":O=K;break;case"defaultChecked":U=K;break;case"value":y=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:st(r,a,h,K,u,null)}}N0(r,y,C,O,U,v,g,!1);return;case"select":Ue("invalid",r),h=v=y=null;for(g in u)if(u.hasOwnProperty(g)&&(C=u[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":v=C;break;case"multiple":h=C;default:st(r,a,g,C,u,null)}a=y,u=v,r.multiple=!!h,a!=null?ds(r,!!h,a,!1):u!=null&&ds(r,!!h,u,!0);return;case"textarea":Ue("invalid",r),y=g=h=null;for(v in u)if(u.hasOwnProperty(v)&&(C=u[v],C!=null))switch(v){case"value":h=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:st(r,a,v,C,u,null)}B0(r,h,g,y);return;case"option":for(O in u)u.hasOwnProperty(O)&&(h=u[O],h!=null)&&(O==="selected"?r.selected=h&&typeof h!="function"&&typeof h!="symbol":st(r,a,O,h,u,null));return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(h=0;h<no.length;h++)Ue(no[h],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in u)if(u.hasOwnProperty(U)&&(h=u[U],h!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:st(r,a,U,h,u,null)}return;default:if(mh(a)){for(K in u)u.hasOwnProperty(K)&&(h=u[K],h!==void 0&&tp(r,a,K,h,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(h=u[C],h!=null&&st(r,a,C,h,u,null))}function rT(r,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,v=null,C=null,O=null,U=null,K=null;for(V in u){var J=u[V];if(u.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":O=J;default:h.hasOwnProperty(V)||st(r,a,V,null,h,J)}}for(var I in h){var V=h[I];if(J=u[I],h.hasOwnProperty(I)&&(V!=null||J!=null))switch(I){case"type":y=V;break;case"name":g=V;break;case"checked":U=V;break;case"defaultChecked":K=V;break;case"value":v=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,a));break;default:V!==J&&st(r,a,I,V,h,J)}}dh(r,v,C,O,U,K,y,g);return;case"select":V=v=C=I=null;for(y in u)if(O=u[y],u.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":V=O;default:h.hasOwnProperty(y)||st(r,a,y,null,h,O)}for(g in h)if(y=h[g],O=u[g],h.hasOwnProperty(g)&&(y!=null||O!=null))switch(g){case"value":I=y;break;case"defaultValue":C=y;break;case"multiple":v=y;default:y!==O&&st(r,a,g,y,h,O)}a=C,u=v,h=V,I!=null?ds(r,!!u,I,!1):!!h!=!!u&&(a!=null?ds(r,!!u,a,!0):ds(r,!!u,u?[]:"",!1));return;case"textarea":V=I=null;for(C in u)if(g=u[C],u.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:st(r,a,C,null,h,g)}for(v in h)if(g=h[v],y=u[v],h.hasOwnProperty(v)&&(g!=null||y!=null))switch(v){case"value":I=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&st(r,a,v,g,h,y)}D0(r,I,V);return;case"option":for(var xe in u)I=u[xe],u.hasOwnProperty(xe)&&I!=null&&!h.hasOwnProperty(xe)&&(xe==="selected"?r.selected=!1:st(r,a,xe,null,h,I));for(O in h)I=h[O],V=u[O],h.hasOwnProperty(O)&&I!==V&&(I!=null||V!=null)&&(O==="selected"?r.selected=I&&typeof I!="function"&&typeof I!="symbol":st(r,a,O,I,h,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in u)I=u[Ce],u.hasOwnProperty(Ce)&&I!=null&&!h.hasOwnProperty(Ce)&&st(r,a,Ce,null,h,I);for(U in h)if(I=h[U],V=u[U],h.hasOwnProperty(U)&&I!==V&&(I!=null||V!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:st(r,a,U,I,h,V)}return;default:if(mh(a)){for(var at in u)I=u[at],u.hasOwnProperty(at)&&I!==void 0&&!h.hasOwnProperty(at)&&tp(r,a,at,void 0,h,I);for(K in h)I=h[K],V=u[K],!h.hasOwnProperty(K)||I===V||I===void 0&&V===void 0||tp(r,a,K,I,h,V);return}}for(var z in u)I=u[z],u.hasOwnProperty(z)&&I!=null&&!h.hasOwnProperty(z)&&st(r,a,z,null,h,I);for(J in h)I=h[J],V=u[J],!h.hasOwnProperty(J)||I===V||I==null&&V==null||st(r,a,J,I,h,V)}function Lx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lT(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var g=u[h],y=g.transferSize,v=g.initiatorType,C=g.duration;if(y&&C&&Lx(v)){for(v=0,C=g.responseEnd,h+=1;h<u.length;h++){var O=u[h],U=O.startTime;if(U>C)break;var K=O.transferSize,J=O.initiatorType;K&&Lx(J)&&(O=O.responseEnd,v+=K*(O<C?1:(C-U)/(O-U)))}if(--h,a+=8*(y+v)/(g.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var np=null,ip=null;function hc(r){return r.nodeType===9?r:r.ownerDocument}function jx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hx(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function rp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lp=null;function sT(){var r=window.event;return r&&r.type==="popstate"?r===lp?!1:(lp=r,!0):(lp=null,!1)}var Ux=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(r){return Ix.resolve(null).then(r).catch(uT)}:Ux;function uT(r){setTimeout(function(){throw r})}function Wr(r){return r==="head"}function Vx(r,a){var u=a,h=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(h===0){r.removeChild(g),Gs(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")ro(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,ro(u);for(var y=u.firstChild;y;){var v=y.nextSibling,C=y.nodeName;y[ka]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=v}}else u==="body"&&ro(r.ownerDocument.body);u=g}while(u);Gs(a)}function qx(r,a){var u=r;r=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=h}while(u)}function sp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":sp(u),fh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function cT(r,a,u,h){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[ka])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=di(r.nextSibling),r===null)break}return null}function fT(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=di(r.nextSibling),r===null))return null;return r}function Px(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=di(r.nextSibling),r===null))return null;return r}function ap(r){return r.data==="$?"||r.data==="$~"}function op(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function hT(r,a){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function di(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var up=null;function Fx(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(a===0)return di(r.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}r=r.nextSibling}return null}function Gx(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return r;a--}else u!=="/$"&&u!=="/&"||a++}r=r.previousSibling}return null}function Yx(r,a,u){switch(a=hc(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ro(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);fh(r)}var pi=new Map,Qx=new Set;function dc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wr=G.d;G.d={f:dT,r:pT,D:mT,C:gT,L:yT,m:xT,X:vT,S:bT,M:ST};function dT(){var r=wr.f(),a=rc();return r||a}function pT(r){var a=cs(r);a!==null&&a.tag===5&&a.type==="form"?cy(a):wr.r(r)}var qs=typeof document>"u"?null:document;function Kx(r,a,u){var h=qs;if(h&&typeof a=="string"&&a){var g=si(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Qx.has(g)||(Qx.add(g),r={rel:r,crossOrigin:u,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),rn(a,"link",r),Ft(a),h.head.appendChild(a)))}}function mT(r){wr.D(r),Kx("dns-prefetch",r,null)}function gT(r,a){wr.C(r,a),Kx("preconnect",r,a)}function yT(r,a,u){wr.L(r,a,u);var h=qs;if(h&&r&&a){var g='link[rel="preload"][as="'+si(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+si(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+si(u.imageSizes)+'"]')):g+='[href="'+si(r)+'"]';var y=g;switch(a){case"style":y=Ps(r);break;case"script":y=Fs(r)}pi.has(y)||(r=m({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),pi.set(y,r),h.querySelector(g)!==null||a==="style"&&h.querySelector(lo(y))||a==="script"&&h.querySelector(so(y))||(a=h.createElement("link"),rn(a,"link",r),Ft(a),h.head.appendChild(a)))}}function xT(r,a){wr.m(r,a);var u=qs;if(u&&r){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+si(h)+'"][href="'+si(r)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fs(r)}if(!pi.has(y)&&(r=m({rel:"modulepreload",href:r},a),pi.set(y,r),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(so(y)))return}h=u.createElement("link"),rn(h,"link",r),Ft(h),u.head.appendChild(h)}}}function bT(r,a,u){wr.S(r,a,u);var h=qs;if(h&&r){var g=fs(h).hoistableStyles,y=Ps(r);a=a||"default";var v=g.get(y);if(!v){var C={loading:0,preload:null};if(v=h.querySelector(lo(y)))C.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":a},u),(u=pi.get(y))&&cp(r,u);var O=v=h.createElement("link");Ft(O),rn(O,"link",r),O._p=new Promise(function(U,K){O.onload=U,O.onerror=K}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,pc(v,a,h)}v={type:"stylesheet",instance:v,count:1,state:C},g.set(y,v)}}}function vT(r,a){wr.X(r,a);var u=qs;if(u&&r){var h=fs(u).hoistableScripts,g=Fs(r),y=h.get(g);y||(y=u.querySelector(so(g)),y||(r=m({src:r,async:!0},a),(a=pi.get(g))&&fp(r,a),y=u.createElement("script"),Ft(y),rn(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function ST(r,a){wr.M(r,a);var u=qs;if(u&&r){var h=fs(u).hoistableScripts,g=Fs(r),y=h.get(g);y||(y=u.querySelector(so(g)),y||(r=m({src:r,async:!0,type:"module"},a),(a=pi.get(g))&&fp(r,a),y=u.createElement("script"),Ft(y),rn(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Xx(r,a,u,h){var g=(g=pe.current)?dc(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ps(u.href),u=fs(g).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ps(u.href);var y=fs(g).hoistableStyles,v=y.get(r);if(v||(g=g.ownerDocument||g,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,v),(y=g.querySelector(lo(r)))&&!y._p&&(v.instance=y,v.state.loading=5),pi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pi.set(r,u),y||kT(g,r,u,v.state))),a&&h===null)throw Error(i(528,""));return v}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fs(u),u=fs(g).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ps(r){return'href="'+si(r)+'"'}function lo(r){return'link[rel="stylesheet"]['+r+"]"}function Wx(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function kT(r,a,u,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),rn(a,"link",u),Ft(a),r.head.appendChild(a))}function Fs(r){return'[src="'+si(r)+'"]'}function so(r){return"script[async]"+r}function $x(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+si(u.href)+'"]');if(h)return a.instance=h,Ft(h),h;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Ft(h),rn(h,"style",g),pc(h,u.precedence,r),a.instance=h;case"stylesheet":g=Ps(u.href);var y=r.querySelector(lo(g));if(y)return a.state.loading|=4,a.instance=y,Ft(y),y;h=Wx(u),(g=pi.get(g))&&cp(h,g),y=(r.ownerDocument||r).createElement("link"),Ft(y);var v=y;return v._p=new Promise(function(C,O){v.onload=C,v.onerror=O}),rn(y,"link",h),a.state.loading|=4,pc(y,u.precedence,r),a.instance=y;case"script":return y=Fs(u.src),(g=r.querySelector(so(y)))?(a.instance=g,Ft(g),g):(h=u,(g=pi.get(y))&&(h=m({},u),fp(h,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ft(g),rn(g,"link",h),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,pc(h,u.precedence,r));return a.instance}function pc(r,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,v=0;v<h.length;v++){var C=h[v];if(C.dataset.precedence===a)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function cp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function fp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var mc=null;function Jx(r,a,u){if(mc===null){var h=new Map,g=mc=new Map;g.set(u,h)}else g=mc,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(r))return h;for(h.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var y=u[g];if(!(y[ka]||y[Zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var v=y.getAttribute(a)||"";v=r+v;var C=h.get(v);C?C.push(y):h.set(v,[y])}}return h}function Zx(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function wT(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function CT(r,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=Ps(h.href),y=a.querySelector(lo(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=gc.bind(r),a.then(r,r)),u.state.loading|=4,u.instance=y,Ft(y);return}y=a.ownerDocument||a,h=Wx(h),(g=pi.get(g))&&cp(h,g),y=y.createElement("link"),Ft(y);var v=y;v._p=new Promise(function(C,O){v.onload=C,v.onerror=O}),rn(y,"link",h),u.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=gc.bind(r),a.addEventListener("load",u),a.addEventListener("error",u))}}var hp=0;function AT(r,a){return r.stylesheets&&r.count===0&&xc(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var h=setTimeout(function(){if(r.stylesheets&&xc(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+a);0<r.imgBytes&&hp===0&&(hp=62500*lT());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&xc(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>hp?50:800)+a);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yc=null;function xc(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yc=new Map,a.forEach(MT,r),yc=null,gc.call(r))}function MT(r,a){if(!(a.state.loading&4)){var u=yc.get(r);if(u)var h=u.get(null);else{u=new Map,yc.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var v=g[y];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(u.set(v.dataset.precedence,v),h=v)}h&&u.set(null,h)}g=a.instance,v=g.getAttribute("data-precedence"),y=u.get(v)||h,y===h&&u.set(null,g),u.set(v,g),this.count++,h=gc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var ao={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function TT(r,a,u,h,g,y,v,C,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function tb(r,a,u,h,g,y,v,C,O,U,K,J){return r=new TT(r,a,u,v,O,U,K,J,C),a=1,y===!0&&(a|=24),y=Yn(3,null,null,a),r.current=y,y.stateNode=r,a=Gh(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:a},Xh(y),r}function nb(r){return r?(r=Ss,r):Ss}function ib(r,a,u,h,g,y){g=nb(g),h.context===null?h.context=g:h.pendingContext=g,h=Ur(a),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Ir(r,h,a),u!==null&&(Rn(u,r,a),Ua(u,r,a))}function rb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function dp(r,a){rb(r,a),(r=r.alternate)&&rb(r,a)}function lb(r){if(r.tag===13||r.tag===31){var a=Tl(r,67108864);a!==null&&Rn(a,r,67108864),dp(r,67108864)}}function sb(r){if(r.tag===13||r.tag===31){var a=$n();a=as(a);var u=Tl(r,a);u!==null&&Rn(u,r,a),dp(r,a)}}var bc=!0;function ET(r,a,u,h){var g=B.T;B.T=null;var y=G.p;try{G.p=2,pp(r,a,u,h)}finally{G.p=y,B.T=g}}function OT(r,a,u,h){var g=B.T;B.T=null;var y=G.p;try{G.p=8,pp(r,a,u,h)}finally{G.p=y,B.T=g}}function pp(r,a,u,h){if(bc){var g=mp(h);if(g===null)ep(r,a,h,vc,u),ob(r,h);else if(NT(g,r,a,u,h))h.stopPropagation();else if(ob(r,h),a&4&&-1<_T.indexOf(r)){for(;g!==null;){var y=cs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var v=ji(y.pendingLanes);if(v!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;v;){var O=1<<31-nt(v);C.entanglements[1]|=O,v&=~O}Vi(y),(Ze&6)===0&&(nc=Wt()+500,to(0))}}break;case 31:case 13:C=Tl(y,2),C!==null&&Rn(C,y,2),rc(),dp(y,2)}if(y=mp(h),y===null&&ep(r,a,h,vc,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else ep(r,a,h,null,u)}}function mp(r){return r=yh(r),gp(r)}var vc=null;function gp(r){if(vc=null,r=us(r),r!==null){var a=s(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=o(a),r!==null)return r;r=null}else if(u===31){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return vc=r,null}function ab(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case X:return 2;case ue:return 8;case we:case Be:return 32;case je:return 268435456;default:return 32}default:return 32}}var yp=!1,$r=null,Jr=null,Zr=null,oo=new Map,uo=new Map,el=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(r,a){switch(r){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(a.pointerId)}}function co(r,a,u,h,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=cs(a),a!==null&&lb(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function NT(r,a,u,h,g){switch(a){case"focusin":return $r=co($r,r,a,u,h,g),!0;case"dragenter":return Jr=co(Jr,r,a,u,h,g),!0;case"mouseover":return Zr=co(Zr,r,a,u,h,g),!0;case"pointerover":var y=g.pointerId;return oo.set(y,co(oo.get(y)||null,r,a,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,uo.set(y,co(uo.get(y)||null,r,a,u,h,g)),!0}return!1}function ub(r){var a=us(r.target);if(a!==null){var u=s(a);if(u!==null){if(a=u.tag,a===13){if(a=o(u),a!==null){r.blockedOn=a,w0(r.priority,function(){sb(u)});return}}else if(a===31){if(a=c(u),a!==null){r.blockedOn=a,w0(r.priority,function(){sb(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sc(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=mp(r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);gh=h,u.target.dispatchEvent(h),gh=null}else return a=cs(u),a!==null&&lb(a),r.blockedOn=u,!1;a.shift()}return!0}function cb(r,a,u){Sc(r)&&u.delete(a)}function DT(){yp=!1,$r!==null&&Sc($r)&&($r=null),Jr!==null&&Sc(Jr)&&(Jr=null),Zr!==null&&Sc(Zr)&&(Zr=null),oo.forEach(cb),uo.forEach(cb)}function kc(r,a){r.blockedOn===a&&(r.blockedOn=null,yp||(yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DT)))}var wc=null;function fb(r){wc!==r&&(wc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wc===r&&(wc=null);for(var a=0;a<r.length;a+=3){var u=r[a],h=r[a+1],g=r[a+2];if(typeof h!="function"){if(gp(h||u)===null)continue;break}var y=cs(u);y!==null&&(r.splice(a,3),a-=3,md(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Gs(r){function a(O){return kc(O,r)}$r!==null&&kc($r,r),Jr!==null&&kc(Jr,r),Zr!==null&&kc(Zr,r),oo.forEach(a),uo.forEach(a);for(var u=0;u<el.length;u++){var h=el[u];h.blockedOn===r&&(h.blockedOn=null)}for(;0<el.length&&(u=el[0],u.blockedOn===null);)ub(u),u.blockedOn===null&&el.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],v=g[On]||null;if(typeof y=="function")v||fb(u);else if(v){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,v=y[On]||null)C=v.formAction;else if(gp(g)!==null)continue}else C=v.action;typeof C=="function"?u[h+1]=C:(u.splice(h,3),h-=3),fb(u)}}}function hb(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(v){return g=v})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function xp(r){this._internalRoot=r}Cc.prototype.render=xp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,h=$n();ib(u,h,r,a,null,null)},Cc.prototype.unmount=xp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ib(r.current,2,null,r,null,null),rc(),a[os]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var a=uh();r={blockedOn:null,target:r,priority:a};for(var u=0;u<el.length&&a!==0&&a<el[u].priority;u++);el.splice(u,0,r),u===0&&ub(r)}};var db=e.version;if(db!=="19.2.3")throw Error(i(527,db,"19.2.3"));G.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var BT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{$t=Ac.inject(BT),kt=Ac}catch{}}return ho.createRoot=function(r,a){if(!l(r))throw Error(i(299));var u=!1,h="",g=vy,y=Sy,v=ky;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=tb(r,1,!1,null,null,u,h,null,g,y,v,hb),r[os]=a.current,Zd(r),new xp(a)},ho.hydrateRoot=function(r,a,u){if(!l(r))throw Error(i(299));var h=!1,g="",y=vy,v=Sy,C=ky,O=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(v=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.formState!==void 0&&(O=u.formState)),a=tb(r,1,!0,a,u??null,h,g,O,y,v,C,hb),a.context=nb(null),u=a.current,h=$n(),h=as(h),g=Ur(h),g.callback=null,Ir(u,g,h),u=h,a.current.lanes=u,xt(a,u),Vi(a),r[os]=a.current,Zd(r),new Cc(a)},ho.version="19.2.3",ho}var wb;function qT(){if(wb)return Sp.exports;wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=VT(),Sp.exports}var PT=qT();const Cb=n=>{let e;const t=new Set,i=(d,p)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const x=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(b=>b(e,x))}},l=()=>e,c={setState:i,getState:l,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(i,l,c);return c},FT=(n=>n?Cb(n):Cb),GT=n=>n;function YT(n,e=GT){const t=oe.useSyncExternalStore(n.subscribe,oe.useCallback(()=>e(n.getState()),[n,e]),oe.useCallback(()=>e(n.getInitialState()),[n,e]));return oe.useDebugValue(t),t}const QT=n=>{const e=FT(n),t=i=>YT(e,i);return Object.assign(t,e),t},KT=(n=>QT);function m2(n,e){let t;try{t=n()}catch{return}return{getItem:l=>{var s;const o=f=>f===null?null:JSON.parse(f,void 0),c=(s=t.getItem(l))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(l,s)=>t.setItem(l,JSON.stringify(s,void 0)),removeItem:l=>t.removeItem(l)}}const pm=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return pm(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return pm(i)(t)}}}},XT=(n,e)=>(t,i,l)=>{let s={storage:m2(()=>localStorage),partialize:w=>w,version:0,merge:(w,M)=>({...M,...w}),...e},o=!1;const c=new Set,f=new Set;let d=s.storage;if(!d)return n((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...w)},i,l);const p=()=>{const w=s.partialize({...i()});return d.setItem(s.name,{state:w,version:s.version})},m=l.setState;l.setState=(w,M)=>(m(w,M),p());const x=n((...w)=>(t(...w),p()),i,l);l.getInitialState=()=>x;let b;const k=()=>{var w,M;if(!d)return;o=!1,c.forEach(L=>{var R;return L((R=i())!=null?R:x)});const T=((M=s.onRehydrateStorage)==null?void 0:M.call(s,(w=i())!=null?w:x))||void 0;return pm(d.getItem.bind(d))(s.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==s.version){if(s.migrate){const R=s.migrate(L.state,L.version);return R instanceof Promise?R.then(ne=>[!0,ne]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var R;const[ne,Q]=L;if(b=s.merge(Q,(R=i())!=null?R:x),t(b,!0),ne)return p()}).then(()=>{T?.(b,void 0),b=i(),o=!0,f.forEach(L=>L(b))}).catch(L=>{T?.(void 0,L)})};return l.persist={setOptions:w=>{s={...s,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(c.add(w),()=>{c.delete(w)}),onFinishHydration:w=>(f.add(w),()=>{f.delete(w)})},s.skipHydration||k(),b||x},WT=XT;var $T=p2();const JT=Yf($T);function ZT(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const eE=n=>{switch(n){case"success":return iE;case"info":return lE;case"warning":return rE;case"error":return sE;default:return null}},tE=Array(12).fill(0),nE=({visible:n,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},oe.createElement("div",{className:"sonner-spinner"},tE.map((t,i)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),iE=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rE=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lE=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sE=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aE=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oE=()=>{const[n,e]=oe.useState(document.hidden);return oe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let mm=1;class uE{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...l}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mm++,o=this.toasts.find(f=>f.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(f=>f.id===s?(this.publish({...f,...e,id:s,title:i}),{...f,...e,id:s,dismissible:c,title:i}):f):this.addToast({title:i,...l,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,o;const c=l.then(async d=>{if(o=["resolve",d],oe.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(fE(d)&&!d.ok){s=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description,k=typeof m=="object"&&!oe.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:x,...k})}else if(d instanceof Error){s=!1;const m=typeof t.error=="function"?await t.error(d):t.error,x=typeof t.description=="function"?await t.description(d):t.description,k=typeof m=="object"&&!oe.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:x,...k})}else if(t.success!==void 0){s=!1;const m=typeof t.success=="function"?await t.success(d):t.success,x=typeof t.description=="function"?await t.description(d):t.description,k=typeof m=="object"&&!oe.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:x,...k})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){s=!1;const p=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description,b=typeof p=="object"&&!oe.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:m,...b})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((d,p)=>c.then(()=>o[0]==="reject"?p(o[1]):d(o[1])).catch(p));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(e,t)=>{const i=t?.id||mm++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jn=new uE,cE=(n,e)=>{const t=e?.id||mm++;return jn.addToast({title:n,...e,id:t}),t},fE=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",hE=cE,dE=()=>jn.toasts,pE=()=>jn.getActiveToasts(),Fe=Object.assign(hE,{success:jn.success,info:jn.info,warning:jn.warning,error:jn.error,custom:jn.custom,message:jn.message,promise:jn.promise,dismiss:jn.dismiss,loading:jn.loading},{getHistory:dE,getToasts:pE});ZT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mc(n){return n.label!==void 0}const mE=3,gE="24px",yE="16px",Ab=4e3,xE=356,bE=14,vE=45,SE=200;function qi(...n){return n.filter(Boolean).join(" ")}function kE(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const wE=n=>{var e,t,i,l,s,o,c,f,d;const{invert:p,toast:m,unstyled:x,interacting:b,setHeights:k,visibleToasts:w,heights:M,index:T,toasts:L,expanded:R,removeToast:ne,defaultRichColors:Q,closeButton:D,style:H,cancelButtonStyle:se,actionButtonStyle:Z,className:ae="",descriptionClassName:te="",duration:F,position:re,gap:W,expandByDefault:P,classNames:B,icons:G,closeButtonAriaLabel:ce="Close toast"}=n,[me,E]=oe.useState(null),[_,q]=oe.useState(null),[A,ie]=oe.useState(!1),[fe,pe]=oe.useState(!1),[Ee,Ae]=oe.useState(!1),[Ye,Kt]=oe.useState(!1),[An,ri]=oe.useState(!1),[rs,Fn]=oe.useState(0),[Or,lr]=oe.useState(0),Bi=oe.useRef(m.duration||F||Ab),bl=oe.useRef(null),hn=oe.useRef(null),_r=T===0,vl=T+1<=w,Xt=m.type,zi=m.dismissible!==!1,Wt=m.className||"",Sa=m.descriptionClassName||"",X=oe.useMemo(()=>M.findIndex(Oe=>Oe.toastId===m.id)||0,[M,m.id]),ue=oe.useMemo(()=>{var Oe;return(Oe=m.closeButton)!=null?Oe:D},[m.closeButton,D]),we=oe.useMemo(()=>m.duration||F||Ab,[m.duration,F]),Be=oe.useRef(0),je=oe.useRef(0),dn=oe.useRef(0),pn=oe.useRef(null),[$t,kt]=re.split("-"),Jt=oe.useMemo(()=>M.reduce((Oe,mt,Pt)=>Pt>=X?Oe:Oe+mt.height,0),[M,X]),nt=oE(),Ri=m.invert||p,vn=Xt==="loading";je.current=oe.useMemo(()=>X*W+Jt,[X,Jt]),oe.useEffect(()=>{Bi.current=we},[we]),oe.useEffect(()=>{ie(!0)},[]),oe.useEffect(()=>{const Oe=hn.current;if(Oe){const mt=Oe.getBoundingClientRect().height;return lr(mt),k(Pt=>[{toastId:m.id,height:mt,position:m.position},...Pt]),()=>k(Pt=>Pt.filter(mn=>mn.toastId!==m.id))}},[k,m.id]),oe.useLayoutEffect(()=>{if(!A)return;const Oe=hn.current,mt=Oe.style.height;Oe.style.height="auto";const Pt=Oe.getBoundingClientRect().height;Oe.style.height=mt,lr(Pt),k(mn=>mn.find(xt=>xt.toastId===m.id)?mn.map(xt=>xt.toastId===m.id?{...xt,height:Pt}:xt):[{toastId:m.id,height:Pt,position:m.position},...mn])},[A,m.title,m.description,k,m.id,m.jsx,m.action,m.cancel]);const Li=oe.useCallback(()=>{pe(!0),Fn(je.current),k(Oe=>Oe.filter(mt=>mt.toastId!==m.id)),setTimeout(()=>{ne(m)},SE)},[m,ne,k,je]);oe.useEffect(()=>{if(m.promise&&Xt==="loading"||m.duration===1/0||m.type==="loading")return;let Oe;return R||b||nt?(()=>{if(dn.current<Be.current){const mn=new Date().getTime()-Be.current;Bi.current=Bi.current-mn}dn.current=new Date().getTime()})():Bi.current!==1/0&&(Be.current=new Date().getTime(),Oe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Li()},Bi.current)),()=>clearTimeout(Oe)},[R,b,m,Xt,nt,Li]),oe.useEffect(()=>{m.delete&&(Li(),m.onDismiss==null||m.onDismiss.call(m,m))},[Li,m.delete]);function ls(){var Oe;if(G?.loading){var mt;return oe.createElement("div",{className:qi(B?.loader,m==null||(mt=m.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":Xt==="loading"},G.loading)}return oe.createElement(nE,{className:qi(B?.loader,m==null||(Oe=m.classNames)==null?void 0:Oe.loader),visible:Xt==="loading"})}const ss=m.icon||G?.[Xt]||eE(Xt);var Sl,ji;return oe.createElement("li",{tabIndex:0,ref:hn,className:qi(ae,Wt,B?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,B?.default,B?.[Xt],m==null||(t=m.classNames)==null?void 0:t[Xt]),"data-sonner-toast":"","data-rich-colors":(Sl=m.richColors)!=null?Sl:Q,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":An,"data-removed":fe,"data-visible":vl,"data-y-position":$t,"data-x-position":kt,"data-index":T,"data-front":_r,"data-swiping":Ee,"data-dismissible":zi,"data-type":Xt,"data-invert":Ri,"data-swipe-out":Ye,"data-swipe-direction":_,"data-expanded":!!(R||P&&A),"data-testid":m.testId,style:{"--index":T,"--toasts-before":T,"--z-index":L.length-T,"--offset":`${fe?rs:je.current}px`,"--initial-height":P?"auto":`${Or}px`,...H,...m.style},onDragEnd:()=>{Ae(!1),E(null),pn.current=null},onPointerDown:Oe=>{Oe.button!==2&&(vn||!zi||(bl.current=new Date,Fn(je.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Ae(!0),pn.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,mt,Pt;if(Ye||!zi)return;pn.current=null;const mn=Number(((Oe=hn.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((mt=hn.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xt=new Date().getTime()-((Pt=bl.current)==null?void 0:Pt.getTime()),Mn=me==="x"?mn:Nr,kl=Math.abs(Mn)/xt;if(Math.abs(Mn)>=vE||kl>.11){Fn(je.current),m.onDismiss==null||m.onDismiss.call(m,m),q(me==="x"?mn>0?"right":"left":Nr>0?"down":"up"),Li(),Kt(!0);return}else{var Tn,En;(Tn=hn.current)==null||Tn.style.setProperty("--swipe-amount-x","0px"),(En=hn.current)==null||En.style.setProperty("--swipe-amount-y","0px")}ri(!1),Ae(!1),E(null)},onPointerMove:Oe=>{var mt,Pt,mn;if(!pn.current||!zi||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;const xt=Oe.clientY-pn.current.y,Mn=Oe.clientX-pn.current.x;var kl;const Tn=(kl=n.swipeDirections)!=null?kl:kE(re);!me&&(Math.abs(Mn)>1||Math.abs(xt)>1)&&E(Math.abs(Mn)>Math.abs(xt)?"x":"y");let En={x:0,y:0};const as=wi=>1/(1.5+Math.abs(wi)/20);if(me==="y"){if(Tn.includes("top")||Tn.includes("bottom"))if(Tn.includes("top")&&xt<0||Tn.includes("bottom")&&xt>0)En.y=xt;else{const wi=xt*as(xt);En.y=Math.abs(wi)<Math.abs(xt)?wi:xt}}else if(me==="x"&&(Tn.includes("left")||Tn.includes("right")))if(Tn.includes("left")&&Mn<0||Tn.includes("right")&&Mn>0)En.x=Mn;else{const wi=Mn*as(Mn);En.x=Math.abs(wi)<Math.abs(Mn)?wi:Mn}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&ri(!0),(Pt=hn.current)==null||Pt.style.setProperty("--swipe-amount-x",`${En.x}px`),(mn=hn.current)==null||mn.style.setProperty("--swipe-amount-y",`${En.y}px`)}},ue&&!m.jsx&&Xt!=="loading"?oe.createElement("button",{"aria-label":ce,"data-disabled":vn,"data-close-button":!0,onClick:vn||!zi?()=>{}:()=>{Li(),m.onDismiss==null||m.onDismiss.call(m,m)},className:qi(B?.closeButton,m==null||(i=m.classNames)==null?void 0:i.closeButton)},(ji=G?.close)!=null?ji:aE):null,(Xt||m.icon||m.promise)&&m.icon!==null&&(G?.[Xt]!==null||m.icon)?oe.createElement("div",{"data-icon":"",className:qi(B?.icon,m==null||(l=m.classNames)==null?void 0:l.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ls():null,m.type!=="loading"?ss:null):null,oe.createElement("div",{"data-content":"",className:qi(B?.content,m==null||(s=m.classNames)==null?void 0:s.content)},oe.createElement("div",{"data-title":"",className:qi(B?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?oe.createElement("div",{"data-description":"",className:qi(te,Sa,B?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),oe.isValidElement(m.cancel)?m.cancel:m.cancel&&Mc(m.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||se,onClick:Oe=>{Mc(m.cancel)&&zi&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Oe),Li())},className:qi(B?.cancelButton,m==null||(f=m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,oe.isValidElement(m.action)?m.action:m.action&&Mc(m.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||Z,onClick:Oe=>{Mc(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Oe),!Oe.defaultPrevented&&Li())},className:qi(B?.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function Mb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function CE(n,e){const t={};return[n,e].forEach((i,l)=>{const s=l===1,o=s?"--mobile-offset":"--offset",c=s?yE:gE;function f(d){["top","right","bottom","left"].forEach(p=>{t[`${o}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?t[`${o}-${d}`]=c:t[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):f(c)}),t}const AE=oe.forwardRef(function(e,t){const{id:i,invert:l,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:f,className:d,offset:p,mobileOffset:m,theme:x="light",richColors:b,duration:k,style:w,visibleToasts:M=mE,toastOptions:T,dir:L=Mb(),gap:R=bE,icons:ne,containerAriaLabel:Q="Notifications"}=e,[D,H]=oe.useState([]),se=oe.useMemo(()=>i?D.filter(A=>A.toasterId===i):D.filter(A=>!A.toasterId),[D,i]),Z=oe.useMemo(()=>Array.from(new Set([s].concat(se.filter(A=>A.position).map(A=>A.position)))),[se,s]),[ae,te]=oe.useState([]),[F,re]=oe.useState(!1),[W,P]=oe.useState(!1),[B,G]=oe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=oe.useRef(null),me=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=oe.useRef(null),_=oe.useRef(!1),q=oe.useCallback(A=>{H(ie=>{var fe;return(fe=ie.find(pe=>pe.id===A.id))!=null&&fe.delete||jn.dismiss(A.id),ie.filter(({id:pe})=>pe!==A.id)})},[]);return oe.useEffect(()=>jn.subscribe(A=>{if(A.dismiss){requestAnimationFrame(()=>{H(ie=>ie.map(fe=>fe.id===A.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{JT.flushSync(()=>{H(ie=>{const fe=ie.findIndex(pe=>pe.id===A.id);return fe!==-1?[...ie.slice(0,fe),{...ie[fe],...A},...ie.slice(fe+1)]:[A,...ie]})})})}),[D]),oe.useEffect(()=>{if(x!=="system"){G(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:ie})=>{G(ie?"dark":"light")})}catch{A.addListener(({matches:fe})=>{try{G(fe?"dark":"light")}catch(pe){console.error(pe)}})}},[x]),oe.useEffect(()=>{D.length<=1&&re(!1)},[D]),oe.useEffect(()=>{const A=ie=>{var fe;if(o.every(Ae=>ie[Ae]||ie.code===Ae)){var Ee;re(!0),(Ee=ce.current)==null||Ee.focus()}ie.code==="Escape"&&(document.activeElement===ce.current||(fe=ce.current)!=null&&fe.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[o]),oe.useEffect(()=>{if(ce.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,_.current=!1)}},[ce.current]),oe.createElement("section",{ref:t,"aria-label":`${Q} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Z.map((A,ie)=>{var fe;const[pe,Ee]=A.split("-");return se.length?oe.createElement("ol",{key:A,dir:L==="auto"?Mb():L,tabIndex:-1,ref:ce,className:d,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":pe,"data-x-position":Ee,style:{"--front-toast-height":`${((fe=ae[0])==null?void 0:fe.height)||0}px`,"--width":`${xE}px`,"--gap":`${R}px`,...w,...CE(p,m)},onBlur:Ae=>{_.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(_.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||_.current||(_.current=!0,E.current=Ae.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{W||re(!1)},onDragEnd:()=>re(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},se.filter(Ae=>!Ae.position&&ie===0||Ae.position===A).map((Ae,Ye)=>{var Kt,An;return oe.createElement(wE,{key:Ae.id,icons:ne,index:Ye,toast:Ae,defaultRichColors:b,duration:(Kt=T?.duration)!=null?Kt:k,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:l,visibleToasts:M,closeButton:(An=T?.closeButton)!=null?An:f,interacting:W,position:A,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:q,toasts:se.filter(ri=>ri.position==Ae.position),heights:ae.filter(ri=>ri.position==Ae.position),setHeights:te,expandByDefault:c,gap:R,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),Tb=n=>{try{return{data:JSON.parse(n),error:null}}catch(e){return{data:null,error:{message:e.message}}}},ME=(n,e=2)=>{try{const t=JSON.parse(n);return JSON.stringify(t,null,e)}catch{return n}},TE=n=>{try{const e=JSON.parse(n);return JSON.stringify(e)}catch{return n}},gm=n=>Array.isArray(n)?n.map(gm):typeof n=="object"&&n!==null?Object.keys(n).sort().reduce((e,t)=>(e[t]=gm(n[t]),e),{}):n,Eb=n=>{try{const e=JSON.parse(n),t=gm(e);return JSON.stringify(t,null,2)}catch{return n}},EE=async(n,e,t="auto")=>{let i=t;(!i||i==="auto")&&(i=await g2(e)),console.log("Using Gemini Model:",i);const l=n.length>5e4;let s=`You are a JSON repair tool. Fix this invalid JSON and explain what was wrong.
    Rules:
    1. Output strictly a JSON object with this structure:
       {
         "fixed": "THE VALID JSON STRING HERE",
         "explanation": "Short summary of the syntax errors found (max 15 words)"
       }
    2. Do NOT use markdown fences around the Output JSON. Just raw JSON.
    3. The "fixed" field MUST be the valid, minified or mostly compact JSON.
    4. If it's already valid, just return it in "fixed" and say "Valid JSON" in explanation.
    
    Invalid JSON:
    ${n}`,o=null;if(l)try{return JSON.parse(n),{fixed:n,explanation:"Valid JSON"}}catch(c){const f=c.message;let d=-1;const p=f.match(/position (\d+)/);if(p?d=parseInt(p[1],10):d=n.length-1,d!==-1){const m=Math.max(0,d-2e3),x=Math.min(n.length,d+2e3),b=n.slice(m,x);o={start:m,end:x,original:b},s=`You are a JSON repair tool. I have a syntax error in a large file around specific characters.
                Fix the snippet below.
                
                Error Context: "${f}"
                
                Rules:
                1. Output strictly a JSON object:
                   {
                     "fixedSnippet": "THE FIXED STRING SEGMENT ONLY",
                     "explanation": "What you fixed"
                   }
                2. The "fixedSnippet" must replace the invalid part of the input snippet perfectly so it fits back into the file.
                3. Do NOT wrap output in markdown.

                Invalid Snippet:
                ${b}`}}try{const c=i.startsWith("models/")?i:`models/${i}`,f=await fetch(`https://generativelanguage.googleapis.com/v1beta/${c}:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}]})});if(!f.ok){const k=await f.json();throw f.status===429?new Error("Rate limit exceeded. Please wait a moment before trying again."):new Error(k.error?.message||"Failed to contact Gemini")}const p=(await f.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!p)throw new Error("No response from AI");const m=p.replace(/```json\n?|```/g,"").trim(),x=JSON.parse(m);if(l&&o&&x.fixedSnippet)return{fixed:n.slice(0,o.start)+x.fixedSnippet+n.slice(o.end),explanation:x.explanation||"Fixed error in snippet"};let b=typeof x.fixed=="string"?x.fixed:JSON.stringify(x.fixed);if(!l)try{const k=JSON.parse(b);b=JSON.stringify(k,null,2)}catch(k){console.warn("Failed to format fixed JSON:",k)}return{fixed:b,explanation:x.explanation||"Fixed syntax errors"}}catch(c){throw console.error("AI Fix Error:",c),c}},Og=n=>{if(n.length<5e4)return n;try{const e=JSON.parse(n);if(Array.isArray(e)){if(e.length<=50)return n;const t=[...e.slice(0,20),...e.slice(-20)];return JSON.stringify(t,null,2)}return n.slice(0,5e4)+`
... (truncated)`}catch{return n.slice(0,3e4)+`
... (truncated)`}},OE=async(n,e,t="auto")=>{const i=Og(n);return nu(i,e,t,`You are a TypeScript expert. Generate a TypeScript interface for this JSON.
      Rules:
      1. Output ONLY the TypeScript code. No markdown fences.
      2. Use 'Root' as the main interface name.
      3. Use nice indentation.`)},_E=async(n,e,t="auto")=>{const i=Og(n);return nu(i,e,t,`Explain this JSON data in simple terms.
      Rules:
      1. Be concise. High-level summary of what this data represents.
      2. Mention key fields if important.
      3. No markdown formatting, just plain text or simple bullet points.`)},NE=async(n,e,t="auto")=>nu("",e,t,`Generate realistic JSON data based on this request: "${n}".
        Rules:
        1. Output ONLY valid JSON.
        2. Format nicely with 2 spaces.
        3. Make the data look real (names, emails, etc).`),DE=async(n,e,t,i="auto")=>nu(n,t,i,`Act as a JSON Query Engine. Filter/Extract data from the JSON below based on this query: "${e}".
        Rules:
        1. Output ONLY the resulting JSON data.
        2. If the query asks for a count, return {"count": N}.
        3. If the query asks for specific fields, return an array of objects with only those fields.
        4. Maintain original structure if just filtering.`),BE=async(n,e,t,i="auto")=>{const l=Og(n);return nu(l,t,i,`Convert the following JSON to ${e}.
        Rules:
        1. Output ONLY the converted code (e.g. valid CSV, YAML, XML).
        2. Do NOT wrap in markdown fences if possible, just the raw text.
        3. Ensure syntax is correct for ${e}.`)},nu=async(n,e,t,i)=>{let l=t;(!l||l==="auto")&&(l=await g2(e));const s=l.startsWith("models/")?l:`models/${l}`,o=`${i}

JSON:
${n}`;try{const c=await fetch(`https://generativelanguage.googleapis.com/v1beta/${s}:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!c.ok){const p=await c.json();throw c.status===429?new Error("Rate limit exceeded. Please wait a moment."):new Error(p.error?.message||"Failed to contact Gemini")}const d=(await c.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!d)throw new Error("No response from AI");return d.replace(/```typescript\n?|```json\n?|```/g,"").trim()}catch(c){throw console.error("AI Error:",c),c}},g2=async n=>{try{const e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${n}`);if(!e.ok)return console.warn("Failed to list models, defaulting to 1.5-flash-001"),"gemini-1.5-flash-001";const l=((await e.json()).models||[]).filter(c=>c.supportedGenerationMethods?.includes("generateContent")),s=(c,f)=>c.name.includes(f),o=l.find(c=>s(c,"gemini-1.5-flash"))||l.find(c=>s(c,"gemini-1.5-pro"))||l.find(c=>s(c,"gemini-1.0-pro"))||l.find(c=>s(c,"gemini-pro"))||l[0];if(!o)throw new Error("No compatible Gemini models found for this key.");return o.name}catch(e){return console.error("Error fetching models:",e),"gemini-1.5-flash-001"}},zE=async n=>{try{const e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${n}`);return e.ok?((await e.json()).models||[]).filter(i=>i.supportedGenerationMethods?.includes("generateContent")):[]}catch(e){return console.error("Error fetching models:",e),[]}};function Qf(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}function RE(n,e){let t;const i=()=>{if(t)return t;const l=indexedDB.open(n);return l.onupgradeneeded=()=>l.result.createObjectStore(e),t=Qf(l),t.then(s=>{s.onclose=()=>t=void 0},()=>{}),t};return(l,s)=>i().then(o=>s(o.transaction(e,l).objectStore(e)))}let Ap;function _g(){return Ap||(Ap=RE("keyval-store","keyval")),Ap}function LE(n,e=_g()){return e("readonly",t=>Qf(t.get(n)))}function jE(n,e,t=_g()){return t("readwrite",i=>(i.put(e,n),Qf(i.transaction)))}function HE(n,e=_g()){return e("readwrite",t=>(t.delete(n),Qf(t.transaction)))}const UE={getItem:async n=>await LE(n)||null,setItem:async(n,e)=>{await jE(n,e)},removeItem:async n=>{await HE(n)}},Rt=KT()(WT((n,e)=>({rawText:"",parsedData:null,error:null,isValid:!0,theme:"dark",apiKey:"",preferredModel:"auto",isAiModalOpen:!1,isInfoModalOpen:!1,isFeedbackModalOpen:!1,isPromptModalOpen:!1,promptAction:null,viewMode:"split",splitRatio:50,processingStatus:null,setProcessingStatus:t=>n({processingStatus:t}),isDiffView:!1,diffLeft:"",diffRight:"",setDiffView:t=>{n(i=>t?{isDiffView:!0,diffLeft:i.rawText,diffRight:""}:{isDiffView:!1})},setDiffLeft:t=>n({diffLeft:t}),setDiffRight:t=>n({diffRight:t}),isGeneratingSchema:!1,isGeneratingExplanation:!1,isFixing:!1,generatedContent:null,setGeneratedContent:t=>n({generatedContent:t}),setTheme:t=>{n({theme:t}),document.documentElement.setAttribute("data-theme",t)},setViewMode:t=>n({viewMode:t}),setSplitRatio:t=>n({splitRatio:t}),setApiKey:t=>n({apiKey:t}),setPreferredModel:t=>n({preferredModel:t}),isFileLoading:!1,setIsFileLoading:t=>n({isFileLoading:t}),setAiModalOpen:t=>n({isAiModalOpen:t}),setInfoModalOpen:t=>n({isInfoModalOpen:t}),setFeedbackModalOpen:t=>n({isFeedbackModalOpen:t}),setPromptModalOpen:(t,i=null)=>n({isPromptModalOpen:t,promptAction:i}),executeAiPrompt:async t=>{const{apiKey:i,rawText:l,preferredModel:s,promptAction:o}=e();if(!i){n({isPromptModalOpen:!1,isAiModalOpen:!0}),Fe.error("Please configure your API Key first");return}if(!o)return;n({isPromptModalOpen:!1,processingStatus:{generate:"generate",query:"query",convert:"convert"}[o]||null});try{let f="",d="",p="code",m="Apply Fix";o==="generate"?(f=await NE(t,i,s),d="Generated Data",p="fix-preview",m="Use Data"):o==="query"?(f=await DE(l,t,i,s),d="Query Result",p="code"):o==="convert"&&(f=await BE(l,t,i,s),d=`${t.replace(/convert to/i,"").trim()} Conversion`,p="code"),n({generatedContent:{title:d,content:f,type:p,actionLabel:m,prompt:t}}),Fe.success("Action completed")}catch(f){const d=f instanceof Error?f.message:"AI Action Failed";Fe.error(d)}finally{n({processingStatus:null})}},fixJsonWithAI:async t=>{const{apiKey:i,rawText:l,preferredModel:s}=e(),o=t||l;if(!i){n({isAiModalOpen:!0}),Fe.error("Please configure your API Key first");return}n({isFixing:!0,processingStatus:"fixing"});try{const{fixed:c,explanation:f}=await EE(o,i,s),{error:d}=Tb(c),p=!d;n({generatedContent:{title:p?"Review Fix":"Partial Fix (More Errors Detected)",content:c,type:"fix-preview",explanation:p?f:`${f}. Click 'Fix Next' to continue.`,isPartial:!p}}),p?Fe.success("Fix ready for review"):Fe.warning("Fixed one error, but more remain")}catch(c){const f=c instanceof Error?c.message:"Failed to fix JSON";Fe.error(f)}finally{n({isFixing:!1,processingStatus:null})}},generateSchemaWithAI:async()=>{const{apiKey:t,rawText:i,preferredModel:l}=e();if(!t){n({isAiModalOpen:!0}),Fe.error("Please configure your API Key first");return}n({isGeneratingSchema:!0,processingStatus:"schema"});try{const s=await OE(i,t,l);n({generatedContent:{title:"TypeScript Schema",content:s,type:"code"}}),Fe.success("Schema generated")}catch(s){const o=s instanceof Error?s.message:"Failed to generate schema";Fe.error(o)}finally{n({isGeneratingSchema:!1,processingStatus:null})}},explainJsonWithAI:async()=>{const{apiKey:t,rawText:i,preferredModel:l}=e();if(!t){n({isAiModalOpen:!0}),Fe.error("Please configure your API Key first");return}n({isGeneratingExplanation:!0,processingStatus:"explain"});try{const s=await _E(i,t,l);n({generatedContent:{title:"Explanation",content:s,type:"markdown"}}),Fe.success("Explanation generated")}catch(s){const o=s instanceof Error?s.message:"Failed to explain JSON";Fe.error(o)}finally{n({isGeneratingExplanation:!1,processingStatus:null})}},setText:t=>{const{data:i,error:l}=Tb(t);n({rawText:t,parsedData:i,error:l?l.message:null,isValid:!l})},format:()=>{const{rawText:t}=e(),i=ME(t);e().setText(i)},minify:()=>{const{rawText:t}=e(),i=TE(t);e().setText(i)},clear:()=>{e().setText("")}}),{name:"json-studio-storage",storage:m2(()=>UE),partialize:n=>({theme:n.theme,apiKey:n.apiKey,preferredModel:n.preferredModel,rawText:n.rawText,viewMode:n.viewMode,splitRatio:n.splitRatio,isDiffView:n.isDiffView,diffLeft:n.diffLeft,diffRight:n.diffRight}),onRehydrateStorage:()=>n=>{n?.theme&&document.documentElement.setAttribute("data-theme",n.theme),n?.rawText&&n.setText(n.rawText)}}));let ym=[],y2=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?y2:ym).push(t=t+n[e])})();function IE(n){if(n<768)return!1;for(let e=0,t=ym.length;;){let i=e+t>>1;if(n<ym[i])t=i;else if(n>=y2[i])e=i+1;else return!0;if(e==t)return!1}}function Ob(n){return n>=127462&&n<=127487}const _b=8205;function VE(n,e,t=!0,i=!0){return(t?x2:qE)(n,e,i)}function x2(n,e,t){if(e==n.length)return e;e&&b2(n.charCodeAt(e))&&v2(n.charCodeAt(e-1))&&e--;let i=Mp(n,e);for(e+=Nb(i);e<n.length;){let l=Mp(n,e);if(i==_b||l==_b||t&&IE(l))e+=Nb(l),i=l;else if(Ob(l)){let s=0,o=e-2;for(;o>=0&&Ob(Mp(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function qE(n,e,t){for(;e>0;){let i=x2(n,e-2,t);if(i<e)return i;e--}return 0}function Mp(n,e){let t=n.charCodeAt(e);if(!v2(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return b2(i)?(t-55296<<10)+(i-56320)+65536:t}function b2(n){return n>=56320&&n<57344}function v2(n){return n>=55296&&n<56320}function Nb(n){return n<65536?1:2}class Je{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=ua(this,e,t);let l=[];return this.decompose(0,e,l,2),i.length&&i.decompose(0,i.length,l,3),this.decompose(t,this.length,l,1),Ki.from(l,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ua(this,e,t);let i=[];return this.decompose(e,t,i,0),Ki.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),l=new No(this),s=new No(e);for(let o=t,c=t;;){if(l.next(o),s.next(o),o=0,l.lineBreak!=s.lineBreak||l.done!=s.done||l.value!=s.value)return!1;if(c+=l.value.length,l.done||c>=i)return!0}}iter(e=1){return new No(this,e)}iterRange(e,t=this.length){return new S2(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let l=this.line(e).from;i=this.iterRange(l,Math.max(l,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new k2(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Je.empty:e.length<=32?new Mt(e):Ki.from(Mt.split(e,[]))}}class Mt extends Je{constructor(e,t=PE(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,l){for(let s=0;;s++){let o=this.text[s],c=l+o.length;if((t?i:c)>=e)return new FE(l,c,i,o);l=c+1,i++}}decompose(e,t,i,l){let s=e<=0&&t>=this.length?this:new Mt(Db(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(l&1){let o=i.pop(),c=tf(s.text,o.text.slice(),0,s.length);if(c.length<=32)i.push(new Mt(c,o.length+s.length));else{let f=c.length>>1;i.push(new Mt(c.slice(0,f)),new Mt(c.slice(f)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Mt))return super.replace(e,t,i);[e,t]=ua(this,e,t);let l=tf(this.text,tf(i.text,Db(this.text,0,e)),t),s=this.length+i.length-(t-e);return l.length<=32?new Mt(l,s):Ki.from(Mt.split(l,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=ua(this,e,t);let l="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let c=this.text[o],f=s+c.length;s>e&&o&&(l+=i),e<f&&t>s&&(l+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return l}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],l=-1;for(let s of e)i.push(s),l+=s.length+1,i.length==32&&(t.push(new Mt(i,l)),i=[],l=-1);return l>-1&&t.push(new Mt(i,l)),t}}class Ki extends Je{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,l){for(let s=0;;s++){let o=this.children[s],c=l+o.length,f=i+o.lines-1;if((t?f:c)>=e)return o.lineInner(e,t,i,l);l=c+1,i=f+1}}decompose(e,t,i,l){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let c=this.children[s],f=o+c.length;if(e<=f&&t>=o){let d=l&((o<=e?1:0)|(f>=t?2:0));o>=e&&f<=t&&!d?i.push(c):c.decompose(e-o,t-o,i,d)}o=f+1}}replace(e,t,i){if([e,t]=ua(this,e,t),i.lines<this.lines)for(let l=0,s=0;l<this.children.length;l++){let o=this.children[l],c=s+o.length;if(e>=s&&t<=c){let f=o.replace(e-s,t-s,i),d=this.lines-o.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let p=this.children.slice();return p[l]=f,new Ki(p,this.length-(t-e)+i.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=ua(this,e,t);let l="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let c=this.children[s],f=o+c.length;o>e&&s&&(l+=i),e<f&&t>o&&(l+=c.sliceString(e-o,t-o,i)),o=f+1}return l}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ki))return 0;let i=0,[l,s,o,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;l+=t,s+=t){if(l==o||s==c)return i;let f=this.children[l],d=e.children[s];if(f!=d)return i+f.scanIdentical(d,t);i+=f.length+1}}static from(e,t=e.reduce((i,l)=>i+l.length+1,-1)){let i=0;for(let b of e)i+=b.lines;if(i<32){let b=[];for(let k of e)k.flatten(b);return new Mt(b,t)}let l=Math.max(32,i>>5),s=l<<1,o=l>>1,c=[],f=0,d=-1,p=[];function m(b){let k;if(b.lines>s&&b instanceof Ki)for(let w of b.children)m(w);else b.lines>o&&(f>o||!f)?(x(),c.push(b)):b instanceof Mt&&f&&(k=p[p.length-1])instanceof Mt&&b.lines+k.lines<=32?(f+=b.lines,d+=b.length+1,p[p.length-1]=new Mt(k.text.concat(b.text),k.length+1+b.length)):(f+b.lines>l&&x(),f+=b.lines,d+=b.length+1,p.push(b))}function x(){f!=0&&(c.push(p.length==1?p[0]:Ki.from(p,d)),d=-1,f=p.length=0)}for(let b of e)m(b);return x(),c.length==1?c[0]:new Ki(c,t)}}Je.empty=new Mt([""],0);function PE(n){let e=-1;for(let t of n)e+=t.length+1;return e}function tf(n,e,t=0,i=1e9){for(let l=0,s=0,o=!0;s<n.length&&l<=i;s++){let c=n[s],f=l+c.length;f>=t&&(f>i&&(c=c.slice(0,i-l)),l<t&&(c=c.slice(t-l)),o?(e[e.length-1]+=c,o=!1):e.push(c)),l=f+1}return e}function Db(n,e,t){return tf(n,[""],e,t)}class No{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Mt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,l=this.nodes[i],s=this.offsets[i],o=s>>1,c=l instanceof Mt?l.text.length:l.children.length;if(o==(t>0?c:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(l instanceof Mt){let f=l.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=l.children[o+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof Mt?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class S2{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new No(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:l}=this.cursor.next(e);return this.pos+=(l.length+e)*t,this.value=l.length<=i?l:t<0?l.slice(l.length-i):l.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class k2{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:l}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=l,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Je.prototype[Symbol.iterator]=function(){return this.iter()},No.prototype[Symbol.iterator]=S2.prototype[Symbol.iterator]=k2.prototype[Symbol.iterator]=function(){return this});class FE{constructor(e,t,i,l){this.from=e,this.to=t,this.number=i,this.text=l}get length(){return this.to-this.from}}function ua(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function It(n,e,t=!0,i=!0){return VE(n,e,t,i)}function GE(n){return n>=56320&&n<57344}function YE(n){return n>=55296&&n<56320}function ml(n,e){let t=n.charCodeAt(e);if(!YE(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return GE(i)?(t-55296<<10)+(i-56320)+65536:t}function w2(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function iu(n){return n<65536?1:2}const xm=/\r\n?|\n/;var Hn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(Hn||(Hn={}));class tr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,l=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,l,s),l+=s):l+=o,i+=s}}iterChangedRanges(e,t=!1){bm(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],l=this.sections[t++];l<0?e.push(i,l):e.push(l,i)}return new tr(e)}composeDesc(e){return this.empty?e:e.empty?this:C2(this,e)}mapDesc(e,t=!1){return e.empty?this:vm(this,e,t)}mapPos(e,t=-1,i=Hn.Simple){let l=0,s=0;for(let o=0;o<this.sections.length;){let c=this.sections[o++],f=this.sections[o++],d=l+c;if(f<0){if(d>e)return s+(e-l);s+=c}else{if(i!=Hn.Simple&&d>=e&&(i==Hn.TrackDel&&l<e&&d>e||i==Hn.TrackBefore&&l<e||i==Hn.TrackAfter&&d>e))return null;if(d>e||d==e&&t<0&&!c)return e==l||t<0?s:s+f;s+=f}l=d}if(e>l)throw new RangeError(`Position ${e} is out of range for changeset of length ${l}`);return s}touchesRange(e,t=e){for(let i=0,l=0;i<this.sections.length&&l<=t;){let s=this.sections[i++],o=this.sections[i++],c=l+s;if(o>=0&&l<=t&&c>=e)return l<e&&c>t?"cover":!0;l=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],l=this.sections[t++];e+=(e?" ":"")+i+(l>=0?":"+l:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new tr(e)}static create(e){return new tr(e)}}class Bt extends tr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return bm(this,(t,i,l,s,o)=>e=e.replace(l,l+(i-t),o),!1),e}mapDesc(e,t=!1){return vm(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let l=0,s=0;l<t.length;l+=2){let o=t[l],c=t[l+1];if(c>=0){t[l]=c,t[l+1]=o;let f=l>>1;for(;i.length<f;)i.push(Je.empty);i.push(o?e.slice(s,s+o):Je.empty)}s+=o}return new Bt(t,i)}compose(e){return this.empty?e:e.empty?this:C2(this,e,!0)}map(e,t=!1){return e.empty?this:vm(this,e,t,!0)}iterChanges(e,t=!1){bm(this,e,t)}get desc(){return tr.create(this.sections)}filter(e){let t=[],i=[],l=[],s=new Io(this);e:for(let o=0,c=0;;){let f=o==e.length?1e9:e[o++];for(;c<f||c==f&&s.len==0;){if(s.done)break e;let p=Math.min(s.len,f-c);yn(l,p,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;yn(t,p,m),m>0&&sl(i,t,s.text),s.forward(p),c+=p}let d=e[o++];for(;c<d;){if(s.done)break e;let p=Math.min(s.len,d-c);yn(t,p,-1),yn(l,p,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(p),c+=p}}return{changes:new Bt(t,i),filtered:tr.create(l)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],l=this.sections[t+1];l<0?e.push(i):l==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let l=[],s=[],o=0,c=null;function f(p=!1){if(!p&&!l.length)return;o<t&&yn(l,t-o,-1);let m=new Bt(l,s);c=c?c.compose(m.map(c)):m,l=[],s=[],o=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof Bt){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);f(),c=c?c.compose(p.map(c)):p}else{let{from:m,to:x=m,insert:b}=p;if(m>x||m<0||x>t)throw new RangeError(`Invalid change range ${m} to ${x} (in doc of length ${t})`);let k=b?typeof b=="string"?Je.of(b.split(i||xm)):b:Je.empty,w=k.length;if(m==x&&w==0)return;m<o&&f(),m>o&&yn(l,m-o,-1),yn(l,x-m,w),sl(s,l,k),o=x}}return d(e),f(!c),c}static empty(e){return new Bt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let l=0;l<e.length;l++){let s=e[l];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,c)=>c&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<l;)i.push(Je.empty);i[l]=Je.of(s.slice(1)),t.push(s[0],i[l].length)}}}return new Bt(t,i)}static createSet(e,t){return new Bt(e,t)}}function yn(n,e,t,i=!1){if(e==0&&t<=0)return;let l=n.length-2;l>=0&&t<=0&&t==n[l+1]?n[l]+=e:l>=0&&e==0&&n[l]==0?n[l+1]+=t:i?(n[l]+=e,n[l+1]+=t):n.push(e,t)}function sl(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Je.empty);n.push(t)}}function bm(n,e,t){let i=n.inserted;for(let l=0,s=0,o=0;o<n.sections.length;){let c=n.sections[o++],f=n.sections[o++];if(f<0)l+=c,s+=c;else{let d=l,p=s,m=Je.empty;for(;d+=c,p+=f,f&&i&&(m=m.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)c=n.sections[o++],f=n.sections[o++];e(l,d,s,p,m),l=d,s=p}}}function vm(n,e,t,i=!1){let l=[],s=i?[]:null,o=new Io(n),c=new Io(e);for(let f=-1;;){if(o.done&&c.len||c.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&c.ins==-1){let d=Math.min(o.len,c.len);yn(l,d,-1),o.forward(d),c.forward(d)}else if(c.ins>=0&&(o.ins<0||f==o.i||o.off==0&&(c.len<o.len||c.len==o.len&&!t))){let d=c.len;for(yn(l,c.ins,-1);d;){let p=Math.min(o.len,d);o.ins>=0&&f<o.i&&o.len<=p&&(yn(l,0,o.ins),s&&sl(s,l,o.text),f=o.i),o.forward(p),d-=p}c.next()}else if(o.ins>=0){let d=0,p=o.len;for(;p;)if(c.ins==-1){let m=Math.min(p,c.len);d+=m,p-=m,c.forward(m)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;yn(l,d,f<o.i?o.ins:0),s&&f<o.i&&sl(s,l,o.text),f=o.i,o.forward(o.len-p)}else{if(o.done&&c.done)return s?Bt.createSet(l,s):tr.create(l);throw new Error("Mismatched change set lengths")}}}function C2(n,e,t=!1){let i=[],l=t?[]:null,s=new Io(n),o=new Io(e);for(let c=!1;;){if(s.done&&o.done)return l?Bt.createSet(i,l):tr.create(i);if(s.ins==0)yn(i,s.len,0,c),s.next();else if(o.len==0&&!o.done)yn(i,0,o.ins,c),l&&sl(l,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,o.len),d=i.length;if(s.ins==-1){let p=o.ins==-1?-1:o.off?0:o.ins;yn(i,f,p,c),l&&p&&sl(l,i,o.text)}else o.ins==-1?(yn(i,s.off?0:s.len,f,c),l&&sl(l,i,s.textBit(f))):(yn(i,s.off?0:s.len,o.off?0:o.ins,c),l&&!o.off&&sl(l,i,o.text));c=(s.ins>f||o.ins>=0&&o.len>f)&&(c||i.length>d),s.forward2(f),o.forward(f)}}}}class Io{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Je.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Je.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Pl{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,l;return this.empty?i=l=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),l=e.mapPos(this.to,-1)),i==this.from&&l==this.to?this:new Pl(i,l,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ee.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ee.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ee.range(e.anchor,e.head)}static create(e,t,i){return new Pl(e,t,i)}}class ee{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ee.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ee([this.main],0)}addRange(e,t=!0){return ee.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,ee.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ee(e.ranges.map(t=>Pl.fromJSON(t)),e.main)}static single(e,t=e){return new ee([ee.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,l=0;l<e.length;l++){let s=e[l];if(s.empty?s.from<=i:s.from<i)return ee.normalized(e.slice(),t);i=s.to}return new ee(e,t)}static cursor(e,t=0,i,l){return Pl.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(l??16777215)<<6)}static range(e,t,i,l){let s=(i??16777215)<<6|(l==null?7:Math.min(6,l));return t<e?Pl.create(t,e,48|s):Pl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((l,s)=>l.from-s.from),t=e.indexOf(i);for(let l=1;l<e.length;l++){let s=e[l],o=e[l-1];if(s.empty?s.from<=o.to:s.from<o.to){let c=o.from,f=Math.max(s.to,o.to);l<=t&&t--,e.splice(--l,2,s.anchor>s.head?ee.range(f,c):ee.range(c,f))}}return new ee(e,t)}}function A2(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ng=0;class ye{constructor(e,t,i,l,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=l,this.id=Ng++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ye(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Dg),!!e.static,e.enables)}of(e){return new nf([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new nf(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new nf(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Dg(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class nf{constructor(e,t,i,l){this.dependencies=e,this.facet=t,this.type=i,this.value=l,this.id=Ng++}dynamicSlot(e){var t;let i=this.value,l=this.facet.compareInput,s=this.id,o=e[s]>>1,c=this.type==2,f=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?d=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[o]=i(m),1},update(m,x){if(f&&x.docChanged||d&&(x.docChanged||x.selection)||Sm(m,p)){let b=i(m);if(c?!Bb(b,m.values[o],l):!l(b,m.values[o]))return m.values[o]=b,1}return 0},reconfigure:(m,x)=>{let b,k=x.config.address[s];if(k!=null){let w=mf(x,k);if(this.dependencies.every(M=>M instanceof ye?x.facet(M)===m.facet(M):M instanceof fn?x.field(M,!1)==m.field(M,!1):!0)||(c?Bb(b=i(m),w,l):l(b=i(m),w)))return m.values[o]=w,0}else b=i(m);return m.values[o]=b,1}}}}function Bb(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Sm(n,e){let t=!1;for(let i of e)Do(n,i)&1&&(t=!0);return t}function QE(n,e,t){let i=t.map(f=>n[f.id]),l=t.map(f=>f.type),s=i.filter(f=>!(f&1)),o=n[e.id]>>1;function c(f){let d=[];for(let p=0;p<i.length;p++){let m=mf(f,i[p]);if(l[p]==2)for(let x of m)d.push(x);else d.push(m)}return e.combine(d)}return{create(f){for(let d of i)Do(f,d);return f.values[o]=c(f),1},update(f,d){if(!Sm(f,s))return 0;let p=c(f);return e.compare(p,f.values[o])?0:(f.values[o]=p,1)},reconfigure(f,d){let p=Sm(f,i),m=d.config.facets[e.id],x=d.facet(e);if(m&&!p&&Dg(t,m))return f.values[o]=x,0;let b=c(f);return e.compare(b,x)?(f.values[o]=x,0):(f.values[o]=b,1)}}}const Tc=ye.define({static:!0});class fn{constructor(e,t,i,l,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=l,this.spec=s,this.provides=void 0}static define(e){let t=new fn(Ng++,e.create,e.update,e.compare||((i,l)=>i===l),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Tc).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,l)=>{let s=i.values[t],o=this.updateF(s,l);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,l)=>{let s=i.facet(Tc),o=l.facet(Tc),c;return(c=s.find(f=>f.field==this))&&c!=o.find(f=>f.field==this)?(i.values[t]=c.create(i),1):l.config.address[this.id]!=null?(i.values[t]=l.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Tc.of({field:this,create:e})]}get extension(){return this}}const ql={lowest:4,low:3,default:2,high:1,highest:0};function po(n){return e=>new M2(e,n)}const Zl={highest:po(ql.highest),high:po(ql.high),default:po(ql.default),low:po(ql.low),lowest:po(ql.lowest)};class M2{constructor(e,t){this.inner=e,this.prec=t}}class es{of(e){return new km(this,e)}reconfigure(e){return es.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class km{constructor(e,t){this.compartment=e,this.inner=t}}class pf{constructor(e,t,i,l,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=l,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let l=[],s=Object.create(null),o=new Map;for(let x of KE(e,t,o))x instanceof fn?l.push(x):(s[x.facet.id]||(s[x.facet.id]=[])).push(x);let c=Object.create(null),f=[],d=[];for(let x of l)c[x.id]=d.length<<1,d.push(b=>x.slot(b));let p=i?.config.facets;for(let x in s){let b=s[x],k=b[0].facet,w=p&&p[x]||[];if(b.every(M=>M.type==0))if(c[k.id]=f.length<<1|1,Dg(w,b))f.push(i.facet(k));else{let M=k.combine(b.map(T=>T.value));f.push(i&&k.compare(M,i.facet(k))?i.facet(k):M)}else{for(let M of b)M.type==0?(c[M.id]=f.length<<1|1,f.push(M.value)):(c[M.id]=d.length<<1,d.push(T=>M.dynamicSlot(T)));c[k.id]=d.length<<1,d.push(M=>QE(M,k,b))}}let m=d.map(x=>x(c));return new pf(e,o,m,c,f,s)}}function KE(n,e,t){let i=[[],[],[],[],[]],l=new Map;function s(o,c){let f=l.get(o);if(f!=null){if(f<=c)return;let d=i[f].indexOf(o);d>-1&&i[f].splice(d,1),o instanceof km&&t.delete(o.compartment)}if(l.set(o,c),Array.isArray(o))for(let d of o)s(d,c);else if(o instanceof km){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(o.compartment)||o.inner;t.set(o.compartment,d),s(d,c)}else if(o instanceof M2)s(o.inner,o.prec);else if(o instanceof fn)i[c].push(o),o.provides&&s(o.provides,c);else if(o instanceof nf)i[c].push(o),o.facet.extensions&&s(o.facet.extensions,ql.default);else{let d=o.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(d,c)}}return s(n,ql.default),i.reduce((o,c)=>o.concat(c))}function Do(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let l=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|l}function mf(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const T2=ye.define(),wm=ye.define({combine:n=>n.some(e=>e),static:!0}),E2=ye.define({combine:n=>n.length?n[0]:void 0,static:!0}),O2=ye.define(),_2=ye.define(),N2=ye.define(),D2=ye.define({combine:n=>n.length?n[0]:!1});class gl{constructor(e,t){this.type=e,this.value=t}static define(){return new XE}}class XE{of(e){return new gl(this,e)}}class WE{constructor(e){this.map=e}of(e){return new Ge(this,e)}}class Ge{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ge(this.type,t)}is(e){return this.type==e}static define(e={}){return new WE(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let l of e){let s=l.map(t);s&&i.push(s)}return i}}Ge.reconfigure=Ge.define();Ge.appendConfig=Ge.define();class Vt{constructor(e,t,i,l,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=l,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&A2(i,t.newLength),s.some(c=>c.type==Vt.time)||(this.annotations=s.concat(Vt.time.of(Date.now())))}static create(e,t,i,l,s,o){return new Vt(e,t,i,l,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Vt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Vt.time=gl.define();Vt.userEvent=gl.define();Vt.addToHistory=gl.define();Vt.remote=gl.define();function $E(n,e){let t=[];for(let i=0,l=0;;){let s,o;if(i<n.length&&(l==e.length||e[l]>=n[i]))s=n[i++],o=n[i++];else if(l<e.length)s=e[l++],o=e[l++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function B2(n,e,t){var i;let l,s,o;return t?(l=e.changes,s=Bt.empty(e.changes.length),o=n.changes.compose(e.changes)):(l=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(l)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(l),effects:Ge.mapEffects(n.effects,l).concat(Ge.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Cm(n,e,t){let i=e.selection,l=ea(e.annotations);return e.userEvent&&(l=l.concat(Vt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Bt?e.changes:Bt.of(e.changes||[],t,n.facet(E2)),selection:i&&(i instanceof ee?i:ee.single(i.anchor,i.head)),effects:ea(e.effects),annotations:l,scrollIntoView:!!e.scrollIntoView}}function z2(n,e,t){let i=Cm(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=B2(i,Cm(n,e[s],o?i.changes.newLength:n.doc.length),o)}let l=Vt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return ZE(t?JE(l):l)}function JE(n){let e=n.startState,t=!0;for(let l of e.facet(O2)){let s=l(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:$E(t,s))}if(t!==!0){let l,s;if(t===!1)s=n.changes.invertedDesc,l=Bt.empty(e.doc.length);else{let o=n.changes.filter(t);l=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Vt.create(e,l,n.selection&&n.selection.map(s),Ge.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(_2);for(let l=i.length-1;l>=0;l--){let s=i[l](n);s instanceof Vt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Vt?n=s[0]:n=z2(e,ea(s),!1)}return n}function ZE(n){let e=n.startState,t=e.facet(N2),i=n;for(let l=t.length-1;l>=0;l--){let s=t[l](n);s&&Object.keys(s).length&&(i=B2(i,Cm(e,s,n.changes.newLength),!0))}return i==n?n:Vt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const eO=[];function ea(n){return n==null?eO:Array.isArray(n)?n:[n]}var Lt=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Lt||(Lt={}));const tO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Am;try{Am=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function nO(n){if(Am)return Am.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||tO.test(t)))return!0}return!1}function iO(n){return e=>{if(!/\S/.test(e))return Lt.Space;if(nO(e))return Lt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Lt.Word;return Lt.Other}}class Ie{constructor(e,t,i,l,s,o){this.config=e,this.doc=t,this.selection=i,this.values=l,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Do(this,c<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Do(this,i),mf(this,i)}update(...e){return z2(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:l}=t;for(let c of e.effects)c.is(es.reconfigure)?(t&&(l=new Map,t.compartments.forEach((f,d)=>l.set(d,f)),t=null),l.set(c.value.compartment,c.value.extension)):c.is(Ge.reconfigure)?(t=null,i=c.value):c.is(Ge.appendConfig)&&(t=null,i=ea(i).concat(c.value));let s;t?s=e.startState.values.slice():(t=pf.resolve(i,l,this),s=new Ie(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,d)=>d.reconfigure(f,this),null).values);let o=e.startState.facet(wm)?e.newSelection:e.newSelection.asSingle();new Ie(t,e.newDoc,o,s,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ee.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),l=this.changes(i.changes),s=[i.range],o=ea(i.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),d=this.changes(f.changes),p=d.map(l);for(let x=0;x<c;x++)s[x]=s[x].map(p);let m=l.mapDesc(d,!0);s.push(f.range.map(m)),l=l.compose(p),o=Ge.mapEffects(o,p).concat(Ge.mapEffects(ea(f.effects),m))}return{changes:l,selection:ee.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Bt?e:Bt.of(e,this.doc.length,this.facet(Ie.lineSeparator))}toText(e){return Je.of(e.split(this.facet(Ie.lineSeparator)||xm))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Do(this,t),mf(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let l=e[i];l instanceof fn&&this.config.address[l.id]!=null&&(t[i]=l.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let l=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],c=e[s];l.push(o.init(f=>o.spec.fromJSON(c,f)))}}return Ie.create({doc:e.doc,selection:ee.fromJSON(e.selection),extensions:t.extensions?l.concat([t.extensions]):l})}static create(e={}){let t=pf.resolve(e.extensions||[],new Map),i=e.doc instanceof Je?e.doc:Je.of((e.doc||"").split(t.staticFacet(Ie.lineSeparator)||xm)),l=e.selection?e.selection instanceof ee?e.selection:ee.single(e.selection.anchor,e.selection.head):ee.single(0);return A2(l,i.length),t.staticFacet(wm)||(l=l.asSingle()),new Ie(t,i,l,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ie.tabSize)}get lineBreak(){return this.facet(Ie.lineSeparator)||`
`}get readOnly(){return this.facet(D2)}phrase(e,...t){for(let i of this.facet(Ie.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,l)=>{if(l=="$")return"$";let s=+(l||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let l=[];for(let s of this.facet(T2))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&l.push(o[e]);return l}charCategorizer(e){return iO(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:l}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,c=e-i;for(;o>0;){let f=It(t,o,!1);if(s(t.slice(f,o))!=Lt.Word)break;o=f}for(;c<l;){let f=It(t,c);if(s(t.slice(c,f))!=Lt.Word)break;c=f}return o==c?null:ee.range(o+i,c+i)}}Ie.allowMultipleSelections=wm;Ie.tabSize=ye.define({combine:n=>n.length?n[0]:4});Ie.lineSeparator=E2;Ie.readOnly=D2;Ie.phrases=ye.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(l=>n[l]==e[l])}});Ie.languageData=T2;Ie.changeFilter=O2;Ie.transactionFilter=_2;Ie.transactionExtender=N2;es.reconfigure=Ge.define();function ts(n,e,t={}){let i={};for(let l of n)for(let s of Object.keys(l)){let o=l[s],c=i[s];if(c===void 0)i[s]=o;else if(!(c===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](c,o);else throw new Error("Config merge conflict for field "+s)}for(let l in e)i[l]===void 0&&(i[l]=e[l]);return i}class cl{eq(e){return this==e}range(e,t=e){return Mm.create(e,t,this)}}cl.prototype.startSide=cl.prototype.endSide=0;cl.prototype.point=!1;cl.prototype.mapMode=Hn.TrackDel;let Mm=class R2{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new R2(e,t,i)}};function Tm(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}let rO=class L2{constructor(e,t,i,l){this.from=e,this.to=t,this.value=i,this.maxPoint=l}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,l=0){let s=i?this.to:this.from;for(let o=l,c=s.length;;){if(o==c)return o;let f=o+c>>1,d=s[f]-e||(i?this.value[f].endSide:this.value[f].startSide)-t;if(f==o)return d>=0?o:c;d>=0?c=f:o=f+1}}between(e,t,i,l){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(l(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],l=[],s=[],o=-1,c=-1;for(let f=0;f<this.value.length;f++){let d=this.value[f],p=this.from[f]+e,m=this.to[f]+e,x,b;if(p==m){let k=t.mapPos(p,d.startSide,d.mapMode);if(k==null||(x=b=k,d.startSide!=d.endSide&&(b=t.mapPos(p,d.endSide),b<x)))continue}else if(x=t.mapPos(p,d.startSide),b=t.mapPos(m,d.endSide),x>b||x==b&&d.startSide>0&&d.endSide<=0)continue;(b-x||d.endSide-d.startSide)<0||(o<0&&(o=x),d.point&&(c=Math.max(c,b-x)),i.push(d),l.push(x-o),s.push(b-o))}return{mapped:i.length?new L2(l,s,i,c):null,pos:o}}};class Ve{constructor(e,t,i,l){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=l}static create(e,t,i,l){return new Ve(e,t,i,l)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:l=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Tm)),this.isEmpty)return t.length?Ve.of(t):this;let c=new j2(this,null,-1).goto(0),f=0,d=[],p=new ii;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let m=t[f++];p.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!o||l>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!o||l>c.to||s<c.from||o(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(Mm.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?Ve.empty:this.nextLayer.update({add:d,filter:o,filterFrom:l,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],l=-1;for(let o=0;o<this.chunk.length;o++){let c=this.chunkPos[o],f=this.chunk[o],d=e.touchesRange(c,c+f.length);if(d===!1)l=Math.max(l,f.maxPoint),t.push(f),i.push(e.mapPos(c));else if(d===!0){let{mapped:p,pos:m}=f.map(c,e);p&&(l=Math.max(l,p.maxPoint),t.push(p),i.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ve(i,t,s||Ve.empty,l)}between(e,t,i){if(!this.isEmpty){for(let l=0;l<this.chunk.length;l++){let s=this.chunkPos[l],o=this.chunk[l];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Vo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Vo.from(e).goto(t)}static compare(e,t,i,l,s=-1){let o=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),f=zb(o,c,i),d=new mo(o,f,s),p=new mo(c,f,s);i.iterGaps((m,x,b)=>Rb(d,m,p,x,b,l)),i.empty&&i.length==0&&Rb(d,0,p,0,0,l)}static eq(e,t,i=0,l){l==null&&(l=999999999);let s=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),o=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let c=zb(s,o),f=new mo(s,c,0).goto(i),d=new mo(o,c,0).goto(i);for(;;){if(f.to!=d.to||!Em(f.active,d.active)||f.point&&(!d.point||!f.point.eq(d.point)))return!1;if(f.to>l)return!0;f.next(),d.next()}}static spans(e,t,i,l,s=-1){let o=new mo(e,null,s).goto(t),c=t,f=o.openStart;for(;;){let d=Math.min(o.to,i);if(o.point){let p=o.activeForPoint(o.to),m=o.pointFrom<t?p.length+1:o.point.startSide<0?p.length:Math.min(p.length,f);l.point(c,d,o.point,p,m,o.pointRank),f=Math.min(o.openEnd(d),p.length)}else d>c&&(l.span(c,d,o.active,f),f=o.openEnd(d));if(o.to>i)return f+(o.point&&o.to>i?1:0);c=o.to,o.next()}}static of(e,t=!1){let i=new ii;for(let l of e instanceof Mm?[e]:t?lO(e):e)i.add(l.from,l.to,l.value);return i.finish()}static join(e){if(!e.length)return Ve.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let l=e[i];l!=Ve.empty;l=l.nextLayer)t=new Ve(l.chunkPos,l.chunk,t,Math.max(l.maxPoint,t.maxPoint));return t}}Ve.empty=new Ve([],[],null,-1);function lO(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Tm(e,i)>0)return n.slice().sort(Tm);e=i}return n}Ve.empty.nextLayer=Ve.empty;class ii{finishChunk(e){this.chunks.push(new rO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new ii)).add(e,t,i)}addInner(e,t,i){let l=e-this.lastTo||i.startSide-this.last.endSide;if(l<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return l<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ve.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ve.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function zb(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let l=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let c=i.get(s.chunk[o]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[o]&&!t?.touchesRange(c,c+s.chunk[o].length)&&l.add(s.chunk[o])}return l}class j2{constructor(e,t,i,l=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=l}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let l=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(l)||this.layer.chunkEnd(this.chunkIndex)<e||l.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let l=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<l)&&this.setRangeIndex(l)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Vo{constructor(e){this.heap=e}static from(e,t=null,i=-1){let l=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&l.push(new j2(o,t,i,s));return l.length==1?l[0]:new Vo(l)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Tp(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Tp(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Tp(this.heap,0)}}}function Tp(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let l=n[i];if(i+1<n.length&&l.compare(n[i+1])>=0&&(l=n[i+1],i++),t.compare(l)<0)break;n[i]=t,n[e]=l,e=i}}class mo{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Vo.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ec(this.active,e),Ec(this.activeTo,e),Ec(this.activeRank,e),this.minActive=Lb(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:l,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||l-this.activeTo[t])>0;)t++;Oc(this.active,t,i),Oc(this.activeTo,t,l),Oc(this.activeRank,t,s),e&&Oc(e,t,this.cursor.from),this.minActive=Lb(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let l=this.minActive;if(l>-1&&(this.activeTo[l]-this.cursor.from||this.active[l].endSide-this.cursor.startSide)<0){if(this.activeTo[l]>e){this.to=this.activeTo[l],this.endSide=this.active[l].endSide;break}this.removeActive(l),i&&Ec(i,l)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let l=i.length-1;l>=0&&i[l]<e;l--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Rb(n,e,t,i,l,s){n.goto(e),t.goto(i);let o=i+l,c=i,f=i-e;for(;;){let d=n.to+f-t.to,p=d||n.endSide-t.endSide,m=p<0?n.to+f:t.to,x=Math.min(m,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Em(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(c,x,n.point,t.point):x>c&&!Em(n.active,t.active)&&s.compareRange(c,x,n.active,t.active),m>o)break;(d||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,p<=0&&n.next(),p>=0&&t.next()}}function Em(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Ec(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Oc(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Lb(n,e){let t=-1,i=1e9;for(let l=0;l<e.length;l++)(e[l]-i||n[l].endSide-n[t].endSide)<0&&(t=l,i=e[l]);return t}function ya(n,e,t=n.length){let i=0;for(let l=0;l<t&&l<n.length;)n.charCodeAt(l)==9?(i+=e-i%e,l++):(i++,l=It(n,l));return i}function Om(n,e,t,i){for(let l=0,s=0;;){if(s>=e)return l;if(l==n.length)break;s+=n.charCodeAt(l)==9?t-s%t:1,l=It(n,l)}return i===!0?-1:n.length}const _m="",jb=typeof Symbol>"u"?"__"+_m:Symbol.for(_m),Nm=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Tr{constructor(e,t){this.rules=[];let{finish:i}=t||{};function l(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,c,f,d){let p=[],m=/^@(\w+)\b/.exec(o[0]),x=m&&m[1]=="keyframes";if(m&&c==null)return f.push(o[0]+";");for(let b in c){let k=c[b];if(/&/.test(b))s(b.split(/,\s*/).map(w=>o.map(M=>w.replace(/&/,M))).reduce((w,M)=>w.concat(M)),k,f);else if(k&&typeof k=="object"){if(!m)throw new RangeError("The value of a property ("+b+") should be a primitive value.");s(l(b),k,p,x)}else k!=null&&p.push(b.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+k+";")}(p.length||x)&&f.push((i&&!m&&!d?o.map(i):o).join(", ")+" {"+p.join(" ")+"}")}for(let o in e)s(l(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Hb[jb]||1;return Hb[jb]=e+1,_m+e.toString(36)}static mount(e,t,i){let l=e[Nm],s=i&&i.nonce;l?s&&l.setNonce(s):l=new sO(e,s),l.mount(Array.isArray(t)?t:[t],e)}}let Ub=new Map;class sO{constructor(e,t){let i=e.ownerDocument||e,l=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&l.CSSStyleSheet){let s=Ub.get(i);if(s)return e[Nm]=s;this.sheet=new l.CSSStyleSheet,Ub.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Nm]=this}mount(e,t){let i=this.sheet,l=0,s=0;for(let o=0;o<e.length;o++){let c=e[o],f=this.modules.indexOf(c);if(f<s&&f>-1&&(this.modules.splice(f,1),s--,f=-1),f==-1){if(this.modules.splice(s++,0,c),i)for(let d=0;d<c.rules.length;d++)i.insertRule(c.rules[d],l++)}else{for(;s<f;)l+=this.modules[s++].rules.length;l+=c.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let f=0;f<this.modules.length;f++)o+=this.modules[f].getRules()+`
`;this.styleTag.textContent=o;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var fl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},aO=typeof navigator<"u"&&/Mac/.test(navigator.platform),oO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var on=0;on<10;on++)fl[48+on]=fl[96+on]=String(on);for(var on=1;on<=24;on++)fl[on+111]="F"+on;for(var on=65;on<=90;on++)fl[on]=String.fromCharCode(on+32),qo[on]=String.fromCharCode(on);for(var Ep in fl)qo.hasOwnProperty(Ep)||(qo[Ep]=fl[Ep]);function uO(n){var e=aO&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||oO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?qo:fl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function sn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var l=t[i];typeof l=="string"?n.setAttribute(i,l):l!=null&&(n[i]=l)}e++}for(;e<arguments.length;e++)H2(n,arguments[e]);return n}function H2(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)H2(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let kn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Dm=typeof document<"u"?document:{documentElement:{style:{}}};const Bm=/Edge\/(\d+)/.exec(kn.userAgent),U2=/MSIE \d/.test(kn.userAgent),zm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kn.userAgent),Kf=!!(U2||zm||Bm),Ib=!Kf&&/gecko\/(\d+)/i.test(kn.userAgent),Op=!Kf&&/Chrome\/(\d+)/.exec(kn.userAgent),cO="webkitFontSmoothing"in Dm.documentElement.style,Rm=!Kf&&/Apple Computer/.test(kn.vendor),Vb=Rm&&(/Mobile\/\w+/.test(kn.userAgent)||kn.maxTouchPoints>2);var ge={mac:Vb||/Mac/.test(kn.platform),windows:/Win/.test(kn.platform),linux:/Linux|X11/.test(kn.platform),ie:Kf,ie_version:U2?Dm.documentMode||6:zm?+zm[1]:Bm?+Bm[1]:0,gecko:Ib,gecko_version:Ib?+(/Firefox\/(\d+)/.exec(kn.userAgent)||[0,0])[1]:0,chrome:!!Op,chrome_version:Op?+Op[1]:0,ios:Vb,android:/Android\b/.test(kn.userAgent),webkit_version:cO?+(/\bAppleWebKit\/(\d+)/.exec(kn.userAgent)||[0,0])[1]:0,safari:Rm,safari_version:Rm?+(/\bVersion\/(\d+(\.\d+)?)/.exec(kn.userAgent)||[0,0])[1]:0,tabSize:Dm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Bg(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const gf=Object.create(null);function zg(n,e,t){if(n==e)return!0;n||(n=gf),e||(e=gf);let i=Object.keys(n),l=Object.keys(e);if(i.length-0!=l.length-0)return!1;for(let s of i)if(s!=t&&(l.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function fO(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function qb(n,e,t){let i=!1;if(e)for(let l in e)t&&l in t||(i=!0,l=="style"?n.style.cssText="":n.removeAttribute(l));if(t)for(let l in t)e&&e[l]==t[l]||(i=!0,l=="style"?n.style.cssText=t[l]:n.setAttribute(l,t[l]));return i}function hO(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class rr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var un=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(un||(un={}));class _e extends cl{constructor(e,t,i,l){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=l}get heightRelevant(){return!1}static mark(e){return new ru(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Kl(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,l;if(e.isBlockGap)i=-5e8,l=4e8;else{let{start:s,end:o}=I2(e,t);i=(s?t?-3e8:-1:5e8)-1,l=(o?t?2e8:1:-6e8)+1}return new Kl(e,i,l,t,e.widget||null,!0)}static line(e){return new lu(e)}static set(e,t=!1){return Ve.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}_e.none=Ve.empty;class ru extends _e{constructor(e){let{start:t,end:i}=I2(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?Bg(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||gf}eq(e){return this==e||e instanceof ru&&this.tagName==e.tagName&&zg(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ru.prototype.point=!1;class lu extends _e{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof lu&&this.spec.class==e.spec.class&&zg(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}lu.prototype.mapMode=Hn.TrackBefore;lu.prototype.point=!0;class Kl extends _e{constructor(e,t,i,l,s,o){super(t,i,s,e),this.block=l,this.isReplace=o,this.mapMode=l?t<=0?Hn.TrackBefore:Hn.TrackAfter:Hn.TrackDel}get type(){return this.startSide!=this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Kl&&dO(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Kl.prototype.point=!0;function I2(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function dO(n,e){return n==e||!!(n&&e&&n.compare(e))}function ta(n,e,t,i=0){let l=t.length-1;l>=0&&t[l]+i>=n?t[l]=Math.max(t[l],e):t.push(n,e)}class Po extends cl{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Po&&this.tagName==e.tagName&&zg(this.attributes,e.attributes)}static create(e){return new Po(e.tagName,e.attributes||gf)}static set(e,t=!1){return Ve.of(e,t)}}Po.prototype.startSide=Po.prototype.endSide=-1;function Fo(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Lm(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function rf(n,e){if(!e.anchorNode)return!1;try{return Lm(n,e.anchorNode)}catch{return!1}}function lf(n){return n.nodeType==3?Go(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Bo(n,e,t,i){return t?Pb(n,e,t,i,-1)||Pb(n,e,t,i,1):!1}function hl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function yf(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Pb(n,e,t,i,l){for(;;){if(n==t&&e==i)return!0;if(e==(l<0?0:Er(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=hl(n)+(l<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(l<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=l<0?Er(n):0}else return!1}}function Er(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function xf(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function pO(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function V2(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function mO(n,e,t,i,l,s,o,c){let f=n.ownerDocument,d=f.defaultView||window;for(let p=n,m=!1;p&&!m;)if(p.nodeType==1){let x,b=p==f.body,k=1,w=1;if(b)x=pO(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let L=p.getBoundingClientRect();({scaleX:k,scaleY:w}=V2(p,L)),x={left:L.left,right:L.left+p.clientWidth*k,top:L.top,bottom:L.top+p.clientHeight*w}}let M=0,T=0;if(l=="nearest")e.top<x.top?(T=e.top-(x.top+o),t>0&&e.bottom>x.bottom+T&&(T=e.bottom-x.bottom+o)):e.bottom>x.bottom&&(T=e.bottom-x.bottom+o,t<0&&e.top-T<x.top&&(T=e.top-(x.top+o)));else{let L=e.bottom-e.top,R=x.bottom-x.top;T=(l=="center"&&L<=R?e.top+L/2-R/2:l=="start"||l=="center"&&t<0?e.top-o:e.bottom-R+o)-x.top}if(i=="nearest"?e.left<x.left?(M=e.left-(x.left+s),t>0&&e.right>x.right+M&&(M=e.right-x.right+s)):e.right>x.right&&(M=e.right-x.right+s,t<0&&e.left<x.left+M&&(M=e.left-(x.left+s))):M=(i=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:i=="start"==c?e.left-s:e.right-(x.right-x.left)+s)-x.left,M||T)if(b)d.scrollBy(M,T);else{let L=0,R=0;if(T){let ne=p.scrollTop;p.scrollTop+=T/w,R=(p.scrollTop-ne)*w}if(M){let ne=p.scrollLeft;p.scrollLeft+=M/k,L=(p.scrollLeft-ne)*k}e={left:e.left-L,top:e.top-R,right:e.right-L,bottom:e.bottom-R},L&&Math.abs(L-M)<1&&(i="nearest"),R&&Math.abs(R-T)<1&&(l="nearest")}if(b)break;(e.top<x.top||e.bottom>x.bottom||e.left<x.left||e.right>x.right)&&(e={left:Math.max(e.left,x.left),right:Math.min(e.right,x.right),top:Math.max(e.top,x.top),bottom:Math.min(e.bottom,x.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function gO(n){let e=n.ownerDocument,t,i;for(let l=n.parentNode;l&&!(l==e.body||t&&i);)if(l.nodeType==1)!i&&l.scrollHeight>l.clientHeight&&(i=l),!t&&l.scrollWidth>l.clientWidth&&(t=l),l=l.assignedSlot||l.parentNode;else if(l.nodeType==11)l=l.host;else break;return{x:t,y:i}}class yO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Er(t):0),i,Math.min(e.focusOffset,i?Er(i):0))}set(e,t,i,l){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=l}}let Vl=null;ge.safari&&ge.safari_version>=26&&(Vl=!1);function q2(n){if(n.setActive)return n.setActive();if(Vl)return n.focus(Vl);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Vl==null?{get preventScroll(){return Vl={preventScroll:!0},!0}}:void 0),!Vl){Vl=!1;for(let t=0;t<e.length;){let i=e[t++],l=e[t++],s=e[t++];i.scrollTop!=l&&(i.scrollTop=l),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Fb;function Go(n,e,t=e){let i=Fb||(Fb=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function na(n,e,t,i){let l={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:l.altKey,ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,metaKey:l.metaKey}=i);let s=new KeyboardEvent("keydown",l);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",l);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function xO(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function bO(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Er(t));;)if(i){if(t.nodeType!=1)return!1;let l=t.childNodes[i-1];l.contentEditable=="false"?i--:(t=l,i=Er(t))}else{if(t==n)return!0;i=hl(t),t=t.parentNode}}function P2(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function F2(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Er(t)}else if(t.parentNode&&!yf(t))i=hl(t),t=t.parentNode;else return null}}function G2(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!yf(t))i=hl(t)+1,t=t.parentNode;else return null}}class Ei{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Ei(e.parentNode,hl(e),t)}static after(e,t){return new Ei(e.parentNode,hl(e)+1,t)}}var yt=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(yt||(yt={}));const Xl=yt.LTR,Rg=yt.RTL;function Y2(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const vO=Y2("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),SO=Y2("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jm=Object.create(null),Pi=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);jm[e]=t,jm[t]=-e}function Q2(n){return n<=247?vO[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?SO[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const kO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mr{get dir(){return this.level%2?Rg:Xl}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,l){let s=-1;for(let o=0;o<e.length;o++){let c=e[o];if(c.from<=t&&c.to>=t){if(c.level==i)return o;(s<0||(l!=0?l<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function K2(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],l=e[t];if(i.from!=l.from||i.to!=l.to||i.direction!=l.direction||!K2(i.inner,l.inner))return!1}return!0}const ut=[];function wO(n,e,t,i,l){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,c=s<i.length?i[s].from:t,f=s?256:l;for(let d=o,p=f,m=f;d<c;d++){let x=Q2(n.charCodeAt(d));x==512?x=p:x==8&&m==4&&(x=16),ut[d]=x==4?2:x,x&7&&(m=x),p=x}for(let d=o,p=f,m=f;d<c;d++){let x=ut[d];if(x==128)d<c-1&&p==ut[d+1]&&p&24?x=ut[d]=p:ut[d]=256;else if(x==64){let b=d+1;for(;b<c&&ut[b]==64;)b++;let k=d&&p==8||b<t&&ut[b]==8?m==1?1:8:256;for(let w=d;w<b;w++)ut[w]=k;d=b-1}else x==8&&m==1&&(ut[d]=1);p=x,x&7&&(m=x)}}}function CO(n,e,t,i,l){let s=l==1?2:1;for(let o=0,c=0,f=0;o<=i.length;o++){let d=o?i[o-1].to:e,p=o<i.length?i[o].from:t;for(let m=d,x,b,k;m<p;m++)if(b=jm[x=n.charCodeAt(m)])if(b<0){for(let w=c-3;w>=0;w-=3)if(Pi[w+1]==-b){let M=Pi[w+2],T=M&2?l:M&4?M&1?s:l:0;T&&(ut[m]=ut[Pi[w]]=T),c=w;break}}else{if(Pi.length==189)break;Pi[c++]=m,Pi[c++]=x,Pi[c++]=f}else if((k=ut[m])==2||k==1){let w=k==l;f=w?0:1;for(let M=c-3;M>=0;M-=3){let T=Pi[M+2];if(T&2)break;if(w)Pi[M+2]|=2;else{if(T&4)break;Pi[M+2]|=4}}}}}function AO(n,e,t,i){for(let l=0,s=i;l<=t.length;l++){let o=l?t[l-1].to:n,c=l<t.length?t[l].from:e;for(let f=o;f<c;){let d=ut[f];if(d==256){let p=f+1;for(;;)if(p==c){if(l==t.length)break;p=t[l++].to,c=l<t.length?t[l].from:e}else if(ut[p]==256)p++;else break;let m=s==1,x=(p<e?ut[p]:i)==1,b=m==x?m?1:2:i;for(let k=p,w=l,M=w?t[w-1].to:n;k>f;)k==M&&(k=t[--w].from,M=w?t[w-1].to:n),ut[--k]=b;f=p}else s=d,f++}}}function Hm(n,e,t,i,l,s,o){let c=i%2?2:1;if(i%2==l%2)for(let f=e,d=0;f<t;){let p=!0,m=!1;if(d==s.length||f<s[d].from){let w=ut[f];w!=c&&(p=!1,m=w==16)}let x=!p&&c==1?[]:null,b=p?i:i+1,k=f;e:for(;;)if(d<s.length&&k==s[d].from){if(m)break e;let w=s[d];if(!p)for(let M=w.to,T=d+1;;){if(M==t)break e;if(T<s.length&&s[T].from==M)M=s[T++].to;else{if(ut[M]==c)break e;break}}if(d++,x)x.push(w);else{w.from>f&&o.push(new Mr(f,w.from,b));let M=w.direction==Xl!=!(b%2);Um(n,M?i+1:i,l,w.inner,w.from,w.to,o),f=w.to}k=w.to}else{if(k==t||(p?ut[k]!=c:ut[k]==c))break;k++}x?Hm(n,f,k,i+1,l,x,o):f<k&&o.push(new Mr(f,k,b)),f=k}else for(let f=t,d=s.length;f>e;){let p=!0,m=!1;if(!d||f>s[d-1].to){let w=ut[f-1];w!=c&&(p=!1,m=w==16)}let x=!p&&c==1?[]:null,b=p?i:i+1,k=f;e:for(;;)if(d&&k==s[d-1].to){if(m)break e;let w=s[--d];if(!p)for(let M=w.from,T=d;;){if(M==e)break e;if(T&&s[T-1].to==M)M=s[--T].from;else{if(ut[M-1]==c)break e;break}}if(x)x.push(w);else{w.to<f&&o.push(new Mr(w.to,f,b));let M=w.direction==Xl!=!(b%2);Um(n,M?i+1:i,l,w.inner,w.from,w.to,o),f=w.from}k=w.from}else{if(k==e||(p?ut[k-1]!=c:ut[k-1]==c))break;k--}x?Hm(n,k,f,i+1,l,x,o):k<f&&o.push(new Mr(k,f,b)),f=k}}function Um(n,e,t,i,l,s,o){let c=e%2?2:1;wO(n,l,s,i,c),CO(n,l,s,i,c),AO(l,s,i,c),Hm(n,l,s,e,t,i,o)}function MO(n,e,t){if(!n)return[new Mr(0,0,e==Rg?1:0)];if(e==Xl&&!t.length&&!kO.test(n))return X2(n.length);if(t.length)for(;n.length>ut.length;)ut[ut.length]=256;let i=[],l=e==Xl?0:1;return Um(n,l,l,t,0,n.length,i),i}function X2(n){return[new Mr(0,n,0)]}let W2="";function TO(n,e,t,i,l){var s;let o=i.head-n.from,c=Mr.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),f=e[c],d=f.side(l,t);if(o==d){let x=c+=l?1:-1;if(x<0||x>=e.length)return null;f=e[c=x],o=f.side(!l,t),d=f.side(l,t)}let p=It(n.text,o,f.forward(l,t));(p<f.from||p>f.to)&&(p=d),W2=n.text.slice(Math.min(o,p),Math.max(o,p));let m=c==(l?e.length-1:0)?null:e[c+(l?1:-1)];return m&&p==d&&m.level+(l?0:1)<f.level?ee.cursor(m.side(!l,t)+n.from,m.forward(l,t)?1:-1,m.level):ee.cursor(p+n.from,f.forward(l,t)?-1:1,f.level)}function EO(n,e,t){for(let i=e;i<t;i++){let l=Q2(n.charCodeAt(i));if(l==1)return Xl;if(l==2||l==4)return Rg}return Xl}const $2=ye.define(),J2=ye.define(),Z2=ye.define(),ek=ye.define(),Im=ye.define(),tk=ye.define(),nk=ye.define(),Lg=ye.define(),jg=ye.define(),ik=ye.define({combine:n=>n.some(e=>e)}),rk=ye.define({combine:n=>n.some(e=>e)}),lk=ye.define();class ia{constructor(e,t="nearest",i="nearest",l=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=l,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new ia(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ia(ee.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _c=Ge.define({map:(n,e)=>n.map(e)}),sk=Ge.define();function Ji(n,e,t){let i=n.facet(ek);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Ar=ye.define({combine:n=>n.length?n[0]:!0});let OO=0;const $s=ye.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class cn{constructor(e,t,i,l,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=l,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat($s.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat($s.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:l,provide:s,decorations:o}=t||{};return new cn(OO++,e,i,l,c=>{let f=[];return o&&f.push(Yo.of(d=>{let p=d.plugin(c);return p?o(p):_e.none})),s&&f.push(s(c)),f})}static fromClass(e,t){return cn.define((i,l)=>new e(i,l),t)}}class _p{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Ji(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Ji(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Ji(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ak=ye.define(),Hg=ye.define(),Yo=ye.define(),ok=ye.define(),uk=ye.define(),su=ye.define(),ck=ye.define();function Gb(n,e){let t=n.state.facet(ck);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),l=[];return Ve.spans(i,e.from,e.to,{point(){},span(s,o,c,f){let d=s-e.from,p=o-e.from,m=l;for(let x=c.length-1;x>=0;x--,f--){let b=c[x].spec.bidiIsolate,k;if(b==null&&(b=EO(e.text,d,p)),f>0&&m.length&&(k=m[m.length-1]).to==d&&k.direction==b)k.to=p,m=k.inner;else{let w={from:d,to:p,direction:b,inner:[]};m.push(w),m=w.inner}}}}),l}const fk=ye.define();function hk(n){let e=0,t=0,i=0,l=0;for(let s of n.state.facet(fk)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(l=Math.max(l,o.bottom)))}return{left:e,right:t,top:i,bottom:l}}const Co=ye.define();class xi{constructor(e,t,i,l){this.fromA=e,this.toA=t,this.fromB=i,this.toB=l}join(e){return new xi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let l=e[t-1];if(!(l.fromA>i.toA)){if(l.toA<i.fromA)break;i=i.join(l),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let l=0,s=0,o=0;;){let c=l<e.length?e[l].fromB:1e9,f=s<t.length?t[s]:1e9,d=Math.min(c,f);if(d==1e9)break;let p=d+o,m=d,x=p;for(;;)if(s<t.length&&t[s]<=m){let b=t[s+1];s+=2,m=Math.max(m,b);for(let k=l;k<e.length&&e[k].fromB<=m;k++)o=e[k].toA-e[k].toB;x=Math.max(x,b+o)}else if(l<e.length&&e[l].fromB<=m){let b=e[l++];m=Math.max(m,b.toB),x=Math.max(x,b.toA),o=b.toA-b.toB}else break;i.push(new xi(p,x,d,m))}return i}}class bf{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Bt.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let l=[];this.changes.iterChangedRanges((s,o,c,f)=>l.push(new xi(s,o,c,f))),this.changedRanges=l}static create(e,t,i){return new bf(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const _O=[];class qt{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return _O}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&fO(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let l of this.children){if(l==e)return i;i+=l.length+l.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=hl(this.dom),l=this.length?e>0:t>0;return new Ei(this.parent.dom,i+(l?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Wf)return e;return null}static get(e){return e.cmTile}}class Xf extends qt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,l,s=e?.node==t?e:null,o=0;for(let c of this.children){if(c.sync(e),o+=c.length+c.breakAfter,l=i?i.nextSibling:t.firstChild,s&&l!=c.dom&&(s.written=!0),c.dom.parentNode==t)for(;l&&l!=c.dom;)l=Yb(l);else t.insertBefore(c.dom,l);i=c.dom}for(l=i?i.nextSibling:t.firstChild,s&&l&&(s.written=!0);l;)l=Yb(l);this.length=o}}function Yb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Wf extends Xf{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=qt.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,l=0,s=0;;)if(l==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&s++,l=t.pop()}else{let o=i.children[l++];if(o instanceof ol)t.push(l),i=o,l=0;else{let c=s+o.length,f=e(o,s);if(f!==void 0)return f;s=c+o.breakAfter}}}resolveBlock(e,t){let i,l=-1,s,o=-1;if(this.blockTiles((c,f)=>{let d=f+c.length;if(e>=f&&e<=d){if(c.isWidget()&&t>=-1&&t<=1){if(c.flags&32)return!0;c.flags&16&&(i=void 0)}(f<e||e==d&&(t<-1?c.length:c.covers(1)))&&(!i||!c.isWidget()&&i.isWidget())&&(i=c,l=e-f),(d>e||e==f&&(t>1?c.length:c.covers(-1)))&&(!s||!c.isWidget()&&s.isWidget())&&(s=c,o=e-f)}}),!i&&!s)throw new Error("No tile at position "+e);return i&&t<0||!s?{tile:i,offset:l}:{tile:s,offset:o}}}class ol extends Xf{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new ol(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class ca extends Xf{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let l=new ca(t||document.createElement("div"),e);return(!t||!i)&&(l.flags|=4),l}get domAttrs(){return this.attrs}resolveInline(e,t,i){let l=null,s=-1,o=null,c=-1;function f(p,m){for(let x=0,b=0;x<p.children.length&&b<=m;x++){let k=p.children[x],w=b+k.length;w>=m&&(k.isComposite()?f(k,m-b):(!o||o.isHidden&&(t>0||i&&DO(o,k)))&&(w>m||k.flags&32)?(o=k,c=m-b):(b<m||k.flags&16&&!k.isHidden)&&(l=k,s=m-b)),b=w}}f(this,e);let d=(t<0?l:o)||l||o;return d?{tile:d,offset:d==l?s:c}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):NO(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:l,offset:s}=i;if(this.dom.contains(l.dom))return l.isText()?new Ei(l.dom,Math.min(l.dom.nodeValue.length,s)):l.domPosFor(s,l.flags&16?1:l.flags&32?-1:t);let o=i.tile.parent,c=!1;for(let f of o.children){if(c)return new Ei(f.dom,0);f==i.tile&&(c=!0)}}return new Ei(this.dom,0)}}function NO(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=lf(e);return t[t.length-1]||null}function DO(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class Un extends Xf{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new Un(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class Fl extends qt{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let l=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?ge.chrome||ge.gecko||(e?(l--,o=1):s<i&&(s++,o=-1)):t<0?l--:s<i&&s++;let c=Go(this.dom,l,s).getClientRects();if(!c.length)return null;let f=c[(o?o<0:t>=0)?0:c.length-1];return ge.safari&&!o&&f.width==0&&(f=Array.prototype.find.call(c,d=>d.width)||f),o?xf(f,o<0):f||null}static of(e,t){let i=new Fl(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class fa extends qt{constructor(e,t,i,l){super(e,t,l),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let l=this.widget.coordsAt(this.dom,e,t);if(l)return l;if(i)return xf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),o=null;if(!s.length)return null;let c=this.flags&16?!0:this.flags&32?!1:e>0;for(let f=c?s.length-1:0;o=s[f],!(e>0?f==0:f==s.length-1||o.top<o.bottom);f+=c?-1:1);return xf(o,!c)}}get overrideDOMText(){if(!this.length)return Je.empty;let{root:e}=this;if(!e)return Je.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,l,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new fa(s,i,e,l)}}class vf extends qt{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!1}get overrideDOMText(){return Je.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class BO{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:l,index:s,beforeBreak:o,parents:c}=this;for(;e||t>0;)if(l.isComposite())if(o){if(!e)break;i&&i.break(),e--,o=!1}else if(s==l.children.length){if(!e&&!c.length)break;i&&i.leave(l),o=!!l.breakAfter,{tile:l,index:s}=c.pop(),s++}else{let f=l.children[s],d=f.breakAfter;(t>0?f.length<=e:f.length<e)&&(!i||i.skip(f,0,f.length)!==!1||!f.isComposite)?(o=!!d,s++,e-=f.length):(c.push({tile:l,index:s}),l=f,s=0,i&&f.isComposite()&&i.enter(f))}else if(s==l.length)o=!!l.breakAfter,{tile:l,index:s}=c.pop(),s++;else if(e){let f=Math.min(e,l.length-s);i&&i.skip(l,s,s+f),e-=f,s+=f}else break;return this.tile=l,this.index=s,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class zO{constructor(e,t,i,l){this.from=e,this.to=t,this.wrapper=i,this.rank=l}}class RO{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,l){var s;this.flushBuffer();let o=this.ensureMarks(t,i),c=o.lastChild;if(c&&c.isText()&&!(c.flags&8)){this.cache.reused.set(c,2);let f=o.children[o.children.length-1]=new Fl(c.dom,c.text+e);f.parent=o}else o.append(l||Fl.of(e,(s=this.cache.find(Fl))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?Np(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let l=i;for(let o=t.marks.length-1;o>=0;o--){let c=t.marks[o],f=l.lastChild;if(f instanceof Un&&f.mark.eq(c.mark))f.dom!=c.dom&&f.setDOM(Np(c.dom)),l=f;else{if(this.cache.reused.get(c)){let p=qt.get(c.dom);p&&p.setDOM(Np(c.dom))}let d=Un.of(c.mark,c.dom);l.append(d),l=d}this.cache.reused.set(c,2)}let s=new Fl(e.text,e.text.nodeValue);s.flags|=8,l.append(s)}addInlineWidget(e,t,i){let l=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);l||this.flushBuffer();let s=this.ensureMarks(t,i);!l&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=dk);let l=ca.start(e,t||((i=this.cache.find(ca))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=l)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let l=this.curLine;for(let s=e.length-1;s>=0;s--){let o=e[s],c;if(t>0&&(c=l.lastChild)&&c instanceof Un&&c.mark.eq(o))l=c,t--;else{let f=Un.of(o,(i=this.cache.find(Un,d=>d.mark.eq(o)))===null||i===void 0?void 0:i.dom);l.append(f),l=f,t=0}}return l}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!Qb(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ge.ios&&Qb(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Dp,0,32)||new fa(Dp.toDOM(),0,Dp,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new zO(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let l=t.lastChild;if(i.from<this.pos&&l instanceof ol&&l.wrapper.eq(i.wrapper))t=l;else{let s=ol.of(i.wrapper,(e=this.cache.find(ol,o=>o.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(vf,void 0,1);return i&&(i.flags=t),i||new vf(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class LO{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:l,lineBreak:s,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=l;let c=this.textOff=Math.min(e,l.length);return s?null:l.slice(0,c)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const Sf=[fa,ca,Fl,Un,vf,ol,Wf];for(let n=0;n<Sf.length;n++)Sf[n].bucket=n;class jO{constructor(e){this.view=e,this.buckets=Sf.map(()=>[]),this.index=Sf.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let l=e.bucket,s=this.buckets[l],o=this.index[l];for(let c=s.length-1;c>=0;c--){let f=(c+o)%s.length,d=s[f];if((!t||t(d))&&!this.reused.has(d))return s.splice(f,1),f<o&&this.index[l]--,this.reused.set(d,i),d}return null}findWidget(e,t,i){let l=this.buckets[0];if(l.length)for(let s=0,o=0;;s++){if(s==l.length){if(o)return null;o=1,s=0}let c=l[s];if(!this.reused.has(c)&&(o==0?c.widget.compare(e):c.widget.constructor==e.constructor&&e.updateDOM(c.dom,this.view)))return l.splice(s,1),s<this.index[0]&&this.index[0]--,this.reused.set(c,1),c.length=t,c.flags=c.flags&-498|i,c}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}}class HO{constructor(e,t,i,l,s){this.view=e,this.decorations=l,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new jO(e),this.text=new LO(e.state.doc),this.builder=new RO(this.cache,new Wf(e,e.contentDOM),Ve.iter(i)),this.cache.reused.set(t,2),this.old=new BO(t)}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let l=0,s=0,o=0;;){let c=o<e.length?e[o++]:null,f=c?c.fromA:this.old.root.length;if(f>l){let d=f-l;this.preserve(d,!o,!c),l=f,s+=d}if(!c)break;this.forward(c.fromA,c.toA),t&&c.fromA<=t.range.fromA&&c.toA>=t.range.toA?(this.emit(s,t.range.fromB),this.builder.addComposition(t,i),this.emit(t.range.toB,c.toB)):this.emit(s,c.toB),s=c.toB,l=c.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let l=VO(this.old),s=this.openMarks;this.old.advance(e,i?1:-1,{skip:(o,c,f)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(f-c);else{let d=f>0||c<o.length?fa.of(o.widget,this.view,f-c,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);d.flags&256?(d.flags&=-2,this.builder.addBlockWidget(d)):(this.builder.ensureLine(null),this.builder.addInlineWidget(d,l,s),s=l.length)}else if(o.isText())this.builder.ensureLine(null),!c&&f==o.length?this.builder.addText(o.text,l,s,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(c,f),l,s)),s=l.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof vf)this.cache.add(o);else if(o instanceof Un)this.builder.ensureLine(null),this.builder.addMark(o,l,s),this.cache.reused.set(o,1),s=l.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof Un&&l.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?l.length&&(l.length=s=0):o instanceof Un&&(l.shift(),s=Math.min(s,l.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,l=this.builder,s=0,o=Ve.spans(this.decorations,e,t,{point:(c,f,d,p,m,x)=>{if(d instanceof Kl){if(this.disallowBlockEffectsFor[x]){if(d.block)throw new RangeError("Block decorations may not be specified via plugins");if(f>this.view.state.doc.lineAt(c).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=p.length,m>p.length)l.continueWidget(f-c);else{let b=d.widget||(d.block?ha.block:ha.inline),k=UO(d),w=this.cache.findWidget(b,f-c,k)||fa.of(b,this.view,f-c,k);d.block?(d.startSide>0&&l.addLineStartIfNotCovered(i),l.addBlockWidget(w)):(l.ensureLine(i),l.addInlineWidget(w,p,m))}i=null}else i=IO(i,d);f>c&&this.text.skip(f-c)},span:(c,f,d,p)=>{for(let m=c;m<f;){let x=this.text.next(Math.min(512,f-m));x==null?(l.addLineStartIfNotCovered(i),l.addBreak(),m++):(l.ensureLine(i),l.addText(x,d,p),m+=x.length),i=null}}});l.addLineStartIfNotCovered(i),this.openWidget=o>s,this.openMarks=o}forward(e,t){this.old.advance(t-e,1,{skip:(i,l,s)=>{(i.isText()||s==i.length)&&this.cache.add(i)},enter:i=>this.cache.add(i),leave:()=>{},break:()=>{}})}getCompositionContext(e){let t=[],i=null;for(let l=e.parentNode;;l=l.parentNode){let s=qt.get(l);if(l==this.view.contentDOM)break;s instanceof Un?t.push(s):s?.isLine()?i=s:l.nodeName=="DIV"&&!i&&l!=this.view.contentDOM?i=new ca(l,dk):t.push(Un.of(new ru({tagName:l.nodeName.toLowerCase(),attributes:hO(l)}),l))}return{line:i,marks:t}}}function Qb(n,e){let t=i=>{for(let l of i.children)if((e?l.isText():l.length)||t(l))return!0;return!1};return t(n)}function UO(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const dk={class:"cm-line"};function IO(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&Bg(t,n),i&&(n.class+=" "+i)),n}function VO(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof Un&&e.push(i.mark)}return e}function Np(n){let e=qt.get(n);return e&&e.setDOM(n.cloneNode()),n}class ha extends rr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ha.inline=new ha("span");ha.block=new ha("div");const Dp=new class extends rr{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Kb{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=_e.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Wf(e,e.contentDOM),this.updateInner([new xi(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:p,toA:m})=>m<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let l=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?l=this.domChanged.newSel.head:!WO(e.changes,this.hasComposition)&&!e.selectionSet&&(l=e.state.selection.main.head));let s=l>-1?PO(this.view,e.changes,l):null;if(this.domChanged=null,this.hasComposition){let{from:p,to:m}=this.hasComposition;i=new xi(p,m,e.changes.mapPos(p,-1),e.changes.mapPos(m,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ge.ie||ge.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,c=this.blockWrappers;this.updateDeco();let f=YO(o,this.decorations,e.changes);f.length&&(i=xi.extendWithRanges(i,f));let d=KO(c,this.blockWrappers,e.changes);return d.length&&(i=xi.extendWithRanges(i,d)),s&&!i.some(p=>p.fromA<=s.range.fromA&&p.toA>=s.range.toA)&&(i=s.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let o=this.tile,c=new HO(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=c.run(e,t),Vm(o,c.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ge.chrome||ge.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||i.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof Bp&&l.push(s.dom);i.updateGaps(l)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(sk)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,l=this.view.root.activeElement,s=l==i,o=!s&&!(this.view.state.facet(Ar)||i.tabIndex>-1)&&rf(i,this.view.observer.selectionRange)&&!(l&&i.contains(l));if(!(s||t||o))return;let c=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,d,p;if(f.empty?p=d=this.inlineDOMNearPos(f.anchor,f.assoc||1):(p=this.inlineDOMNearPos(f.head,f.head==f.from?1:-1),d=this.inlineDOMNearPos(f.anchor,f.anchor==f.from?1:-1)),ge.gecko&&f.empty&&!this.hasComposition&&qO(d)){let x=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(x,d.node.childNodes[d.offset]||null)),d=p=new Ei(x,0),c=!0}let m=this.view.observer.selectionRange;(c||!m.focusNode||(!Bo(d.node,d.offset,m.anchorNode,m.anchorOffset)||!Bo(p.node,p.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,f))&&(this.view.observer.ignore(()=>{ge.android&&ge.chrome&&i.contains(m.focusNode)&&XO(m.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let x=Fo(this.view.root);if(x)if(f.empty){if(ge.gecko){let b=FO(d.node,d.offset);if(b&&b!=3){let k=(b==1?F2:G2)(d.node,d.offset);k&&(d=new Ei(k.node,k.offset))}}x.collapse(d.node,d.offset),f.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=f.bidiLevel)}else if(x.extend){x.collapse(d.node,d.offset);try{x.extend(p.node,p.offset)}catch{}}else{let b=document.createRange();f.anchor>f.head&&([d,p]=[p,d]),b.setEnd(p.node,p.offset),b.setStart(d.node,d.offset),x.removeAllRanges(),x.addRange(b)}o&&this.view.root.activeElement==i&&(i.blur(),l&&l.focus())}),this.view.observer.setSelectionRange(d,p)),this.impreciseAnchor=d.precise?null:new Ei(m.anchorNode,m.anchorOffset),this.impreciseHead=p.precise?null:new Ei(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Bo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Fo(e.root),{anchorNode:l,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=this.lineAt(t.head,t.assoc);if(!o)return;let c=o.posAtStart;if(t.head==c||t.head==c+o.length)return;let f=this.coordsAt(t.head,-1),d=this.coordsAt(t.head,1);if(!f||!d||f.bottom>d.top)return;let p=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(p.node,p.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&i.collapse(l,s)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let l=i.posAtStart;if(i.isComposite()){let s;if(e==i.dom)s=i.dom.childNodes[t];else{let o=Er(e)==0?0:t==0?-1:1;for(;;){let c=e.parentNode;if(c==i.dom)break;o==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?o=-1:o=1),e=c}o<0?s=e:s=e.nextSibling}if(s==i.dom.firstChild)return l;for(;s&&!qt.get(s);)s=s.nextSibling;if(!s)return l+i.length;for(let o=0,c=l;;o++){let f=i.children[o];if(f.dom==s)return c;c+=f.length+f.breakAfter}}else return i.isText()?e==i.dom?l+t:l+(t?i.length:0):l}domAtPos(e,t){let{tile:i,offset:l}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(l,t)}inlineDOMNearPos(e,t){let i,l=-1,s=!1,o,c=-1,f=!1;return this.tile.blockTiles((d,p)=>{if(d.isWidget()){if(d.flags&32&&p>=e)return!0;d.flags&16&&(s=!0)}else{let m=p+d.length;if(p<=e&&(i=d,l=e-p,s=m<e),m>=e&&!o&&(o=d,c=e-p,f=p>e),p>e&&o)return!0}}),!i&&!o?this.domAtPos(e,t):(s&&o?i=null:f&&i&&(o=null),i&&t<0||!o?i.domIn(l,t):o.domIn(c,t))}coordsAt(e,t){let{tile:i,offset:l}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof Bp?null:i.coordsInWidget(l,t,!0):i.coordsIn(l,t)}lineAt(e,t){let{tile:i}=this.tile.resolveBlock(e,t);return i.isLine()?i:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function l(s,o){if(s.isComposite())for(let c of s.children){if(c.length>=o){let f=l(c,o);if(f)return f}if(o-=c.length,o<0)break}else if(s.isText()&&o<s.length){let c=It(s.text,o);if(c==o)return null;let f=Go(s.dom,o,c).getClientRects();for(let d=0;d<f.length;d++){let p=f[d];if(d==f.length-1||p.top<p.bottom&&p.left<p.right)return p}}return null}return l(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:l}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==yt.LTR,d=0,p=(m,x,b)=>{for(let k=0;k<m.children.length&&!(x>l);k++){let w=m.children[k],M=x+w.length,T=w.dom.getBoundingClientRect(),{height:L}=T;if(b&&!k&&(d+=T.top-b.top),w instanceof ol)M>i&&p(w,x,T);else if(x>=i&&(d>0&&t.push(-d),t.push(L+d),d=0,o)){let R=w.dom.lastChild,ne=R?lf(R):[];if(ne.length){let Q=ne[ne.length-1],D=f?Q.right-T.left:T.right-Q.left;D>c&&(c=D,this.minWidth=s,this.minWidthFrom=x,this.minWidthTo=M)}}b&&k==m.children.length-1&&(d+=b.bottom-T.bottom),x=M+w.breakAfter}};return p(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?yt.RTL:yt.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let c=0,f;for(let d of o.children){if(!d.isText()||/[^ -~]/.test(d.text))return;let p=lf(d.dom);if(p.length!=1)return;c+=p[0].width,f=p[0].height}if(c)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:c/o.length,textHeight:f}}});if(e)return e;let t=document.createElement("div"),i,l,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let o=lf(t.firstChild)[0];i=t.getBoundingClientRect().height,l=o&&o.width?o.width/27:7,s=o&&o.height?o.height:i,t.remove()}),{lineHeight:i,charWidth:l,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,l=0;;l++){let s=l==t.viewports.length?null:t.viewports[l],o=s?s.from-1:this.view.state.doc.length;if(o>i){let c=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(_e.replace({widget:new Bp(c),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return _e.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Yo).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,l=this.view.state.facet(uk).map((s,o)=>{let c=typeof s=="function";return c&&(i=!0),c?s(this.view):s});for(l.length&&(this.dynamicDecorationMap[e++]=i,t.push(Ve.join(l))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(ok).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(lk))try{if(d(this.view,e.range,e))return!0}catch(p){Ji(this.view.state,p,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),l;if(!i)return;!t.empty&&(l=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,l.left),top:Math.min(i.top,l.top),right:Math.max(i.right,l.right),bottom:Math.max(i.bottom,l.bottom)});let s=hk(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;mO(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==yt.LTR)}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){Vm(this.tile)}}function Vm(n,e){let t=e?.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)Vm(i,e)}}function qO(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function pk(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=F2(t.focusNode,t.focusOffset),l=G2(t.focusNode,t.focusOffset),s=i||l;if(l&&i&&l.node!=i.node){let c=qt.get(l.node);if(!c||c.isText()&&c.text!=l.node.nodeValue)s=l;else if(n.docView.lastCompositionAfterCursor){let f=qt.get(i.node);!f||f.isText()&&f.text!=i.node.nodeValue||(s=l)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function PO(n,e,t){let i=pk(n,t);if(!i)return null;let{node:l,from:s,to:o}=i,c=l.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(i.from,i.to)!=c)return null;let f=e.invertedDesc;return{range:new xi(f.mapPos(s),f.mapPos(o),s,o),text:l}}function FO(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let GO=class{constructor(){this.changes=[]}compareRange(e,t){ta(e,t,this.changes)}comparePoint(e,t){ta(e,t,this.changes)}boundChange(e){ta(e,e,this.changes)}};function YO(n,e,t){let i=new GO;return Ve.compare(n,e,t,i),i.changes}class QO{constructor(){this.changes=[]}compareRange(e,t){ta(e,t,this.changes)}comparePoint(){}boundChange(e){ta(e,e,this.changes)}}function KO(n,e,t){let i=new QO;return Ve.compare(n,e,t,i),i.changes}function XO(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function WO(n,e){let t=!1;return e&&n.iterChangedRanges((i,l)=>{i<e.to&&l>e.from&&(t=!0)}),t}class Bp extends rr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function $O(n,e,t=1){let i=n.charCategorizer(e),l=n.doc.lineAt(e),s=e-l.from;if(l.length==0)return ee.cursor(e);s==0?t=1:s==l.length&&(t=-1);let o=s,c=s;t<0?o=It(l.text,s,!1):c=It(l.text,s);let f=i(l.text.slice(o,c));for(;o>0;){let d=It(l.text,o,!1);if(i(l.text.slice(d,o))!=f)break;o=d}for(;c<l.length;){let d=It(l.text,c);if(i(l.text.slice(c,d))!=f)break;c=d}return ee.range(o+l.from,c+l.from)}function JO(n,e,t,i,l){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,f=Math.floor((l-t.top-(n.defaultLineHeight-c)*.5)/c);s+=f*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+Om(o,s,n.state.tabSize)}function qm(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let l;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!l||s.type==un.Text&&(l.type!=s.type||(t<0?s.from<e:s.to>e)))&&(l=s)}}return l||i}return i}function ZO(n,e,t,i){let l=qm(n,e.head,e.assoc||-1),s=!i||l.type!=un.Text||!(n.lineWrapping||l.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>l.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),c=n.textDirectionAt(l.from),f=n.posAtCoords({x:t==(c==yt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(f!=null)return ee.cursor(f,t?-1:1)}return ee.cursor(t?l.to:l.from,t?-1:1)}function Xb(n,e,t,i){let l=n.state.doc.lineAt(e.head),s=n.bidiSpans(l),o=n.textDirectionAt(l.from);for(let c=e,f=null;;){let d=TO(l,s,o,c,t),p=W2;if(!d){if(l.number==(t?n.state.doc.lines:1))return c;p=`
`,l=n.state.doc.line(l.number+(t?1:-1)),s=n.bidiSpans(l),d=n.visualLineSide(l,!t)}if(f){if(!f(p))return c}else{if(!i)return d;f=i(p)}c=d}}function e_(n,e,t){let i=n.state.charCategorizer(e),l=i(t);return s=>{let o=i(s);return l==Lt.Space&&(l=o),l==o}}function t_(n,e,t,i){let l=e.head,s=t?1:-1;if(l==(t?n.state.doc.length:0))return ee.cursor(l,e.assoc);let o=e.goalColumn,c,f=n.contentDOM.getBoundingClientRect(),d=n.coordsAtPos(l,e.assoc||-1),p=n.documentTop;if(d)o==null&&(o=d.left-f.left),c=s<0?d.top:d.bottom;else{let b=n.viewState.lineBlockAt(l);o==null&&(o=Math.min(f.right-f.left,n.defaultCharacterWidth*(l-b.from))),c=(s<0?b.top:b.bottom)+p}let m=f.left+o,x=i??n.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let k=c+(x+b)*s,w=Pm(n,{x:m,y:k},!1,s);return ee.cursor(w.pos,w.assoc,void 0,o)}}function zo(n,e,t){for(;;){let i=0;for(let l of n)l.between(e-1,e+1,(s,o,c)=>{if(e>s&&e<o){let f=i||t||(e-s<o-e?-1:1);e=f<0?s:o,i=f}});if(!i)return e}}function mk(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let l=e.ranges[i],s=null;if(l.empty){let o=zo(n,l.from,0);o!=l.from&&(s=ee.cursor(o,-1))}else{let o=zo(n,l.from,-1),c=zo(n,l.to,1);(o!=l.from||c!=l.to)&&(s=ee.range(l.from==l.anchor?o:c,l.from==l.head?o:c))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?ee.create(t,e.mainIndex):e}function zp(n,e,t){let i=zo(n.state.facet(su).map(l=>l(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:ee.cursor(i,i<t.from?1:-1)}class Xi{constructor(e,t){this.pos=e,this.assoc=t}}function Pm(n,e,t,i){let l=n.contentDOM.getBoundingClientRect(),s=l.top+n.viewState.paddingTop,{x:o,y:c}=e,f=c-s,d;for(;;){if(f<0)return new Xi(0,1);if(f>n.viewState.docHeight)return new Xi(n.state.doc.length,-1);if(d=n.elementAtHeight(f),i==null)break;if(d.type==un.Text){let x=n.docView.coordsAt(i<0?d.from:d.to,i);if(x&&(i<0?x.top<=f+s:x.bottom>=f+s))break}let m=n.viewState.heightOracle.textHeight/2;f=i>0?d.bottom+m:d.top-m}if(n.viewport.from>=d.to||n.viewport.to<=d.from){if(t)return null;if(d.type==un.Text){let m=JO(n,l,d,o,c);return new Xi(m,m==d.from?1:-1)}}if(d.type!=un.Text)return f<(d.top+d.bottom)/2?new Xi(d.from,1):new Xi(d.to,-1);let p=n.docView.lineAt(d.from,2);return(!p||p.length!=d.length)&&(p=n.docView.lineAt(d.from,-2)),gk(n,p,d.from,o,c)}function gk(n,e,t,i,l){let s=-1,o=null,c=1e9,f=1e9,d=l,p=l,m=(x,b)=>{for(let k=0;k<x.length;k++){let w=x[k];if(w.top==w.bottom)continue;let M=w.left>i?w.left-i:w.right<i?i-w.right:0,T=w.top>l?w.top-l:w.bottom<l?l-w.bottom:0;w.top<=p&&w.bottom>=d&&(d=Math.min(w.top,d),p=Math.max(w.bottom,p),T=0),(s<0||(T-f||M-c)<0)&&(s>=0&&f&&c<M&&o.top<=p-2&&o.bottom>=d+2?f=0:(s=b,c=M,f=T,o=w))}};if(e.isText()){for(let b=0;b<e.length;){let k=It(e.text,b);if(m(Go(e.dom,b,k).getClientRects(),b),!c&&!f)break;b=k}return i>(o.left+o.right)/2==(Wb(n,s+t)==yt.LTR)?new Xi(t+It(e.text,s),-1):new Xi(t+s,1)}else{if(!e.length)return new Xi(t,1);for(let w=0;w<e.children.length;w++){let M=e.children[w];if(M.flags&48)continue;let T=(M.dom.nodeType==1?M.dom:Go(M.dom,0,M.length)).getClientRects();if(m(T,w),!c&&!f)break}let x=e.children[s],b=e.posBefore(x,t);return x.isComposite()||x.isText()?gk(n,x,b,Math.max(o.left,Math.min(o.right,i)),l):i>(o.left+o.right)/2==(Wb(n,s+t)==yt.LTR)?new Xi(b+x.length,-1):new Xi(b,1)}}function Wb(n,e){let t=n.state.doc.lineAt(e);return n.bidiSpans(t)[Mr.find(n.bidiSpans(t),e-t.from,-1,1)].dir}const Ao="";class n_{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ie.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ao}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let l=e;;){this.findPointBefore(i,l);let s=this.text.length;this.readNode(l);let o=qt.get(l),c=l.nextSibling;if(c==t){o?.breakAfter&&!c&&this.lineBreak();break}let f=qt.get(c);(o&&f?o.breakAfter:(o?o.breakAfter:yf(l))||yf(c)&&(l.nodeName!="BR"||o?.isWidget())&&this.text.length>s)&&!r_(c,t)&&this.lineBreak(),l=c}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,l=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(c=l.exec(t))&&(s=c.index,o=c[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=o-1);i=s+o}}readNode(e){let t=qt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let l=i.iter();!l.next().done;)l.lineBreak?this.lineBreak():this.append(l.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(i_(e,i.node,i.offset)?t:0))}}function i_(n,e,t){for(;;){if(!e||t<Er(e))return!1;if(e==n)return!0;t=hl(e)+1,e=e.parentNode}}function r_(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=qt.get(n);if(!i?.isWidget())return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let l=i.overrideDOMText;if(l?.length)return!1}return!0}class $b{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class l_{constructor(e,t,i,l){this.typeOver=l,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=yk(e.docView.tile,t,i,0))){let c=s||o?[]:a_(e),f=new n_(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=o_(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!Lm(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=o&&o.node==c.anchorNode&&o.offset==c.anchorOffset||!Lm(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((ge.ios||ge.chrome)&&e.state.selection.main.empty&&f!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(f,d),x=Math.max(f,d),b=p.from-m,k=p.to-x;(b==0||b==1||m==0)&&(k==0||k==-1||x==e.state.doc.length)&&(f=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ee.range(d,f)):this.newSel=ee.single(d,f)}}}function yk(n,e,t,i){if(n.isComposite()){let l=-1,s=-1,o=-1,c=-1;for(let f=0,d=i,p=i;f<n.children.length;f++){let m=n.children[f],x=d+m.length;if(d<e&&x>t)return yk(m,e,t,d);if(x>=e&&l==-1&&(l=f,s=d),d>t&&m.dom.parentNode==n.dom){o=f,c=p;break}p=x,d=x+m.breakAfter}return{from:s,to:c<0?i+n.length:c,startDOM:(l?n.children[l-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:o<n.children.length&&o>=0?n.children[o].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function xk(n,e){let t,{newSel:i}=e,l=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:c}=e.bounds,f=l.from,d=null;(s===8||ge.android&&e.text.length<c-o)&&(f=l.to,d="end");let p=bk(n.state.doc.sliceString(o,c,Ao),e.text,f-o,d);p&&(ge.chrome&&s==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Ao+Ao&&p.toB--,t={from:o+p.from,to:o+p.toA,insert:Je.of(e.text.slice(p.from,p.toB).split(Ao))})}else i&&(!n.hasFocus&&n.state.facet(Ar)||i.main.eq(l))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!l.empty&&i&&i.main.empty?t={from:l.from,to:l.to,insert:n.state.doc.slice(l.from,l.to)}:(ge.mac||ge.android)&&t&&t.from==t.to&&t.from==l.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=ee.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Je.of([t.insert.toString().replace("."," ")])}):t&&t.from>=l.from&&t.to<=l.to&&(t.from!=l.from||t.to!=l.to)&&l.to-l.from-(t.to-t.from)<=4?t={from:l.from,to:l.to,insert:n.state.doc.slice(l.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,l.to))}:n.state.doc.lineAt(l.from).to<l.to&&n.docView.lineHasWidget(l.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:l.from,to:l.to,insert:n.state.toText(n.inputState.insertingText)}:ge.chrome&&t&&t.from==t.to&&t.from==l.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=ee.single(i.main.anchor-1,i.main.head-1)),t={from:l.from,to:l.to,insert:Je.of([" "])}),t)return Ug(n,t,i,s);if(i&&!i.main.eq(l)){let o=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(i=mk(n.state.facet(su).map(f=>f(n)),i))),n.dispatch({selection:i,scrollIntoView:o,userEvent:c}),!0}else return!1}function Ug(n,e,t,i=-1){if(ge.ios&&n.inputState.flushIOSKey(e))return!0;let l=n.state.selection.main;if(ge.android&&(e.to==l.to&&(e.from==l.from||e.from==l.from-1&&n.state.sliceDoc(e.from,l.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&na(n.contentDOM,"Enter",13)||(e.from==l.from-1&&e.to==l.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>l.head)&&na(n.contentDOM,"Backspace",8)||e.from==l.from&&e.to==l.to+1&&e.insert.length==0&&na(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,c=()=>o||(o=s_(n,e,t));return n.state.facet(tk).some(f=>f(n,e.from,e.to,s,c))||n.dispatch(c()),!0}function s_(n,e,t){let i,l=n.state,s=l.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let f=e.from<s.from?-1:1,d=f<0?s.from:s.to,p=zo(l.facet(su).map(m=>m(n)),d,f);e.from==p&&(o=p)}if(o>-1)i={changes:e,selection:ee.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=s.from<e.from?l.sliceDoc(s.from,e.from):"",d=s.to>e.to?l.sliceDoc(e.to,s.to):"";i=l.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let f=l.changes(e),d=t&&t.main.to<=f.newLength?t.main:void 0;if(l.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let p=n.state.sliceDoc(e.from,e.to),m,x=t&&pk(n,t.main.head);if(x){let k=e.insert.length-(e.to-e.from);m={from:x.from,to:x.to-k}}else m=n.state.doc.lineAt(s.head);let b=s.to-e.to;i=l.changeByRange(k=>{if(k.from==s.from&&k.to==s.to)return{changes:f,range:d||k.map(f)};let w=k.to-b,M=w-p.length;if(n.state.sliceDoc(M,w)!=p||w>=m.from&&M<=m.to)return{range:k};let T=l.changes({from:M,to:w,insert:e.insert}),L=k.to-s.to;return{changes:T,range:d?ee.range(Math.max(0,d.anchor+L),Math.max(0,d.head+L)):k.map(T)}})}else i={changes:f,selection:d&&l.selection.replaceRange(d)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),l.update(i,{userEvent:c,scrollIntoView:!0})}function bk(n,e,t,i){let l=Math.min(n.length,e.length),s=0;for(;s<l&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==l&&n.length==e.length)return null;let o=n.length,c=e.length;for(;o>0&&c>0&&n.charCodeAt(o-1)==e.charCodeAt(c-1);)o--,c--;if(i=="end"){let f=Math.max(0,s-Math.min(o,c));t-=o+f-s}if(o<s&&n.length<e.length){let f=t<=s&&t>=o?s-t:0;s-=f,c=s+(c-o),o=s}else if(c<s){let f=t<=s&&t>=c?s-t:0;s-=f,o=s+(o-c),c=s}return{from:s,toA:o,toB:c}}function a_(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:l,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new $b(t,i)),(l!=t||s!=i)&&e.push(new $b(l,s))),e}function o_(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?ee.single(t+e,i+e):null}class u_{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ge.safari&&e.contentDOM.addEventListener("input",()=>null),ge.gecko&&C_(e.contentDOM.ownerDocument)}handleEvent(e){!y_(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let l of i.observers)l(this.view,t);for(let l of i.handlers){if(t.defaultPrevented)break;if(l(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=c_(e),i=this.handlers,l=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,c=i[s];c&&o!=!c.handlers.length&&(l.removeEventListener(s,this.handleEvent),c=null),c||l.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&l.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Sk.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ge.android&&ge.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ge.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=vk.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||f_.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,na(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ge.safari&&!ge.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Jb(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(l){Ji(t.state,l)}}}function c_(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let l=i.spec,s=l&&l.plugin.domEventHandlers,o=l&&l.plugin.domEventObservers;if(s)for(let c in s){let f=s[c];f&&t(c).handlers.push(Jb(i.value,f))}if(o)for(let c in o){let f=o[c];f&&t(c).observers.push(Jb(i.value,f))}}for(let i in _i)t(i).handlers.push(_i[i]);for(let i in Si)t(i).observers.push(Si[i]);return e}const vk=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],f_="dthko",Sk=[16,17,18,20,91,92,224,225],Nc=6;function Dc(n){return Math.max(0,n)*.7+8}function h_(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class d_{constructor(e,t,i,l){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=l,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=gO(e.contentDOM),this.atoms=e.state.facet(su).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ie.allowMultipleSelections)&&p_(e,t),this.dragging=g_(e,t)&&Ck(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&h_(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,l=0,s=0,o=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:l,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=hk(this.view);e.clientX-f.left<=l+Nc?t=-Dc(l-e.clientX):e.clientX+f.right>=o-Nc&&(t=Dc(e.clientX-o)),e.clientY-f.top<=s+Nc?i=-Dc(s-e.clientY):e.clientY+f.bottom>=c-Nc&&(i=Dc(e.clientY-c)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=mk(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function p_(n,e){let t=n.state.facet($2);return t.length?t[0](e):ge.mac?e.metaKey:e.ctrlKey}function m_(n,e){let t=n.state.facet(J2);return t.length?t[0](e):ge.mac?!e.altKey:!e.ctrlKey}function g_(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Fo(n.root);if(!i||i.rangeCount==0)return!0;let l=i.getRangeAt(0).getClientRects();for(let s=0;s<l.length;s++){let o=l[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function y_(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=qt.get(t))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(e))return!1;return!0}const _i=Object.create(null),Si=Object.create(null),kk=ge.ie&&ge.ie_version<15||ge.ios&&ge.webkit_version<604;function x_(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),wk(n,t.value)},50)}function $f(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function wk(n,e){e=$f(n.state,Lg,e);let{state:t}=n,i,l=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Fm!=null&&t.selection.ranges.every(f=>f.empty)&&Fm==s.toString()){let f=-1;i=t.changeByRange(d=>{let p=t.doc.lineAt(d.from);if(p.from==f)return{range:d};f=p.from;let m=t.toText((o?s.line(l++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:m},range:ee.cursor(d.from+m.length)}})}else o?i=t.changeByRange(f=>{let d=s.line(l++);return{changes:{from:f.from,to:f.to,insert:d.text},range:ee.cursor(f.from+d.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Si.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};_i.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Si.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Si.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};_i.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(Z2))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=v_(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new d_(n,e,t,i)),i&&n.observer.ignore(()=>{q2(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let l=n.inputState.mouseSelection;if(l)return l.start(e),l.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function Zb(n,e,t,i){if(i==1)return ee.cursor(e,t);if(i==2)return $O(n.state,e,t);{let l=n.docView.lineAt(e,t),s=n.state.doc.lineAt(l?l.posAtEnd:e),o=l?l.posAtStart:s.from,c=l?l.posAtEnd:s.to;return c<n.state.doc.length&&c==s.to&&c++,ee.range(o,c)}}const b_=ge.ie&&ge.ie_version<=11;let ev=null,tv=0,nv=0;function Ck(n){if(!b_)return n.detail;let e=ev,t=nv;return ev=n,nv=Date.now(),tv=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(tv+1)%3:1}function v_(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),i=Ck(e),l=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),l=l.map(s.changes))},get(s,o,c){let f=n.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),d,p=Zb(n,f.pos,f.assoc,i);if(t.pos!=f.pos&&!o){let m=Zb(n,t.pos,t.assoc,i),x=Math.min(m.from,p.from),b=Math.max(m.to,p.to);p=x<p.from?ee.range(x,b):ee.range(b,x)}return o?l.replaceRange(l.main.extend(p.from,p.to)):c&&i==1&&l.ranges.length>1&&(d=S_(l,f.pos))?d:c?l.addRange(p):ee.create([p])}}}function S_(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:l}=n.ranges[t];if(i<=e&&l>=e)return ee.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}_i.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let l=n.docView.tile.nearest(e.target);if(l&&l.isWidget()){let s=l.posAtStart,o=s+l.length;(s>=t.to||o<=t.from)&&(t=ee.range(s,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",$f(n.state,jg,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};_i.dragend=n=>(n.inputState.draggedContent=null,!1);function iv(n,e,t,i){if(t=$f(n.state,Lg,t),!t)return;let l=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=i&&s&&m_(n,e)?{from:s.from,to:s.to}:null,c={from:l,insert:t},f=n.state.changes(o?[o,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(l,-1),head:f.mapPos(l,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}_i.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),l=0,s=()=>{++l==t.length&&iv(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(i[o]=c.result),s()},c.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return iv(n,e,i,!0),!0}return!1};_i.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=kk?null:e.clipboardData;return t?(wk(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(x_(n),!1)};function k_(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function w_(n){let e=[],t=[],i=!1;for(let l of n.selection.ranges)l.empty||(e.push(n.sliceDoc(l.from,l.to)),t.push(l));if(!e.length){let l=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>l&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),l=o.number}i=!0}return{text:$f(n,jg,e.join(n.lineBreak)),ranges:t,linewise:i}}let Fm=null;_i.copy=_i.cut=(n,e)=>{let{text:t,ranges:i,linewise:l}=w_(n.state);if(!t&&!l)return!1;Fm=l?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=kk?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(k_(n,t),!1)};const Ak=gl.define();function Mk(n,e){let t=[];for(let i of n.facet(nk)){let l=i(n,e);l&&t.push(l)}return t.length?n.update({effects:t,annotations:Ak.of(!0)}):null}function Tk(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Mk(n.state,e);t?n.dispatch(t):n.update([])}},10)}Si.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Tk(n)};Si.blur=n=>{n.observer.clearSelectionRange(),Tk(n)};Si.compositionstart=Si.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Si.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ge.chrome&&ge.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Si.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};_i.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let c=o[0],f=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return Ug(n,{from:f,to:d,insert:n.state.toText(s)},null),!0}}let l;if(ge.chrome&&ge.android&&(l=vk.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(l.key,l.keyCode),l.key=="Backspace"||l.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ge.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ge.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Si.compositionend(n,e),20),!1};const rv=new Set;function C_(n){rv.has(n)||(rv.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const lv=["pre-wrap","normal","pre-line","break-spaces"];let da=!1;function sv(){da=!1}class A_{constructor(e){this.lineWrapping=e,this.doc=Je.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return lv.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let l=e[i];l<0?i++:this.heightSamples[Math.floor(l*10)]||(t=!0,this.heightSamples[Math.floor(l*10)]=!0)}return t}refresh(e,t,i,l,s,o){let c=lv.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=i,this.textHeight=l,this.lineLength=s,f){this.heightSamples={};for(let d=0;d<o.length;d++){let p=o[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return f}}class M_{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ti{constructor(e,t,i,l,s){this.from=e,this.length=t,this.top=i,this.height=l,this._content=s}get type(){return typeof this._content=="number"?un.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Kl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ti(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ft=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(ft||(ft={}));const sf=.001;class wn{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>sf&&(da=!0),this.height=e)}replace(e,t,i){return wn.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,l){let s=this,o=i.doc;for(let c=l.length-1;c>=0;c--){let{fromA:f,toA:d,fromB:p,toB:m}=l[c],x=s.lineAt(f,ft.ByPosNoHeight,i.setDoc(t),0,0),b=x.to>=d?x:s.lineAt(d,ft.ByPosNoHeight,i,0,0);for(m+=b.to-d,d=b.to;c>0&&x.from<=l[c-1].toA;)f=l[c-1].fromA,p=l[c-1].fromB,c--,f<x.from&&(x=s.lineAt(f,ft.ByPosNoHeight,i,0,0));p+=x.from-f,f=x.from;let k=Ig.build(i.setDoc(o),e,p,m);s=kf(s,s.replace(f,d,k))}return s.updateHeight(i,0)}static empty(){return new ti(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,l=0,s=0;for(;;)if(t==i)if(l>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),i+=1+c.break,l-=c.size}else if(s>l*2){let c=e[i];c.break?e.splice(i,1,c.left,null,c.right):e.splice(i,1,c.left,c.right),i+=2+c.break,s-=c.size}else break;else if(l<s){let c=e[t++];c&&(l+=c.size)}else{let c=e[--i];c&&(s+=c.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new E_(wn.of(e.slice(0,t)),o,wn.of(e.slice(i)))}}function kf(n,e){return n==e?n:(n.constructor!=e.constructor&&(da=!0),e)}wn.prototype.size=1;const T_=_e.replace({});class Ek extends wn{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new Ti(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,l){return this.spaceAbove&&e<i+this.spaceAbove?new Ti(l,0,i,this.spaceAbove,T_):this.mainBlock(i,l)}lineAt(e,t,i,l,s){let o=this.mainBlock(l,s);return this.spaceAbove?this.blockAt(0,i,l,s).join(o):o}forEachLine(e,t,i,l,s,o){e<=s+this.length&&t>=s&&o(this.lineAt(0,ft.ByPos,i,l,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,l){return l&&l.from<=t&&l.more&&this.setMeasuredHeight(l),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ti extends Ek{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new Ti(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let l=i[0];return i.length==1&&(l instanceof ti||l instanceof an&&l.flags&4)&&Math.abs(this.length-l.length)<10?(l instanceof an?l=new ti(l.length,this.height,this.spaceAbove):l.height=this.height,this.outdated||(l.outdated=!1),l):wn.of(i)}updateHeight(e,t=0,i=!1,l){return l&&l.from<=t&&l.more?this.setMeasuredHeight(l):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class an extends wn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,l=e.doc.lineAt(t+this.length).number,s=l-i+1,o,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);o=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:l,perLine:o,perChar:c}}blockAt(e,t,i,l){let{firstLine:s,lastLine:o,perLine:c,perChar:f}=this.heightMetrics(t,l);if(t.lineWrapping){let d=l+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),p=t.doc.lineAt(d),m=c+p.length*f,x=Math.max(i,e-m/2);return new Ti(p.from,p.length,x,m,0)}else{let d=Math.max(0,Math.min(o-s,Math.floor((e-i)/c))),{from:p,length:m}=t.doc.line(s+d);return new Ti(p,m,i+c*d,c,0)}}lineAt(e,t,i,l,s){if(t==ft.ByHeight)return this.blockAt(e,i,l,s);if(t==ft.ByPosNoHeight){let{from:b,to:k}=i.doc.lineAt(e);return new Ti(b,k-b,0,0,0)}let{firstLine:o,perLine:c,perChar:f}=this.heightMetrics(i,s),d=i.doc.lineAt(e),p=c+d.length*f,m=d.number-o,x=l+c*m+f*(d.from-s-m);return new Ti(d.from,d.length,Math.max(l,Math.min(x,l+this.height-p)),p,0)}forEachLine(e,t,i,l,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:d}=this.heightMetrics(i,s);for(let p=e,m=l;p<=t;){let x=i.doc.lineAt(p);if(p==e){let k=x.number-c;m+=f*k+d*(e-s-k)}let b=f+d*x.length;o(new Ti(x.from,x.length,m,b,0)),m+=b,p=x.to+1}}replace(e,t,i){let l=this.length-t;if(l>0){let s=i[i.length-1];s instanceof an?i[i.length-1]=new an(s.length+l):i.push(null,new an(l-1))}if(e>0){let s=i[0];s instanceof an?i[0]=new an(e+s.length):i.unshift(new an(e-1),null)}return wn.of(i)}decomposeLeft(e,t){t.push(new an(e-1),null)}decomposeRight(e,t){t.push(null,new an(this.length-e-1))}updateHeight(e,t=0,i=!1,l){let s=t+this.length;if(l&&l.from<=t+this.length&&l.more){let o=[],c=Math.max(t,l.from),f=-1;for(l.from>t&&o.push(new an(l.from-t-1).updateHeight(e,t));c<=s&&l.more;){let p=e.doc.lineAt(c).length;o.length&&o.push(null);let m=l.heights[l.index++],x=0;m<0&&(x=-m,m=l.heights[l.index++]),f==-1?f=m:Math.abs(m-f)>=sf&&(f=-2);let b=new ti(p,m,x);b.outdated=!1,o.push(b),c+=p+1}c<=s&&o.push(null,new an(s-c).updateHeight(e,c));let d=wn.of(o);return(f<0||Math.abs(d.height-this.height)>=sf||Math.abs(f-this.heightMetrics(e,t).perLine)>=sf)&&(da=!0),kf(this,d)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class E_ extends wn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,l){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,l):this.right.blockAt(e,t,s,l+this.left.length+this.break)}lineAt(e,t,i,l,s){let o=l+this.left.height,c=s+this.left.length+this.break,f=t==ft.ByHeight?e<o:e<c,d=f?this.left.lineAt(e,t,i,l,s):this.right.lineAt(e,t,i,o,c);if(this.break||(f?d.to<c:d.from>c))return d;let p=t==ft.ByPosNoHeight?ft.ByPosNoHeight:ft.ByPos;return f?d.join(this.right.lineAt(c,p,i,o,c)):this.left.lineAt(c,p,i,l,s).join(d)}forEachLine(e,t,i,l,s,o){let c=l+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,i,l,s,o),t>=f&&this.right.forEachLine(e,t,i,c,f,o);else{let d=this.lineAt(f,ft.ByPos,i,l,s);e<d.from&&this.left.forEachLine(e,d.from-1,i,l,s,o),d.to>=e&&d.from<=t&&o(d),t>d.to&&this.right.forEachLine(d.to+1,t,i,c,f,o)}}replace(e,t,i){let l=this.left.length+this.break;if(t<l)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-l,t-l,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let c of i)s.push(c);if(e>0&&av(s,o-1),t<this.length){let c=s.length;this.decomposeRight(t,s),av(s,c)}return wn.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,l=i+this.break;if(e>=l)return this.right.decomposeRight(e-l,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<l&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?wn.of(this.break?[e,null,t]:[e,t]):(this.left=kf(this.left,e),this.right=kf(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,l){let{left:s,right:o}=this,c=t+s.length+this.break,f=null;return l&&l.from<=t+s.length&&l.more?f=s=s.updateHeight(e,t,i,l):s.updateHeight(e,t,i),l&&l.from<=c+o.length&&l.more?f=o=o.updateHeight(e,c,i,l):o.updateHeight(e,c,i),f?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function av(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof an&&(i=n[e+1])instanceof an&&n.splice(e-1,3,new an(t.length+1+i.length))}const O_=5;class Ig{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),l=this.nodes[this.nodes.length-1];l instanceof ti?l.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ti(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let l=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;l<0&&(l=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Ek(o,l,i)):(o||s||l>=O_)&&this.addLineDeco(l,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ti(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new an(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ti)return e;let t=new ti(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let l=this.ensureLine();l.length+=i,l.collapsed+=i,l.widgetHeight=Math.max(l.widgetHeight,e),l.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ti)&&!this.isCovered?this.nodes.push(new ti(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let l of this.nodes)l instanceof ti&&l.updateHeight(this.oracle,i),i+=l?l.length:1;return this.nodes}static build(e,t,i,l){let s=new Ig(i,e);return Ve.spans(t,i,l,s,0),s.finish(i)}}function __(n,e,t){let i=new N_;return Ve.compare(n,e,t,i,0),i.changes}class N_{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,l){(e<t||i&&i.heightRelevant||l&&l.heightRelevant)&&ta(e,t,this.changes,5)}}function D_(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,l=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(l.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(l.innerHeight,t.bottom);for(let d=n.parentNode;d&&d!=i.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let x=p.getBoundingClientRect();s=Math.max(s,x.left),o=Math.min(o,x.right),c=Math.max(c,x.top),f=Math.min(d==n.parentNode?l.innerHeight:f,x.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function B_(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function z_(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Rp{constructor(e,t,i,l){this.from=e,this.to=t,this.size=i,this.displaySize=l}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let l=e[i],s=t[i];if(l.from!=s.from||l.to!=s.to||l.size!=s.size)return!1}return!0}draw(e,t){return _e.replace({widget:new R_(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class R_ extends rr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ov{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=uv,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=yt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Hg).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new A_(t),this.stateDeco=e.facet(Yo).filter(i=>typeof i!="function"),this.heightMap=wn.empty().applyChanges(this.stateDeco,Je.empty,this.heightOracle.setDoc(e.doc),[new xi(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=_e.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let l=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>l>=s&&l<=o)){let{from:s,to:o}=this.lineBlockAt(l);e.push(new Bc(s,o))}}return this.viewports=e.sort((i,l)=>i.from-l.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?uv:new Vg(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Mo(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Yo).filter(p=>typeof p!="function");let l=e.changedRanges,s=xi.extendWithRanges(l,__(i,this.stateDeco,e?e.changes:Bt.empty(this.state.doc.length))),o=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);sv(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||da)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let f=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let d=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(rk)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),l=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?yt.RTL:yt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=o||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:ne,scaleY:Q}=V2(t,c);(ne>.005&&Math.abs(this.scaleX-ne)>.005||Q>.005&&Math.abs(this.scaleY-Q)>.005)&&(this.scaleX=ne,this.scaleY=Q,d|=16,o=f=!0)}let m=(parseInt(i.paddingTop)||0)*this.scaleY,x=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=x)&&(this.paddingTop=m,this.paddingBottom=x,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(l.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=P2(e.scrollDOM);let k=(this.printing?z_:D_)(t,this.paddingTop),w=k.top-this.pixelViewport.top,M=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(f=!0)),!this.inView&&!this.scrollTarget&&!B_(e.dom))return 0;let L=c.width;if((this.contentDOMWidth!=L||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),f){let ne=e.docView.measureVisibleLineHeights(this.viewport);if(l.mustRefreshForHeights(ne)&&(o=!0),o||l.lineWrapping&&Math.abs(L-this.contentDOMWidth)>l.charWidth){let{lineHeight:Q,charWidth:D,textHeight:H}=e.docView.measureTextSize();o=Q>0&&l.refresh(s,Q,D,H,Math.max(5,L/D),ne),o&&(e.docView.minWidth=0,d|=16)}w>0&&M>0?p=Math.max(w,M):w<0&&M<0&&(p=Math.min(w,M)),sv();for(let Q of this.viewports){let D=Q.from==this.viewport.from?ne:e.docView.measureVisibleLineHeights(Q);this.heightMap=(o?wn.empty().applyChanges(this.stateDeco,Je.empty,this.heightOracle,[new xi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(l,0,o,new M_(Q.from,D))}da&&(d|=2)}let R=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return R&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||R)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),l=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:c}=this,f=new Bc(l.lineAt(o-i*1e3,ft.ByHeight,s,0,0).from,l.lineAt(c+(1-i)*1e3,ft.ByHeight,s,0,0).to);if(t){let{head:d}=t.range;if(d<f.from||d>f.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=l.lineAt(d,ft.ByPos,s,0,0),x;t.y=="center"?x=(m.top+m.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&d<f.from?x=m.top:x=m.bottom-p,f=new Bc(l.lineAt(x-1e3/2,ft.ByHeight,s,0,0).from,l.lineAt(x+p+1e3/2,ft.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let i=t.mapPos(e.from,-1),l=t.mapPos(e.to,1);return new Bc(this.heightMap.lineAt(i,ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(l,ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:l}=this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,ft.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:c}=this;return(e==0||l<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(i,250)))&&l>o-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let l of e)t.touchesRange(l.from,l.to)||i.push(new Rp(t.mapPos(l.from),t.mapPos(l.to),l.size,l.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,l=i?1e4:2e3,s=l>>1,o=l<<1;if(this.defaultTextDirection!=yt.LTR&&!i)return[];let c=[],f=(p,m,x,b)=>{if(m-p<s)return;let k=this.state.selection.main,w=[k.from];k.empty||w.push(k.to);for(let T of w)if(T>p&&T<m){f(p,T-10,x,b),f(T+10,m,x,b);return}let M=j_(e,T=>T.from>=x.from&&T.to<=x.to&&Math.abs(T.from-p)<s&&Math.abs(T.to-m)<s&&!w.some(L=>T.from<L&&T.to>L));if(!M){if(m<x.to&&t&&i&&t.visibleRanges.some(R=>R.from<=m&&R.to>=m)){let R=t.moveToLineBoundary(ee.cursor(m),!1,!0).head;R>p&&(m=R)}let T=this.gapSize(x,p,m,b),L=i||T<2e6?T:2e6;M=new Rp(p,m,T,L)}c.push(M)},d=p=>{if(p.length<o||p.type!=un.Text)return;let m=L_(p.from,p.to,this.stateDeco);if(m.total<o)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,b,k;if(i){let w=l/this.heightOracle.lineLength*this.heightOracle.lineHeight,M,T;if(x!=null){let L=Rc(m,x),R=((this.visibleBottom-this.visibleTop)/2+w)/p.height;M=L-R,T=L+R}else M=(this.visibleTop-p.top-w)/p.height,T=(this.visibleBottom-p.top+w)/p.height;b=zc(m,M),k=zc(m,T)}else{let w=m.total*this.heightOracle.charWidth,M=l*this.heightOracle.charWidth,T=0;if(w>2e6)for(let D of e)D.from>=p.from&&D.from<p.to&&D.size!=D.displaySize&&D.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=D.size-D.displaySize);let L=this.pixelViewport.left+T,R=this.pixelViewport.right+T,ne,Q;if(x!=null){let D=Rc(m,x),H=((R-L)/2+M)/w;ne=D-H,Q=D+H}else ne=(L-M)/w,Q=(R+M)/w;b=zc(m,ne),k=zc(m,Q)}b>p.from&&f(p.from,b,p,m),k<p.to&&f(k,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(e,t,i,l){let s=Rc(l,i)-Rc(l,t);return this.heightOracle.lineWrapping?e.height*s:l.total*this.heightOracle.charWidth*s}updateLineGaps(e){Rp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=_e.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Ve.spans(t,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let l=0;if(i.length!=this.visibleRanges.length)l=12;else for(let s=0;s<i.length&&!(l&8);s++){let o=this.visibleRanges[s],c=i[s];(o.from!=c.from||o.to!=c.to)&&(l|=4,e&&e.mapPos(o.from,-1)==c.from&&e.mapPos(o.to,1)==c.to||(l|=8))}return this.visibleRanges=i,l}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Mo(this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Mo(this.heightMap.lineAt(this.scaler.fromDOM(e),ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Mo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Bc{constructor(e,t){this.from=e,this.to=t}}function L_(n,e,t){let i=[],l=n,s=0;return Ve.spans(t,n,e,{span(){},point(o,c){o>l&&(i.push({from:l,to:o}),s+=o-l),l=c}},20),l<e&&(i.push({from:l,to:e}),s+=e-l),{total:s,ranges:i}}function zc({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let l=0;;l++){let{from:s,to:o}=e[l],c=o-s;if(i<=c)return s+i;i-=c}}function Rc(n,e){let t=0;for(let{from:i,to:l}of n.ranges){if(e<=l){t+=e-i;break}t+=l-i}return t/n.total}function j_(n,e){for(let t of n)if(e(t))return t}const uv={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Vg{constructor(e,t,i){let l=0,s=0,o=0;this.viewports=i.map(({from:c,to:f})=>{let d=t.lineAt(c,ft.ByPos,e,0,0).top,p=t.lineAt(f,ft.ByPos,e,0,0).bottom;return l+=p-d,{from:c,to:f,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-l)/(t.height-l);for(let c of this.viewports)c.domTop=o+(c.top-s)*this.scale,o=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,i=0,l=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return l+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,l=s.domBottom}}fromDOM(e){for(let t=0,i=0,l=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-l)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,l=s.domBottom}}eq(e){return e instanceof Vg?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Mo(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Ti(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(l=>Mo(l,e)):n._content)}const Lc=ye.define({combine:n=>n.join(" ")}),Gm=ye.define({combine:n=>n.indexOf(!0)>-1}),Ym=Tr.newName(),Ok=Tr.newName(),_k=Tr.newName(),Nk={"&light":"."+Ok,"&dark":"."+_k};function Qm(n,e,t){return new Tr(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,l=>{if(l=="&")return n;if(!t||!t[l])throw new RangeError(`Unsupported selector: ${l}`);return t[l]}):n+" "+i}})}const H_=Qm("."+Ym,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Nk),U_={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Lp=ge.ie&&ge.ie_version<=11;class I_{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new yO,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ge.ie&&ge.ie_version<=11||ge.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ge.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ge.chrome&&ge.chrome_version<126)&&(this.editContext=new q_(e),e.state.facet(Ar)&&(e.contentDOM.editContext=this.editContext.editContext)),Lp&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,l=this.selectionRange;if(i.state.facet(Ar)?i.root.activeElement!=this.dom:!rf(this.dom,l))return;let s=l.anchorNode&&i.docView.tile.nearest(l.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ge.ie&&ge.ie_version<=11||ge.android&&ge.chrome)&&!i.state.selection.main.empty&&l.focusNode&&Bo(l.focusNode,l.focusOffset,l.anchorNode,l.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Fo(e.root);if(!t)return!1;let i=ge.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&V_(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let l=rf(this.dom,i);return l&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&bO(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),l&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,U_),Lp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Lp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let l=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&na(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(l)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,l=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(l=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:l}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),l=this.selectionChanged&&rf(this.dom,this.selectionRange);if(e<0&&!l)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new l_(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,l=xk(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),l}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=cv(t,e.previousSibling||e.target.previousSibling,-1),l=cv(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:l?t.posBefore(l):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ar)!=e.state.facet(Ar)&&(e.view.contentDOM.editContext=e.state.facet(Ar)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function cv(n,e,t){for(;e;){let i=qt.get(e);if(i&&i.parent==n)return i;let l=e.parentNode;e=l!=n.dom?l:t>0?e.nextSibling:e.previousSibling}return null}function fv(n,e){let t=e.startContainer,i=e.startOffset,l=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor,1);return Bo(o.node,o.offset,l,s)&&([t,i,l,s]=[l,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:l,focusOffset:s}}function V_(n,e){if(e.getComposedRanges){let l=e.getComposedRanges(n.root)[0];if(l)return fv(n,l)}let t=null;function i(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?fv(n,t):null}class q_{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let l=e.state.selection.main,{anchor:s,head:o}=l,c=this.toEditorPos(i.updateRangeStart),f=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:c,drifted:!1});let d=f-c>i.text.length;c==this.from&&s<this.from?c=s:f==this.to&&s>this.to&&(f=s);let p=bk(e.state.sliceDoc(c,f),i.text,(d?l.from:l.to)-c,d?"end":null);if(!p){let x=ee.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));x.main.eq(l)||e.dispatch({selection:x,userEvent:"select"});return}let m={from:p.from+c,to:p.toA+c,insert:Je.of(i.text.slice(p.from,p.toB).split(`
`))};if((ge.mac||ge.android)&&m.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:f,insert:Je.of([i.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let x=this.to-this.from+(m.to-m.from+m.insert.length);Ug(e,m,ee.single(this.toEditorPos(i.selectionStart,x),this.toEditorPos(i.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let l=[],s=null;for(let o=this.toEditorPos(i.rangeStart),c=this.toEditorPos(i.rangeEnd);o<c;o++){let f=e.coordsForChar(o);s=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||s||new DOMRect,l.push(s)}t.updateCharacterBounds(i.rangeStart,l)},this.handlers.textformatupdate=i=>{let l=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(c)){let f=this.toEditorPos(s.rangeStart),d=this.toEditorPos(s.rangeEnd);if(f<d){let p=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;l.push(_e.mark({attributes:{style:p}}).range(f,d))}}}e.dispatch({effects:sk.of(_e.set(l))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let l=Fo(i.root);l&&l.rangeCount&&this.editContext.updateSelectionBounds(l.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,l=this.pendingContextChange;return e.changes.iterChanges((s,o,c,f,d)=>{if(i)return;let p=d.length-(o-s);if(l&&o>=l.to)if(l.from==s&&l.to==o&&l.insert.eq(d)){l=this.pendingContextChange=null,t+=p,this.to+=p;return}else l=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=p,this.to+=p;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+d.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),d.toString()),this.to+=p}t+=p}),l&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(l=>!l.isUserEvent("input.type")&&l.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),l=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=l)&&this.editContext.updateSelection(i,l)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class de{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(l=>l.forEach(s=>i(s,this)))||(l=>this.update(l)),this.dispatch=this.dispatch.bind(this),this._root=e.root||xO(e.parent)||document,this.viewState=new ov(e.state||Ie.create(e)),e.scrollTo&&e.scrollTo.is(_c)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet($s).map(l=>new _p(l));for(let l of this.plugins)l.update(this);this.observer=new I_(this),this.inputState=new u_(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Kb(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Vt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,l,s=this.state;for(let x of e){if(x.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=x.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,c=0,f=null;e.some(x=>x.annotation(Ak))?(this.inputState.notifiedFocused=o,c=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,f=Mk(s,o),f||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(p=null)):this.observer.clear(),s.facet(Ie.phrases)!=this.state.facet(Ie.phrases))return this.setState(s);l=bf.create(this,s,e),l.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(m&&(m=m.map(x.changes)),x.scrollIntoView){let{main:b}=x.state.selection;m=new ia(b.empty?b:ee.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of x.effects)b.is(_c)&&(m=b.value.clip(this.state))}this.viewState.update(l,m),this.bidiCache=wf.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),t=this.docView.update(l),this.state.facet(Co)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(Lc)!=l.state.facet(Lc)&&(this.viewState.mustMeasureContent=!0),(t||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!l.empty)for(let x of this.state.facet(Im))try{x(l)}catch(b){Ji(this.state,b,"update listener")}(f||p)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),p&&!xk(this,p)&&d.force&&na(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new ov(e),this.plugins=e.facet($s).map(i=>new _p(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Kb(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet($s),i=e.state.facet($s);if(t!=i){let l=[];for(let s of i){let o=t.indexOf(s);if(o<0)l.push(new _p(s));else{let c=this.plugins[o];c.mustUpdate=e,l.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=l,this.pluginMap.clear()}else for(let l of this.plugins)l.mustUpdate=e;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Ji(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,l=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(l-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(o<0)if(P2(i))s=-1,o=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(l);s=b.from,o=b.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];f&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(b=>{try{return b.read(this)}catch(k){return Ji(this.state,k),hv}}),m=bf.create(this,this.state,[]),x=!1;m.flags|=f,t?t.flags|=f:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),x=this.docView.update(m),x&&this.docViewUpdate());for(let b=0;b<d.length;b++)if(p[b]!=hv)try{let k=d[b];k.write&&k.write(p[b],this)}catch(k){Ji(this.state,k)}if(x&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let k=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(k>1||k<-1){l=l+k,i.scrollTop=l/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(Im))c(t)}get themeClasses(){return Ym+" "+(this.state.facet(Gm)?_k:Ok)+" "+this.state.facet(Lc)}updateAttrs(){let e=dv(this,ak,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ar)?"true":"false",class:"cm-content",style:`${ge.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),dv(this,Hg,t);let i=this.observer.ignore(()=>{let l=qb(this.contentDOM,this.contentAttrs,t),s=qb(this.dom,this.editorAttrs,e);return l||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let l of i.effects)if(l.is(de.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=l.value}}mountStyles(){this.styleModules=this.state.facet(Co);let e=this.state.facet(de.cspNonce);Tr.mount(this.root,this.styleModules.concat(H_).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return zp(this,e,Xb(this,e,t,i))}moveByGroup(e,t){return zp(this,e,Xb(this,e,t,i=>e_(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),l=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return ee.cursor(s.side(t,l)+e.from,s.forward(!t,l)?1:-1)}moveToLineBoundary(e,t,i=!0){return ZO(this,e,t,i)}moveVertically(e,t,i){return zp(this,e,t_(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=Pm(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),Pm(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let l=this.state.doc.lineAt(e),s=this.bidiSpans(l),o=s[Mr.find(s,e-l.from,-1,t)];return xf(i,o.dir==yt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ik)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>P_)return X2(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||K2(s.isolates,i=Gb(this,e))))return s.order;i||(i=Gb(this,e));let l=MO(e.text,t,i);return this.bidiCache.push(new wf(e.from,e.to,t,i,!0,l)),l}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ge.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{q2(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _c.of(new ia(typeof e=="number"?ee.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return _c.of(new ia(ee.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return cn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return cn.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=Tr.newName(),l=[Lc.of(i),Co.of(Qm(`.${i}`,e))];return t&&t.dark&&l.push(Gm.of(!0)),l}static baseTheme(e){return Zl.lowest(Co.of(Qm("."+Ym,e,Nk)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),l=i&&qt.get(i)||qt.get(e);return((t=l?.root)===null||t===void 0?void 0:t.view)||null}}de.styleModule=Co;de.inputHandler=tk;de.clipboardInputFilter=Lg;de.clipboardOutputFilter=jg;de.scrollHandler=lk;de.focusChangeEffect=nk;de.perLineTextDirection=ik;de.exceptionSink=ek;de.updateListener=Im;de.editable=Ar;de.mouseSelectionStyle=Z2;de.dragMovesSelection=J2;de.clickAddsSelectionRange=$2;de.decorations=Yo;de.blockWrappers=ok;de.outerDecorations=uk;de.atomicRanges=su;de.bidiIsolatedRanges=ck;de.scrollMargins=fk;de.darkTheme=Gm;de.cspNonce=ye.define({combine:n=>n.length?n[0]:""});de.contentAttributes=Hg;de.editorAttributes=ak;de.lineWrapping=de.contentAttributes.of({class:"cm-lineWrapping"});de.announce=Ge.define();const P_=4096,hv={};class wf{constructor(e,t,i,l,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=l,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],l=e.length?e[e.length-1].dir:yt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==l&&!t.touchesRange(o.from,o.to)&&i.push(new wf(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function dv(n,e,t){for(let i=n.state.facet(e),l=i.length-1;l>=0;l--){let s=i[l],o=typeof s=="function"?s(n):s;o&&Bg(o,t)}return t}const F_=ge.mac?"mac":ge.windows?"win":ge.linux?"linux":"key";function G_(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let l,s,o,c;for(let f=0;f<t.length-1;++f){const d=t[f];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))l=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return l&&(i="Alt-"+i),s&&(i="Ctrl-"+i),c&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function jc(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const Y_=Zl.default(de.domEventHandlers({keydown(n,e){return zk(Bk(e.state),n,e,"editor")}})),Dk=ye.define({enables:Y_}),pv=new WeakMap;function Bk(n){let e=n.facet(Dk),t=pv.get(e);return t||pv.set(e,t=X_(e.reduce((i,l)=>i.concat(l),[]))),t}function Q_(n,e,t){return zk(Bk(n.state),e,n,t)}let ll=null;const K_=4e3;function X_(n,e=F_){let t=Object.create(null),i=Object.create(null),l=(o,c)=>{let f=i[o];if(f==null)i[o]=c;else if(f!=c)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,c,f,d,p)=>{var m,x;let b=t[o]||(t[o]=Object.create(null)),k=c.split(/ (?!$)/).map(T=>G_(T,e));for(let T=1;T<k.length;T++){let L=k.slice(0,T).join(" ");l(L,!0),b[L]||(b[L]={preventDefault:!0,stopPropagation:!1,run:[R=>{let ne=ll={view:R,prefix:L,scope:o};return setTimeout(()=>{ll==ne&&(ll=null)},K_),!0}]})}let w=k.join(" ");l(w,!1);let M=b[w]||(b[w]={preventDefault:!1,stopPropagation:!1,run:((x=(m=b._any)===null||m===void 0?void 0:m.run)===null||x===void 0?void 0:x.slice())||[]});f&&M.run.push(f),d&&(M.preventDefault=!0),p&&(M.stopPropagation=!0)};for(let o of n){let c=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let d of c){let p=t[d]||(t[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=o;for(let x in p)p[x].run.push(b=>m(b,Km))}let f=o[e]||o.key;if(f)for(let d of c)s(d,f,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(d,"Shift-"+f,o.shift,o.preventDefault,o.stopPropagation)}return t}let Km=null;function zk(n,e,t,i){Km=e;let l=uO(e),s=ml(l,0),o=iu(s)==l.length&&l!=" ",c="",f=!1,d=!1,p=!1;ll&&ll.view==t&&ll.scope==i&&(c=ll.prefix+" ",Sk.indexOf(e.keyCode)<0&&(d=!0,ll=null));let m=new Set,x=M=>{if(M){for(let T of M.run)if(!m.has(T)&&(m.add(T),T(t)))return M.stopPropagation&&(p=!0),!0;M.preventDefault&&(M.stopPropagation&&(p=!0),d=!0)}return!1},b=n[i],k,w;return b&&(x(b[c+jc(l,e,!o)])?f=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ge.windows&&e.ctrlKey&&e.altKey)&&!(ge.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(k=fl[e.keyCode])&&k!=l?(x(b[c+jc(k,e,!0)])||e.shiftKey&&(w=qo[e.keyCode])!=l&&w!=k&&x(b[c+jc(w,e,!1)]))&&(f=!0):o&&e.shiftKey&&x(b[c+jc(l,e,!0)])&&(f=!0),!f&&x(b._any)&&(f=!0)),d&&(f=!0),f&&p&&e.stopPropagation(),Km=null,f}class au{constructor(e,t,i,l,s){this.className=e,this.left=t,this.top=i,this.width=l,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let l=e.coordsAtPos(i.head,i.assoc||1);if(!l)return[];let s=Rk(e);return[new au(t,l.left-s.left,l.top-s.top,null,l.bottom-l.top)]}else return W_(e,t,i)}}function Rk(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==yt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function mv(n,e,t,i){let l=n.coordsAtPos(e,t*2);if(!l)return i;let s=n.dom.getBoundingClientRect(),o=(l.top+l.bottom)/2,c=n.posAtCoords({x:s.left+1,y:o}),f=n.posAtCoords({x:s.right-1,y:o});return c==null||f==null?i:{from:Math.max(i.from,Math.min(c,f)),to:Math.min(i.to,Math.max(c,f))}}function W_(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),l=Math.min(t.to,n.viewport.to),s=n.textDirection==yt.LTR,o=n.contentDOM,c=o.getBoundingClientRect(),f=Rk(n),d=o.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),m=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),x=c.right-(p?parseInt(p.paddingRight):0),b=qm(n,i,1),k=qm(n,l,-1),w=b.type==un.Text?b:null,M=k.type==un.Text?k:null;if(w&&(n.lineWrapping||b.widgetLineBreaks)&&(w=mv(n,i,1,w)),M&&(n.lineWrapping||k.widgetLineBreaks)&&(M=mv(n,l,-1,M)),w&&M&&w.from==M.from&&w.to==M.to)return L(R(t.from,t.to,w));{let Q=w?R(t.from,null,w):ne(b,!1),D=M?R(null,t.to,M):ne(k,!0),H=[];return(w||b).to<(M||k).from-(w&&M?1:0)||b.widgetLineBreaks>1&&Q.bottom+n.defaultLineHeight/2<D.top?H.push(T(m,Q.bottom,x,D.top)):Q.bottom<D.top&&n.elementAtHeight((Q.bottom+D.top)/2).type==un.Text&&(Q.bottom=D.top=(Q.bottom+D.top)/2),L(Q).concat(H).concat(L(D))}function T(Q,D,H,se){return new au(e,Q-f.left,D-f.top,H-Q,se-D)}function L({top:Q,bottom:D,horizontal:H}){let se=[];for(let Z=0;Z<H.length;Z+=2)se.push(T(H[Z],Q,H[Z+1],D));return se}function R(Q,D,H){let se=1e9,Z=-1e9,ae=[];function te(W,P,B,G,ce){let me=n.coordsAtPos(W,W==H.to?-2:2),E=n.coordsAtPos(B,B==H.from?2:-2);!me||!E||(se=Math.min(me.top,E.top,se),Z=Math.max(me.bottom,E.bottom,Z),ce==yt.LTR?ae.push(s&&P?m:me.left,s&&G?x:E.right):ae.push(!s&&G?m:E.left,!s&&P?x:me.right))}let F=Q??H.from,re=D??H.to;for(let W of n.visibleRanges)if(W.to>F&&W.from<re)for(let P=Math.max(W.from,F),B=Math.min(W.to,re);;){let G=n.state.doc.lineAt(P);for(let ce of n.bidiSpans(G)){let me=ce.from+G.from,E=ce.to+G.from;if(me>=B)break;E>P&&te(Math.max(me,P),Q==null&&me<=F,Math.min(E,B),D==null&&E>=re,ce.dir)}if(P=G.to+1,P>=B)break}return ae.length==0&&te(F,Q==null,re,D==null,n.textDirection),{top:se,bottom:Z,horizontal:ae}}function ne(Q,D){let H=c.top+(D?Q.top:Q.bottom);return{top:H,bottom:H,horizontal:[]}}}function $_(n,e){return n.constructor==e.constructor&&n.eq(e)}class J_{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(af)!=e.state.facet(af)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(af);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!$_(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let l of e)l.update&&t&&l.constructor&&this.drawn[i].constructor&&l.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(l.draw(),t);for(;t;){let l=t.nextSibling;t.remove(),t=l}this.drawn=e,ge.safari&&ge.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const af=ye.define();function Lk(n){return[cn.define(e=>new J_(e,n)),af.of(n)]}const Qo=ye.define({combine(n){return ts(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function jk(n={}){return[Qo.of(n),Z_,eN,tN,rk.of(!0)]}function Hk(n){return n.startState.facet(Qo)!=n.state.facet(Qo)}const Z_=Lk({above:!0,markers(n){let{state:e}=n,t=e.facet(Qo),i=[];for(let l of e.selection.ranges){let s=l==e.selection.main;if(l.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=l.empty?l:ee.cursor(l.head,l.head>l.anchor?-1:1);for(let f of au.forRange(n,o,c))i.push(f)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Hk(n);return t&&gv(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){gv(e.state,n)},class:"cm-cursorLayer"});function gv(n,e){e.style.animationDuration=n.facet(Qo).cursorBlinkRate+"ms"}const eN=Lk({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:au.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||Hk(n)},class:"cm-selectionLayer"}),tN=Zl.highest(de.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Uk=Ge.define({map(n,e){return n==null?null:e.mapPos(n)}}),To=fn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(Uk)?i.value:t,n)}}),nN=cn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(To);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(To)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(To),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(To)!=n&&this.view.dispatch({effects:Uk.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Ik(){return[To,nN]}function yv(n,e,t,i,l){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,c;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)l(o+c.index,c)}function iN(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:l,to:s}of t)l=Math.max(n.state.doc.lineAt(l).from,l-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=l?i[i.length-1].to=s:i.push({from:l,to:s});return i}class rN{constructor(e){const{regexp:t,decoration:i,decorate:l,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,l)this.addMatch=(c,f,d,p)=>l(p,d,d+c[0].length,c,f);else if(typeof i=="function")this.addMatch=(c,f,d,p)=>{let m=i(c,f,d);m&&p(d,d+c[0].length,m)};else if(i)this.addMatch=(c,f,d,p)=>p(d,d+c[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new ii,i=t.add.bind(t);for(let{from:l,to:s}of iN(e,this.maxLength))yv(e.state.doc,this.regexp,l,s,(o,c)=>this.addMatch(c,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,l=-1;return e.docChanged&&e.changes.iterChanges((s,o,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(i=Math.min(c,i),l=Math.max(f,l))}),e.viewportMoved||l-i>1e3?this.createDeco(e.view):l>-1?this.updateRange(e.view,t.map(e.changes),i,l):t}updateRange(e,t,i,l){for(let s of e.visibleRanges){let o=Math.max(s.from,i),c=Math.min(s.to,l);if(c>=o){let f=e.state.doc.lineAt(o),d=f.to<c?e.state.doc.lineAt(c):f,p=Math.max(s.from,f.from),m=Math.min(s.to,d.to);if(this.boundary){for(;o>f.from;o--)if(this.boundary.test(f.text[o-1-f.from])){p=o;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){m=c;break}}let x=[],b,k=(w,M,T)=>x.push(T.range(w,M));if(f==d)for(this.regexp.lastIndex=p-f.from;(b=this.regexp.exec(f.text))&&b.index<m-f.from;)this.addMatch(b,e,b.index+f.from,k);else yv(e.state.doc,this.regexp,p,m,(w,M)=>this.addMatch(M,e,w,k));t=t.update({filterFrom:p,filterTo:m,filter:(w,M)=>w<p||M>m,add:x})}}return t}}const Xm=/x/.unicode!=null?"gu":"g",lN=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Xm),sN={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let jp=null;function aN(){var n;if(jp==null&&typeof document<"u"&&document.body){let e=document.body.style;jp=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return jp||!1}const of=ye.define({combine(n){let e=ts(n,{render:null,specialChars:lN,addSpecialChars:null});return(e.replaceTabs=!aN())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Xm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Xm)),e}});function Vk(n={}){return[of.of(n),oN()]}let xv=null;function oN(){return xv||(xv=cn.fromClass(class{constructor(n){this.view=n,this.decorations=_e.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(of)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new rN({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:l}=t.state,s=ml(e[0],0);if(s==9){let o=l.lineAt(i),c=t.state.tabSize,f=ya(o.text,c,i-o.from);return _e.replace({widget:new hN((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=_e.replace({widget:new fN(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(of);n.startState.facet(of)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const uN="";function cN(n){return n>=32?uN:n==10?"":String.fromCharCode(9216+n)}class fN extends rr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=cN(this.code),i=e.state.phrase("Control character")+" "+(sN[this.code]||"0x"+this.code.toString(16)),l=this.options.render&&this.options.render(this.code,i,t);if(l)return l;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class hN extends rr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function qk(){return pN}const dN=_e.line({class:"cm-activeLine"}),pN=cn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let l=n.lineBlockAt(i.head);l.from>e&&(t.push(dN.range(l.from)),e=l.from)}return _e.set(t)}},{decorations:n=>n.decorations}),Wm=2e3;function mN(n,e,t){let i=Math.min(e.line,t.line),l=Math.max(e.line,t.line),s=[];if(e.off>Wm||t.off>Wm||e.col<0||t.col<0){let o=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=i;f<=l;f++){let d=n.doc.line(f);d.length<=c&&s.push(ee.range(d.from+o,d.to+c))}}else{let o=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=i;f<=l;f++){let d=n.doc.line(f),p=Om(d.text,o,n.tabSize,!0);if(p<0)s.push(ee.cursor(d.to));else{let m=Om(d.text,c,n.tabSize);s.push(ee.range(d.from+p,d.from+m))}}}return s}function gN(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function bv(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),l=t-i.from,s=l>Wm?-1:l==i.length?gN(n,e.clientX):ya(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:l}}function yN(n,e){let t=bv(n,e),i=n.state.selection;return t?{update(l){if(l.docChanged){let s=l.changes.mapPos(l.startState.doc.line(t.line).from),o=l.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(l.changes)}},get(l,s,o){let c=bv(n,l);if(!c)return i;let f=mN(n.state,t,c);return f.length?o?ee.create(f.concat(i.ranges)):ee.create(f):i}}:null}function Pk(n){let e=(t=>t.altKey&&t.button==0);return de.mouseSelectionStyle.of((t,i)=>e(i)?yN(t,i):null)}const xN={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},bN={style:"cursor: crosshair"};function Fk(n={}){let[e,t]=xN[n.key||"Alt"],i=cn.fromClass(class{constructor(l){this.view=l,this.isDown=!1}set(l){this.isDown!=l&&(this.isDown=l,this.view.update([]))}},{eventObservers:{keydown(l){this.set(l.keyCode==e||t(l))},keyup(l){(l.keyCode==e||!t(l))&&this.set(!1)},mousemove(l){this.set(t(l))}}});return[i,de.contentAttributes.of(l=>{var s;return!((s=l.plugin(i))===null||s===void 0)&&s.isDown?bN:null})]}const vv=ye.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Cf(n,e){let t=n.plugin(Gk),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const Gk=cn.fromClass(class{constructor(n){this.input=n.state.facet(Af),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(vv);this.top=new Hc(n,!0,e.topContainer),this.bottom=new Hc(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(vv);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Hc(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Hc(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Af);if(t!=this.input){let i=t.filter(f=>f),l=[],s=[],o=[],c=[];for(let f of i){let d=this.specs.indexOf(f),p;d<0?(p=f(n.view),c.push(p)):(p=this.panels[d],p.update&&p.update(n)),l.push(p),(p.top?s:o).push(p)}this.specs=i,this.panels=l,this.top.sync(s),this.bottom.sync(o);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Hc{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Sv(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Sv(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Sv(n){let e=n.nextSibling;return n.remove(),e}const Af=ye.define({enables:Gk});class nr extends cl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}nr.prototype.elementClass="";nr.prototype.toDOM=void 0;nr.prototype.mapMode=Hn.TrackBefore;nr.prototype.startSide=nr.prototype.endSide=-1;nr.prototype.point=!0;const uf=ye.define(),vN=ye.define(),SN={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ve.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Ro=ye.define();function Yk(n){return[Qk(),Ro.of({...SN,...n})]}const kv=ye.define({combine:n=>n.some(e=>e)});function Qk(n){return[kN]}const kN=cn.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Ro).map(e=>new Cv(n,e)),this.fixed=!n.state.facet(kv);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(kv)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ve.iter(this.view.state.facet(uf),this.view.viewport.from),i=[],l=this.gutters.map(s=>new wN(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let c of s.type)if(c.type==un.Text&&o){$m(t,i,c.from);for(let f of l)f.line(this.view,c,i);o=!1}else if(c.widget)for(let f of l)f.widget(this.view,c)}else if(s.type==un.Text){$m(t,i,s.from);for(let o of l)o.line(this.view,s,i)}else if(s.widget)for(let o of l)o.widget(this.view,s);for(let s of l)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Ro),t=n.state.facet(Ro),i=n.docChanged||n.heightChanged||n.viewportChanged||!Ve.eq(n.startState.facet(uf),n.state.facet(uf),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let l of this.gutters)l.update(n)&&(i=!0);else{i=!0;let l=[];for(let s of t){let o=e.indexOf(s);o<0?l.push(new Cv(this.view,s)):(this.gutters[o].update(n),l.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),l.indexOf(s)<0&&s.destroy();for(let s of l)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=l}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,l=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==yt.LTR?{left:i,right:l}:{right:i,left:l}})});function wv(n){return Array.isArray(n)?n:[n]}function $m(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class wN{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Ve.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:l}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==l.elements.length){let c=new Kk(e,o,s,i);l.elements.push(c),l.dom.appendChild(c.dom)}else l.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let l=[];$m(this.cursor,l,t.from),i.length&&(l=l.concat(i));let s=this.gutter.config.lineMarker(e,t,l);s&&l.unshift(s);let o=this.gutter;l.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,l)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),l=i?[i]:null;for(let s of e.state.facet(vN)){let o=s(e,t.widget,t);o&&(l||(l=[])).push(o)}l&&this.addElement(e,t,l)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Cv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,l=>{let s=l.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();o=(f.top+f.bottom)/2}else o=l.clientY;let c=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,c,l)&&l.preventDefault()});this.markers=wv(t.markers(e)),t.initialSpacer&&(this.spacer=new Kk(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=wv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let l=this.config.updateSpacer(this.spacer.markers[0],e);l!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[l])}let i=e.view.viewport;return!Ve.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Kk{constructor(e,t,i,l){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,l)}update(e,t,i,l){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),CN(this.markers,l)||this.setMarkers(e,l)}setMarkers(e,t){let i="cm-gutterElement",l=this.dom.firstChild;for(let s=0,o=0;;){let c=o,f=s<t.length?t[s++]:null,d=!1;if(f){let p=f.elementClass;p&&(i+=" "+p);for(let m=o;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,d=!0;break}}else c=this.markers.length;for(;o<c;){let p=this.markers[o++];if(p.toDOM){p.destroy(l);let m=l.nextSibling;l.remove(),l=m}}if(!f)break;f.toDOM&&(d?l=l.nextSibling:this.dom.insertBefore(f.toDOM(e),l)),d&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function CN(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const AN=ye.define(),MN=ye.define(),Js=ye.define({combine(n){return ts(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let l in t){let s=i[l],o=t[l];i[l]=s?(c,f,d)=>s(c,f,d)||o(c,f,d):o}return i}})}});class Hp extends nr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Up(n,e){return n.state.facet(Js).formatNumber(e,n.state)}const TN=Ro.compute([Js],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(AN)},lineMarker(e,t,i){return i.some(l=>l.toDOM)?null:new Hp(Up(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let l of e.state.facet(MN)){let s=l(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Js)!=e.state.facet(Js),initialSpacer(e){return new Hp(Up(e,Av(e.state.doc.lines)))},updateSpacer(e,t){let i=Up(t.view,Av(t.view.state.doc.lines));return i==e.number?e:new Hp(i)},domEventHandlers:n.facet(Js).domEventHandlers,side:"before"}));function Xk(n={}){return[Js.of(n),Qk(),TN]}function Av(n){let e=9;for(;e<n;)e=e*10+9;return e}const EN=new class extends nr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ON=uf.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let l=n.doc.lineAt(i.head).from;l>t&&(t=l,e.push(EN.range(l)))}return Ve.of(e)});function Wk(){return ON}const $k=1024;let _N=0;class Ip{constructor(e,t){this.from=e,this.to=t}}class Le{constructor(e={}){this.id=_N++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=qn.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Le.closedBy=new Le({deserialize:n=>n.split(" ")});Le.openedBy=new Le({deserialize:n=>n.split(" ")});Le.group=new Le({deserialize:n=>n.split(" ")});Le.isolate=new Le({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Le.contextHash=new Le({perNode:!0});Le.lookAhead=new Le({perNode:!0});Le.mounted=new Le({perNode:!0});class Mf{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Le.mounted.id]}}const NN=Object.create(null);class qn{constructor(e,t,i,l=0){this.name=e,this.props=t,this.id=i,this.flags=l}static define(e){let t=e.props&&e.props.length?Object.create(null):NN,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),l=new qn(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(l)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return l}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Le.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let l of i.split(" "))t[l]=e[i];return i=>{for(let l=i.prop(Le.group),s=-1;s<(l?l.length:0);s++){let o=t[s<0?i.name:l[s]];if(o)return o}}}}qn.none=new qn("",Object.create(null),0,8);class qg{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let l=null;for(let s of e){let o=s(i);if(o){l||(l=Object.assign({},i.props));let c=o[1],f=o[0];f.combine&&f.id in l&&(c=f.combine(l[f.id],c)),l[f.id]=c}}t.push(l?new qn(i.name,l,i.id,i.flags):i)}return new qg(t)}}const Uc=new WeakMap,Mv=new WeakMap;var Qt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Qt||(Qt={}));class jt{constructor(e,t,i,l,s){if(this.type=e,this.children=t,this.positions=i,this.length=l,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,c]of s)this.props[typeof o=="number"?o:o.id]=c}}toString(){let e=Mf.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let l=i.toString();l&&(t&&(t+=","),t+=l)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Zm(this.topNode,e)}cursorAt(e,t=0,i=0){let l=Uc.get(this)||this.topNode,s=new Zm(l);return s.moveTo(e,t),Uc.set(this,s._tree),s}get topNode(){return new vi(this,0,0,null)}resolve(e,t=0){let i=Ko(Uc.get(this)||this.topNode,e,t,!1);return Uc.set(this,i),i}resolveInner(e,t=0){let i=Ko(Mv.get(this)||this.topNode,e,t,!0);return Mv.set(this,i),i}resolveStack(e,t=0){return zN(this,e,t)}iterate(e){let{enter:t,leave:i,from:l=0,to:s=this.length}=e,o=e.mode||0,c=(o&Qt.IncludeAnonymous)>0;for(let f=this.cursor(o|Qt.IncludeAnonymous);;){let d=!1;if(f.from<=s&&f.to>=l&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;d=!0}for(;d&&i&&(c||!f.type.isAnonymous)&&i(f),!f.nextSibling();){if(!f.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Gg(qn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,l)=>new jt(this.type,t,i,l,this.propValues),e.makeTree||((t,i,l)=>new jt(qn.none,t,i,l)))}static build(e){return RN(e)}}jt.empty=new jt(qn.none,[],[],0);class Pg{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Pg(this.buffer,this.index)}}class dl{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return qn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],l=this.set.types[t],s=l.name;if(/\W/.test(s)&&!l.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,l,s){let{buffer:o}=this,c=-1;for(let f=e;f!=t&&!(Jk(s,l,o[f+1],o[f+2])&&(c=f,i>0));f=o[f+3]);return c}slice(e,t,i){let l=this.buffer,s=new Uint16Array(t-e),o=0;for(let c=e,f=0;c<t;){s[f++]=l[c++],s[f++]=l[c++]-i;let d=s[f++]=l[c++]-i;s[f++]=l[c++]-e,o=Math.max(o,d)}return new dl(s,o,this.set)}}function Jk(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ko(n,e,t,i){for(var l;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof vi&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:Qt.IgnoreOverlays;if(i)for(let o=n,c=o.parent;c;o=c,c=o.parent)o instanceof vi&&o.index<0&&((l=c.enter(e,t,s))===null||l===void 0?void 0:l.from)!=o.from&&(n=c);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class Zk{cursor(e=0){return new Zm(this,e)}getChild(e,t=null,i=null){let l=Tv(this,e,t,i);return l.length?l[0]:null}getChildren(e,t=null,i=null){return Tv(this,e,t,i)}resolve(e,t=0){return Ko(this,e,t,!1)}resolveInner(e,t=0){return Ko(this,e,t,!0)}matchContext(e){return Jm(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let l=t.lastChild;if(!l||l.to!=t.to)break;l.type.isError&&l.from==l.to?(i=t,t=l.prevSibling):t=l}return i}get node(){return this}get next(){return this.parent}}class vi extends Zk{constructor(e,t,i,l){super(),this._tree=e,this.from=t,this.index=i,this._parent=l}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,l,s=0){for(let o=this;;){for(let{children:c,positions:f}=o._tree,d=t>0?c.length:-1;e!=d;e+=t){let p=c[e],m=f[e]+o.from;if(Jk(l,i,m,m+p.length)){if(p instanceof dl){if(s&Qt.ExcludeBuffers)continue;let x=p.findChild(0,p.buffer.length,t,i-m,l);if(x>-1)return new al(new DN(o,p,e,m),null,x)}else if(s&Qt.IncludeAnonymous||!p.type.isAnonymous||Fg(p)){let x;if(!(s&Qt.IgnoreMounts)&&(x=Mf.get(p))&&!x.overlay)return new vi(x.tree,m,e,o);let b=new vi(p,m,e,o);return s&Qt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?p.children.length-1:0,t,i,l)}}}if(s&Qt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let l;if(!(i&Qt.IgnoreOverlays)&&(l=Mf.get(this._tree))&&l.overlay){let s=e-this.from;for(let{from:o,to:c}of l.overlay)if((t>0?o<=s:o<s)&&(t<0?c>=s:c>s))return new vi(l.tree,l.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Tv(n,e,t,i){let l=n.cursor(),s=[];if(!l.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=l.type.is(t),!l.nextSibling())return s}for(;;){if(i!=null&&l.type.is(i))return s;if(l.type.is(e)&&s.push(l.node),!l.nextSibling())return i==null?s:[]}}function Jm(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class DN{constructor(e,t,i,l){this.parent=e,this.buffer=t,this.index=i,this.start=l}}class al extends Zk{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:l}=this.context,s=l.findChild(this.index+4,l.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new al(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&Qt.ExcludeBuffers)return null;let{buffer:l}=this.context,s=l.findChild(this.index+4,l.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new al(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new al(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new al(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,l=this.index+4,s=i.buffer[this.index+3];if(s>l){let o=i.buffer[this.index+1];e.push(i.slice(l,s,o)),t.push(0)}return new jt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function ew(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof vi&&t.index<0?null:t.parent,l=n.slice();return i?l[e]=i:l.splice(e,1),new BN(l,t)}class BN{constructor(e,t){this.heads=e,this.node=t}get next(){return ew(this.heads)}}function zN(n,e,t){let i=n.resolveInner(e,t),l=null;for(let s=i instanceof vi?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(l||(l=[i])).push(o.resolve(e,t)),s=o}else{let o=Mf.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let c=new vi(o.tree,o.overlay[0].from+s.from,-1,s);(l||(l=[i])).push(Ko(c,e,t,!1))}}return l?ew(l):i}class Zm{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof vi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:l}=this.buffer;return this.type=t||l.set.types[l.buffer[e]],this.from=i+l.buffer[e+1],this.to=i+l.buffer[e+2],!0}yield(e){return e?e instanceof vi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:l}=this.buffer,s=l.findChild(this.index+4,l.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Qt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Qt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Qt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let l=i<0?0:this.stack[i]+4;if(this.index!=l)return this.yieldBuf(t.findChild(l,this.index,-1,0,4))}else{let l=t.buffer[this.index+3];if(l<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(l)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:l}=this;if(l){if(e>0){if(this.index<l.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(l.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=l)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let c=i._tree.children[s];if(this.mode&Qt.IncludeAnonymous||c instanceof dl||!c.type.isAnonymous||Fg(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let l=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==l){if(l==this.index)return o;t=o,i=s+1;break e}l=this.stack[--s]}for(let l=i;l<this.stack.length;l++)t=new al(this.buffer,t,this.stack[l]);return this.bufferNode=new al(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let l=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(l=!0)}for(;;){if(l&&t&&t(this),l=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,l=!0}}}matchContext(e){if(!this.buffer)return Jm(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let l=e.length-1,s=this.stack.length-1;l>=0;s--){if(s<0)return Jm(this._tree,e,l);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[l]&&e[l]!=o.name)return!1;l--}}return!0}}function Fg(n){return n.children.some(e=>e instanceof dl||!e.type.isAnonymous||Fg(e))}function RN(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:l=$k,reused:s=[],minRepeatType:o=i.types.length}=n,c=Array.isArray(t)?new Pg(t,t.length):t,f=i.types,d=0,p=0;function m(Q,D,H,se,Z,ae){let{id:te,start:F,end:re,size:W}=c,P=p,B=d;if(W<0)if(c.next(),W==-1){let _=s[te];H.push(_),se.push(F-Q);return}else if(W==-3){d=te;return}else if(W==-4){p=te;return}else throw new RangeError(`Unrecognized record size: ${W}`);let G=f[te],ce,me,E=F-Q;if(re-F<=l&&(me=M(c.pos-D,Z))){let _=new Uint16Array(me.size-me.skip),q=c.pos-me.size,A=_.length;for(;c.pos>q;)A=T(me.start,_,A);ce=new dl(_,re-me.start,i),E=me.start-Q}else{let _=c.pos-W;c.next();let q=[],A=[],ie=te>=o?te:-1,fe=0,pe=re;for(;c.pos>_;)ie>=0&&c.id==ie&&c.size>=0?(c.end<=pe-l&&(k(q,A,F,fe,c.end,pe,ie,P,B),fe=q.length,pe=c.end),c.next()):ae>2500?x(F,_,q,A):m(F,_,q,A,ie,ae+1);if(ie>=0&&fe>0&&fe<q.length&&k(q,A,F,fe,F,pe,ie,P,B),q.reverse(),A.reverse(),ie>-1&&fe>0){let Ee=b(G,B);ce=Gg(G,q,A,0,q.length,0,re-F,Ee,Ee)}else ce=w(G,q,A,re-F,P-re,B)}H.push(ce),se.push(E)}function x(Q,D,H,se){let Z=[],ae=0,te=-1;for(;c.pos>D;){let{id:F,start:re,end:W,size:P}=c;if(P>4)c.next();else{if(te>-1&&re<te)break;te<0&&(te=W-l),Z.push(F,re,W),ae++,c.next()}}if(ae){let F=new Uint16Array(ae*4),re=Z[Z.length-2];for(let W=Z.length-3,P=0;W>=0;W-=3)F[P++]=Z[W],F[P++]=Z[W+1]-re,F[P++]=Z[W+2]-re,F[P++]=P;H.push(new dl(F,Z[2]-re,i)),se.push(re-Q)}}function b(Q,D){return(H,se,Z)=>{let ae=0,te=H.length-1,F,re;if(te>=0&&(F=H[te])instanceof jt){if(!te&&F.type==Q&&F.length==Z)return F;(re=F.prop(Le.lookAhead))&&(ae=se[te]+F.length+re)}return w(Q,H,se,Z,ae,D)}}function k(Q,D,H,se,Z,ae,te,F,re){let W=[],P=[];for(;Q.length>se;)W.push(Q.pop()),P.push(D.pop()+H-Z);Q.push(w(i.types[te],W,P,ae-Z,F-ae,re)),D.push(Z-H)}function w(Q,D,H,se,Z,ae,te){if(ae){let F=[Le.contextHash,ae];te=te?[F].concat(te):[F]}if(Z>25){let F=[Le.lookAhead,Z];te=te?[F].concat(te):[F]}return new jt(Q,D,H,se,te)}function M(Q,D){let H=c.fork(),se=0,Z=0,ae=0,te=H.end-l,F={size:0,start:0,skip:0};e:for(let re=H.pos-Q;H.pos>re;){let W=H.size;if(H.id==D&&W>=0){F.size=se,F.start=Z,F.skip=ae,ae+=4,se+=4,H.next();continue}let P=H.pos-W;if(W<0||P<re||H.start<te)break;let B=H.id>=o?4:0,G=H.start;for(H.next();H.pos>P;){if(H.size<0)if(H.size==-3||H.size==-4)B+=4;else break e;else H.id>=o&&(B+=4);H.next()}Z=G,se+=W,ae+=B}return(D<0||se==Q)&&(F.size=se,F.start=Z,F.skip=ae),F.size>4?F:void 0}function T(Q,D,H){let{id:se,start:Z,end:ae,size:te}=c;if(c.next(),te>=0&&se<o){let F=H;if(te>4){let re=c.pos-(te-4);for(;c.pos>re;)H=T(Q,D,H)}D[--H]=F,D[--H]=ae-Q,D[--H]=Z-Q,D[--H]=se}else te==-3?d=se:te==-4&&(p=se);return H}let L=[],R=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,L,R,-1,0);let ne=(e=n.length)!==null&&e!==void 0?e:L.length?R[0]+L[0].length:0;return new jt(f[n.topID],L.reverse(),R.reverse(),ne)}const Ev=new WeakMap;function cf(n,e){if(!n.isAnonymous||e instanceof dl||e.type!=n)return 1;let t=Ev.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof jt)){t=1;break}t+=cf(n,i)}Ev.set(e,t)}return t}function Gg(n,e,t,i,l,s,o,c,f){let d=0;for(let k=i;k<l;k++)d+=cf(n,e[k]);let p=Math.ceil(d*1.5/8),m=[],x=[];function b(k,w,M,T,L){for(let R=M;R<T;){let ne=R,Q=w[R],D=cf(n,k[R]);for(R++;R<T;R++){let H=cf(n,k[R]);if(D+H>=p)break;D+=H}if(R==ne+1){if(D>p){let H=k[ne];b(H.children,H.positions,0,H.children.length,w[ne]+L);continue}m.push(k[ne])}else{let H=w[R-1]+k[R-1].length-Q;m.push(Gg(n,k,w,ne,R,Q,H,null,f))}x.push(Q+L-s)}}return b(e,t,i,l,0),(c||f)(m,x,o)}class Yl{constructor(e,t,i,l,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=l,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let l=[new Yl(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&l.push(s);return l}static applyChanges(e,t,i=128){if(!t.length)return e;let l=[],s=1,o=e.length?e[0]:null;for(let c=0,f=0,d=0;;c++){let p=c<t.length?t[c]:null,m=p?p.fromA:1e9;if(m-f>=i)for(;o&&o.from<m;){let x=o;if(f>=x.from||m<=x.to||d){let b=Math.max(x.from,f)-d,k=Math.min(x.to,m)-d;x=b>=k?null:new Yl(b,k,x.tree,x.offset+d,c>0,!!p)}if(x&&l.push(x),o.to>m)break;o=s<e.length?e[s++]:null}if(!p)break;f=p.toA,d=p.toA-p.toB}return l}}class tw{startParse(e,t,i){return typeof e=="string"&&(e=new LN(e)),i=i?i.length?i.map(l=>new Ip(l.from,l.to)):[new Ip(0,0)]:[new Ip(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let l=this.startParse(e,t,i);for(;;){let s=l.advance();if(s)return s}}}class LN{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Le({perNode:!0});let jN=0;class gi{constructor(e,t,i,l){this.name=e,this.set=t,this.base=i,this.modified=l,this.id=jN++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof gi&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let l=new gi(i,[],null,[]);if(l.set.push(l),t)for(let s of t.set)l.set.push(s);return l}static defineModifier(e){let t=new Tf(e);return i=>i.modified.indexOf(t)>-1?i:Tf.get(i.base||i,i.modified.concat(t).sort((l,s)=>l.id-s.id))}}let HN=0;class Tf{constructor(e){this.name=e,this.instances=[],this.id=HN++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(c=>c.base==e&&UN(t,c.modified));if(i)return i;let l=[],s=new gi(e.name,l,e,t);for(let c of t)c.instances.push(s);let o=IN(t);for(let c of e.set)if(!c.modified.length)for(let f of o)l.push(Tf.get(c,f));return s}}function UN(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function IN(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,l=e.length;i<l;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function nw(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let l of t.split(" "))if(l){let s=[],o=2,c=l;for(let m=0;;){if(c=="..."&&m>0&&m+3==l.length){o=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!x)throw new RangeError("Invalid path: "+l);if(s.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),m+=x[0].length,m==l.length)break;let b=l[m++];if(m==l.length&&b=="!"){o=0;break}if(b!="/")throw new RangeError("Invalid path: "+l);c=l.slice(m)}let f=s.length-1,d=s[f];if(!d)throw new RangeError("Invalid path: "+l);let p=new Xo(i,o,f>0?s.slice(0,f):null);e[d]=p.sort(e[d])}}return iw.add(e)}const iw=new Le({combine(n,e){let t,i,l;for(;n||e;){if(!n||e&&n.depth>=e.depth?(l=e,e=e.next):(l=n,n=n.next),t&&t.mode==l.mode&&!l.context&&!t.context)continue;let s=new Xo(l.tags,l.mode,l.context);t?t.next=s:i=s,t=s}return i}});class Xo{constructor(e,t,i,l){this.tags=e,this.mode=t,this.context=i,this.next=l}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Xo.empty=new Xo([],2,null);function rw(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:l=null}=e||{};return{style:s=>{let o=l;for(let c of s)for(let f of c.set){let d=t[f.id];if(d){o=o?o+" "+d:d;break}}return o},scope:i}}function VN(n,e){let t=null;for(let i of n){let l=i.style(e);l&&(t=t?t+" "+l:l)}return t}function qN(n,e,t,i=0,l=n.length){let s=new PN(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,l,"",s.highlighters),s.flush(l)}class PN{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,l,s){let{type:o,from:c,to:f}=e;if(c>=i||f<=t)return;o.isTop&&(s=this.highlighters.filter(b=>!b.scope||b.scope(o)));let d=l,p=FN(e)||Xo.empty,m=VN(s,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(l+=(l?" ":"")+m)),this.startSpan(Math.max(t,c),d),p.opaque)return;let x=e.tree&&e.tree.prop(Le.mounted);if(x&&x.overlay){let b=e.node.enter(x.overlay[0].from+c,1),k=this.highlighters.filter(M=>!M.scope||M.scope(x.tree.type)),w=e.firstChild();for(let M=0,T=c;;M++){let L=M<x.overlay.length?x.overlay[M]:null,R=L?L.from+c:f,ne=Math.max(t,T),Q=Math.min(i,R);if(ne<Q&&w)for(;e.from<Q&&(this.highlightRange(e,ne,Q,l,s),this.startSpan(Math.min(Q,e.to),d),!(e.to>=R||!e.nextSibling())););if(!L||R>i)break;T=L.to+c,T>t&&(this.highlightRange(b.cursor(),Math.max(t,L.from+c),Math.min(i,T),"",k),this.startSpan(Math.min(i,T),d))}w&&e.parent()}else if(e.firstChild()){x&&(l="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,l,s),this.startSpan(Math.min(i,e.to),d)}while(e.nextSibling());e.parent()}}}function FN(n){let e=n.type.prop(iw);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const he=gi.define,Ic=he(),il=he(),Ov=he(il),_v=he(il),rl=he(),Vc=he(rl),Vp=he(rl),Yi=he(),Il=he(Yi),Fi=he(),Gi=he(),eg=he(),go=he(eg),qc=he(),Y={comment:Ic,lineComment:he(Ic),blockComment:he(Ic),docComment:he(Ic),name:il,variableName:he(il),typeName:Ov,tagName:he(Ov),propertyName:_v,attributeName:he(_v),className:he(il),labelName:he(il),namespace:he(il),macroName:he(il),literal:rl,string:Vc,docString:he(Vc),character:he(Vc),attributeValue:he(Vc),number:Vp,integer:he(Vp),float:he(Vp),bool:he(rl),regexp:he(rl),escape:he(rl),color:he(rl),url:he(rl),keyword:Fi,self:he(Fi),null:he(Fi),atom:he(Fi),unit:he(Fi),modifier:he(Fi),operatorKeyword:he(Fi),controlKeyword:he(Fi),definitionKeyword:he(Fi),moduleKeyword:he(Fi),operator:Gi,derefOperator:he(Gi),arithmeticOperator:he(Gi),logicOperator:he(Gi),bitwiseOperator:he(Gi),compareOperator:he(Gi),updateOperator:he(Gi),definitionOperator:he(Gi),typeOperator:he(Gi),controlOperator:he(Gi),punctuation:eg,separator:he(eg),bracket:go,angleBracket:he(go),squareBracket:he(go),paren:he(go),brace:he(go),content:Yi,heading:Il,heading1:he(Il),heading2:he(Il),heading3:he(Il),heading4:he(Il),heading5:he(Il),heading6:he(Il),contentSeparator:he(Yi),list:he(Yi),quote:he(Yi),emphasis:he(Yi),strong:he(Yi),link:he(Yi),monospace:he(Yi),strikethrough:he(Yi),inserted:he(),deleted:he(),changed:he(),invalid:he(),meta:qc,documentMeta:he(qc),annotation:he(qc),processingInstruction:he(qc),definition:gi.defineModifier("definition"),constant:gi.defineModifier("constant"),function:gi.defineModifier("function"),standard:gi.defineModifier("standard"),local:gi.defineModifier("local"),special:gi.defineModifier("special")};for(let n in Y){let e=Y[n];e instanceof gi&&(e.name=n)}rw([{tag:Y.link,class:"tok-link"},{tag:Y.heading,class:"tok-heading"},{tag:Y.emphasis,class:"tok-emphasis"},{tag:Y.strong,class:"tok-strong"},{tag:Y.keyword,class:"tok-keyword"},{tag:Y.atom,class:"tok-atom"},{tag:Y.bool,class:"tok-bool"},{tag:Y.url,class:"tok-url"},{tag:Y.labelName,class:"tok-labelName"},{tag:Y.inserted,class:"tok-inserted"},{tag:Y.deleted,class:"tok-deleted"},{tag:Y.literal,class:"tok-literal"},{tag:Y.string,class:"tok-string"},{tag:Y.number,class:"tok-number"},{tag:[Y.regexp,Y.escape,Y.special(Y.string)],class:"tok-string2"},{tag:Y.variableName,class:"tok-variableName"},{tag:Y.local(Y.variableName),class:"tok-variableName tok-local"},{tag:Y.definition(Y.variableName),class:"tok-variableName tok-definition"},{tag:Y.special(Y.variableName),class:"tok-variableName2"},{tag:Y.definition(Y.propertyName),class:"tok-propertyName tok-definition"},{tag:Y.typeName,class:"tok-typeName"},{tag:Y.namespace,class:"tok-namespace"},{tag:Y.className,class:"tok-className"},{tag:Y.macroName,class:"tok-macroName"},{tag:Y.propertyName,class:"tok-propertyName"},{tag:Y.operator,class:"tok-operator"},{tag:Y.comment,class:"tok-comment"},{tag:Y.meta,class:"tok-meta"},{tag:Y.invalid,class:"tok-invalid"},{tag:Y.punctuation,class:"tok-punctuation"}]);var qp;const Zs=new Le;function GN(n){return ye.define({combine:n?e=>e.concat(n):void 0})}const YN=new Le;class Oi{constructor(e,t,i=[],l=""){this.data=e,this.name=l,Ie.prototype.hasOwnProperty("tree")||Object.defineProperty(Ie.prototype,"tree",{get(){return Cn(this)}}),this.parser=t,this.extension=[pl.of(this),Ie.languageData.of((s,o,c)=>{let f=Nv(s,o,c),d=f.type.prop(Zs);if(!d)return[];let p=s.facet(d),m=f.type.prop(YN);if(m){let x=f.resolve(o-f.from,c);for(let b of m)if(b.test(x,s)){let k=s.facet(b.facet);return b.type=="replace"?k:k.concat(p)}}return p})].concat(i)}isActiveAt(e,t,i=-1){return Nv(e,t,i).type.prop(Zs)==this.data}findRegions(e){let t=e.facet(pl);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],l=(s,o)=>{if(s.prop(Zs)==this.data){i.push({from:o,to:o+s.length});return}let c=s.prop(Le.mounted);if(c){if(c.tree.prop(Zs)==this.data){if(c.overlay)for(let f of c.overlay)i.push({from:f.from+o,to:f.to+o});else i.push({from:o,to:o+s.length});return}else if(c.overlay){let f=i.length;if(l(c.tree,c.overlay[0].from+o),i.length>f)return}}for(let f=0;f<s.children.length;f++){let d=s.children[f];d instanceof jt&&l(d,s.positions[f]+o)}};return l(Cn(e),0),i}get allowsNesting(){return!0}}Oi.setState=Ge.define();function Nv(n,e,t){let i=n.facet(pl),l=Cn(n).topNode;if(!i||i.allowsNesting)for(let s=l;s;s=s.enter(e,t,Qt.ExcludeBuffers))s.type.isTop&&(l=s);return l}class Ef extends Oi{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=GN(e.languageData);return new Ef(t,e.parser.configure({props:[Zs.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Ef(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Cn(n){let e=n.field(Oi.state,!1);return e?e.tree:jt.empty}class QN{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let yo=null;class Of{constructor(e,t,i=[],l,s,o,c,f){this.parser=e,this.state=t,this.fragments=i,this.tree=l,this.treeLen=s,this.viewport=o,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Of(e,t,[],jt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new QN(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=jt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let l=Date.now()+e;e=()=>Date.now()>l}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let l=this.parse.advance();if(l)if(this.fragments=this.withoutTempSkipped(Yl.addTree(l,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=l,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Yl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=yo;yo=this;try{return e()}finally{yo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Dv(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:l,treeLen:s,viewport:o,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((d,p,m,x)=>f.push({fromA:d,toA:p,fromB:m,toB:x})),i=Yl.applyChanges(i,f),l=jt.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&c.push({from:p,to:m})}}}return new Of(this.parser,t,i,l,s,o,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:l,to:s}=this.skipped[i];l<e.to&&s>e.from&&(this.fragments=Dv(this.fragments,l,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends tw{createParse(t,i,l){let s=l[0].from,o=l[l.length-1].to;return{parsedPos:s,advance(){let f=yo;if(f){for(let d of l)f.tempSkipped.push(d);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=o,new jt(qn.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return yo}}function Dv(n,e,t){return Yl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class pa{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new pa(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Of.create(e.facet(pl).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new pa(i)}}Oi.state=fn.define({create:pa.init,update(n,e){for(let t of e.effects)if(t.is(Oi.setState))return t.value;return e.startState.facet(pl)!=e.state.facet(pl)?pa.init(e.state):n.apply(e)}});let lw=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(lw=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Pp=typeof navigator<"u"&&(!((qp=navigator.scheduling)===null||qp===void 0)&&qp.isInputPending)?()=>navigator.scheduling.isInputPending():null,KN=cn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Oi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Oi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=lw(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:l}}=this.view,s=i.field(Oi.state);if(s.tree==s.context.tree&&s.context.isDone(l+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Pp?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<l&&i.doc.length>l+1e3,f=s.context.work(()=>Pp&&Pp()||Date.now()>o,l+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Oi.setState.of(new pa(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ji(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),pl=ye.define({combine(n){return n.length?n[0]:null},enables:n=>[Oi.state,KN,de.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class XN{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const WN=ye.define(),Yg=ye.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function _f(n){let e=n.facet(Yg);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Wo(n,e){let t="",i=n.tabSize,l=n.facet(Yg)[0];if(l=="	"){for(;e>=i;)t+="	",e-=i;l=" "}for(let s=0;s<e;s++)t+=l;return t}function Qg(n,e){n instanceof Ie&&(n=new Jf(n));for(let i of n.state.facet(WN)){let l=i(n,e);if(l!==void 0)return l}let t=Cn(n.state);return t.length>=e?$N(n,t,e):null}class Jf{constructor(e,t={}){this.state=e,this.options=t,this.unit=_f(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:l,simulateDoubleBreak:s}=this.options;return l!=null&&l>=i.from&&l<=i.to?s&&l==e?{text:"",from:e}:(t<0?l<e:l<=e)?{text:i.text.slice(l-i.from),from:l}:{text:i.text.slice(0,l-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:l}=this.lineAt(e,t);return i.slice(e-l,Math.min(i.length,e+100-l))}column(e,t=1){let{text:i,from:l}=this.lineAt(e,t),s=this.countColumn(i,e-l),o=this.options.overrideIndentation?this.options.overrideIndentation(l):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return ya(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:l}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(l);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const sw=new Le;function $N(n,e,t){let i=e.resolveStack(t),l=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(l!=i.node){let s=[];for(let o=l;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return aw(i,n,t)}function aw(n,e,t){for(let i=n;i;i=i.next){let l=ZN(i.node);if(l)return l(Kg.create(e,t,i))}return 0}function JN(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function ZN(n){let e=n.type.prop(sw);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Le.closedBy))){let l=n.lastChild,s=l&&i.indexOf(l.name)>-1;return o=>iD(o,!0,1,void 0,s&&!JN(o)?l.from:void 0)}return n.parent==null?eD:null}function eD(){return 0}class Kg extends Jf{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Kg(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(tD(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return aw(this.context.next,this.base,this.pos)}}function tD(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function nD(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let l=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=l==null||l<=s.from?s.to:Math.min(s.to,l);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==i)return null;if(!f.type.isSkipped){if(f.from>=o)return null;let d=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+d}}c=f.to}}function iD(n,e,t,i,l){let s=n.textAfter,o=s.match(/^\s*/)[0].length,c=i&&s.slice(o,o+i.length)==i||l==n.pos+o,f=nD(n);return f?c?n.column(f.from):n.column(f.to):n.baseIndent+(c?0:n.unit*t)}function Bv({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const rD=200;function ow(){return Ie.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,l=t.lineAt(i);if(i>l.from+rD)return n;let s=t.sliceString(l.from,i);if(!e.some(d=>d.test(s)))return n;let{state:o}=n,c=-1,f=[];for(let{head:d}of o.selection.ranges){let p=o.doc.lineAt(d);if(p.from==c)continue;c=p.from;let m=Qg(o,p.from);if(m==null)continue;let x=/^\s*/.exec(p.text)[0],b=Wo(o,m);x!=b&&f.push({from:p.from,to:p.from+x.length,insert:b})}return f.length?[n,{changes:f,sequential:!0}]:n})}const lD=ye.define(),uw=new Le;function sD(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function aD(n,e,t){let i=Cn(n);if(i.length<t)return null;let l=i.resolveStack(t,1),s=null;for(let o=l;o;o=o.next){let c=o.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let f=c.type.prop(uw);if(f&&(c.to<i.length-50||i.length==n.doc.length||!oD(c))){let d=f(c,n);d&&d.from<=t&&d.from>=e&&d.to>t&&(s=d)}}return s}function oD(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Nf(n,e,t){for(let i of n.facet(lD)){let l=i(n,e,t);if(l)return l}return aD(n,e,t)}function cw(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Zf=Ge.define({map:cw}),ou=Ge.define({map:cw});function fw(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Wl=fn.define({create(){return _e.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=zv(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Zf)&&!uD(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(pw),l=i?_e.replace({widget:new gD(i(e.state,t.value))}):Rv;n=n.update({add:[l.range(t.value.from,t.value.to)]})}else t.is(ou)&&(n=n.update({filter:(i,l)=>t.value.from!=i||t.value.to!=l,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=zv(n,e.selection.main.head)),n},provide:n=>de.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,l)=>{t.push(i,l)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],l=n[t++];if(typeof i!="number"||typeof l!="number")throw new RangeError("Invalid JSON for fold state");e.push(Rv.range(i,l))}return _e.set(e,!0)}});function zv(n,e,t=e){let i=!1;return n.between(e,t,(l,s)=>{l<t&&s>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(l,s)=>l>=t||s<=e}):n}function Df(n,e,t){var i;let l=null;return(i=n.field(Wl,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!l||l.from>s)&&(l={from:s,to:o})}),l}function uD(n,e,t){let i=!1;return n.between(e,e,(l,s)=>{l==e&&s==t&&(i=!0)}),i}function hw(n,e){return n.field(Wl,!1)?e:e.concat(Ge.appendConfig.of(mw()))}const cD=n=>{for(let e of fw(n)){let t=Nf(n.state,e.from,e.to);if(t)return n.dispatch({effects:hw(n.state,[Zf.of(t),dw(n,t)])}),!0}return!1},fD=n=>{if(!n.state.field(Wl,!1))return!1;let e=[];for(let t of fw(n)){let i=Df(n.state,t.from,t.to);i&&e.push(ou.of(i),dw(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function dw(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,l=n.state.doc.lineAt(e.to).number;return de.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${l}.`)}const hD=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let l=n.lineBlockAt(i),s=Nf(e,l.from,l.to);s&&t.push(Zf.of(s)),i=(s?n.lineBlockAt(s.to):l).to+1}return t.length&&n.dispatch({effects:hw(n.state,t)}),!!t.length},dD=n=>{let e=n.state.field(Wl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,l)=>{t.push(ou.of({from:i,to:l}))}),n.dispatch({effects:t}),!0},pD=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:cD},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fD},{key:"Ctrl-Alt-[",run:hD},{key:"Ctrl-Alt-]",run:dD}],mD={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},pw=ye.define({combine(n){return ts(n,mD)}});function mw(n){return[Wl,xD]}function gw(n,e){let{state:t}=n,i=t.facet(pw),l=o=>{let c=n.lineBlockAt(n.posAtDOM(o.target)),f=Df(n.state,c.from,c.to);f&&n.dispatch({effects:ou.of(f)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,l,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=l,s}const Rv=_e.replace({widget:new class extends rr{toDOM(n){return gw(n,null)}}});class gD extends rr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return gw(e,this.value)}}const yD={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Fp extends nr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function yw(n={}){let e={...yD,...n},t=new Fp(e,!0),i=new Fp(e,!1),l=cn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(pl)!=o.state.facet(pl)||o.startState.field(Wl,!1)!=o.state.field(Wl,!1)||Cn(o.startState)!=Cn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let c=new ii;for(let f of o.viewportLineBlocks){let d=Df(o.state,f.from,f.to)?i:Nf(o.state,f.from,f.to)?t:null;d&&c.add(f.from,f.from,d)}return c.finish()}}),{domEventHandlers:s}=e;return[l,Yk({class:"cm-foldGutter",markers(o){var c;return((c=o.plugin(l))===null||c===void 0?void 0:c.markers)||Ve.empty},initialSpacer(){return new Fp(e,!1)},domEventHandlers:{...s,click:(o,c,f)=>{if(s.click&&s.click(o,c,f))return!0;let d=Df(o.state,c.from,c.to);if(d)return o.dispatch({effects:ou.of(d)}),!0;let p=Nf(o.state,c.from,c.to);return p?(o.dispatch({effects:Zf.of(p)}),!0):!1}}}),mw()]}const xD=de.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class uu{constructor(e,t){this.specs=e;let i;function l(c){let f=Tr.newName();return(i||(i=Object.create(null)))["."+f]=c,f}const s=typeof t.all=="string"?t.all:t.all?l(t.all):void 0,o=t.scope;this.scope=o instanceof Oi?c=>c.prop(Zs)==o.data:o?c=>c==o:void 0,this.style=rw(e.map(c=>({tag:c.tag,class:c.class||l(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=i?new Tr(i):null,this.themeType=t.themeType}static define(e,t){return new uu(e,t||{})}}const tg=ye.define(),xw=ye.define({combine(n){return n.length?[n[0]]:null}});function Gp(n){let e=n.facet(tg);return e.length?e:n.facet(xw)}function Xg(n,e){let t=[vD],i;return n instanceof uu&&(n.module&&t.push(de.styleModule.of(n.module)),i=n.themeType),e?.fallback?t.push(xw.of(n)):i?t.push(tg.computeN([de.darkTheme],l=>l.facet(de.darkTheme)==(i=="dark")?[n]:[])):t.push(tg.of(n)),t}class bD{constructor(e){this.markCache=Object.create(null),this.tree=Cn(e.state),this.decorations=this.buildDeco(e,Gp(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Cn(e.state),i=Gp(e.state),l=i!=Gp(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!l&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||l)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return _e.none;let i=new ii;for(let{from:l,to:s}of e.visibleRanges)qN(this.tree,t,(o,c,f)=>{i.add(o,c,this.markCache[f]||(this.markCache[f]=_e.mark({class:f})))},l,s);return i.finish()}}const vD=Zl.high(cn.fromClass(bD,{decorations:n=>n.decorations})),bw=uu.define([{tag:Y.meta,color:"#404740"},{tag:Y.link,textDecoration:"underline"},{tag:Y.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Y.emphasis,fontStyle:"italic"},{tag:Y.strong,fontWeight:"bold"},{tag:Y.strikethrough,textDecoration:"line-through"},{tag:Y.keyword,color:"#708"},{tag:[Y.atom,Y.bool,Y.url,Y.contentSeparator,Y.labelName],color:"#219"},{tag:[Y.literal,Y.inserted],color:"#164"},{tag:[Y.string,Y.deleted],color:"#a11"},{tag:[Y.regexp,Y.escape,Y.special(Y.string)],color:"#e40"},{tag:Y.definition(Y.variableName),color:"#00f"},{tag:Y.local(Y.variableName),color:"#30a"},{tag:[Y.typeName,Y.namespace],color:"#085"},{tag:Y.className,color:"#167"},{tag:[Y.special(Y.variableName),Y.macroName],color:"#256"},{tag:Y.definition(Y.propertyName),color:"#00c"},{tag:Y.comment,color:"#940"},{tag:Y.invalid,color:"#f00"}]),SD=de.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),vw=1e4,Sw="()[]{}",kw=ye.define({combine(n){return ts(n,{afterCursor:!0,brackets:Sw,maxScanDistance:vw,renderMatch:CD})}}),kD=_e.mark({class:"cm-matchingBracket"}),wD=_e.mark({class:"cm-nonmatchingBracket"});function CD(n){let e=[],t=n.matched?kD:wD;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const AD=fn.define({create(){return _e.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(kw);for(let l of e.state.selection.ranges){if(!l.empty)continue;let s=Zi(e.state,l.head,-1,i)||l.head>0&&Zi(e.state,l.head-1,1,i)||i.afterCursor&&(Zi(e.state,l.head,1,i)||l.head<e.state.doc.length&&Zi(e.state,l.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return _e.set(t,!0)},provide:n=>de.decorations.from(n)}),MD=[AD,SD];function ww(n={}){return[kw.of(n),MD]}const TD=new Le;function ng(n,e,t){let i=n.prop(e<0?Le.openedBy:Le.closedBy);if(i)return i;if(n.name.length==1){let l=t.indexOf(n.name);if(l>-1&&l%2==(e<0?1:0))return[t[l+e]]}return null}function ig(n){let e=n.type.prop(TD);return e?e(n.node):n}function Zi(n,e,t,i={}){let l=i.maxScanDistance||vw,s=i.brackets||Sw,o=Cn(n),c=o.resolveInner(e,t);for(let f=c;f;f=f.parent){let d=ng(f.type,t,s);if(d&&f.from<f.to){let p=ig(f);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return ED(n,e,t,f,p,d,s)}}return OD(n,e,t,o,c.type,l,s)}function ED(n,e,t,i,l,s,o){let c=i.parent,f={from:l.from,to:l.to},d=0,p=c?.cursor();if(p&&(t<0?p.childBefore(i.from):p.childAfter(i.to)))do if(t<0?p.to<=i.from:p.from>=i.to){if(d==0&&s.indexOf(p.type.name)>-1&&p.from<p.to){let m=ig(p);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(ng(p.type,t,o))d++;else if(ng(p.type,-t,o)){if(d==0){let m=ig(p);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(t<0?p.prevSibling():p.nextSibling());return{start:f,matched:!1}}function OD(n,e,t,i,l,s,o){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=o.indexOf(c);if(f<0||f%2==0!=t>0)return null;let d={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let x=0;!p.next().done&&x<=s;){let b=p.value;t<0&&(x+=b.length);let k=e+x*t;for(let w=t>0?0:b.length-1,M=t>0?b.length:-1;w!=M;w+=t){let T=o.indexOf(b[w]);if(!(T<0||i.resolveInner(k+w,1).type!=l))if(T%2==0==t>0)m++;else{if(m==1)return{start:d,end:{from:k+w,to:k+w+1},matched:T>>1==f>>1};m--}}t>0&&(x+=b.length)}return p.done?{start:d,matched:!1}:null}const _D=Object.create(null),Lv=[qn.none],jv=[],Hv=Object.create(null),ND=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ND[n]=DD(_D,e);function Yp(n,e){jv.indexOf(n)>-1||(jv.push(n),console.warn(e))}function DD(n,e){let t=[];for(let c of e.split(" ")){let f=[];for(let d of c.split(".")){let p=n[d]||Y[d];p?typeof p=="function"?f.length?f=f.map(p):Yp(d,`Modifier ${d} used at start of tag`):f.length?Yp(d,`Tag ${d} used as modifier`):f=Array.isArray(p)?p:[p]:Yp(d,`Unknown highlighting tag ${d}`)}for(let d of f)t.push(d)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),l=i+" "+t.map(c=>c.id),s=Hv[l];if(s)return s.id;let o=Hv[l]=qn.define({id:Lv.length,name:i,props:[nw({[i]:t})]});return Lv.push(o),o.id}yt.RTL,yt.LTR;const BD=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=$g(n.state,t.from);return i.line?zD(n):i.block?LD(n):!1};function Wg(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let l=n(e,t);return l?(i(t.update(l)),!0):!1}}const zD=Wg(UD,0),RD=Wg(Cw,0),LD=Wg((n,e)=>Cw(n,e,HD(e)),0);function $g(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const xo=50;function jD(n,{open:e,close:t},i,l){let s=n.sliceDoc(i-xo,i),o=n.sliceDoc(l,l+xo),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(o)[0].length,d=s.length-c;if(s.slice(d-e.length,d)==e&&o.slice(f,f+t.length)==t)return{open:{pos:i-c,margin:c&&1},close:{pos:l+f,margin:f&&1}};let p,m;l-i<=2*xo?p=m=n.sliceDoc(i,l):(p=n.sliceDoc(i,i+xo),m=n.sliceDoc(l-xo,l));let x=/^\s*/.exec(p)[0].length,b=/\s*$/.exec(m)[0].length,k=m.length-b-t.length;return p.slice(x,x+e.length)==e&&m.slice(k,k+t.length)==t?{open:{pos:i+x+e.length,margin:/\s/.test(p.charAt(x+e.length))?1:0},close:{pos:l-b-t.length,margin:/\s/.test(m.charAt(k-1))?1:0}}:null}function HD(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),l=t.to<=i.to?i:n.doc.lineAt(t.to);l.from>i.from&&l.from==t.to&&(l=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=l.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:l.to})}return e}function Cw(n,e,t=e.selection.ranges){let i=t.map(s=>$g(e,s.from).block);if(!i.every(s=>s))return null;let l=t.map((s,o)=>jD(e,i[o],s.from,s.to));if(n!=2&&!l.every(s=>s))return{changes:e.changes(t.map((s,o)=>l[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&l.some(s=>s)){let s=[];for(let o=0,c;o<l.length;o++)if(c=l[o]){let f=i[o],{open:d,close:p}=c;s.push({from:d.pos-f.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+f.close.length})}return{changes:s}}return null}function UD(n,e,t=e.selection.ranges){let i=[],l=-1;for(let{from:s,to:o}of t){let c=i.length,f=1e9,d=$g(e,s).line;if(d){for(let p=s;p<=o;){let m=e.doc.lineAt(p);if(m.from>l&&(s==o||o>m.from)){l=m.from;let x=/^\s*/.exec(m.text)[0].length,b=x==m.length,k=m.text.slice(x,x+d.length)==d?x:-1;x<m.text.length&&x<f&&(f=x),i.push({line:m,comment:k,token:d,indent:x,empty:b,single:!1})}p=m.to+1}if(f<1e9)for(let p=c;p<i.length;p++)i[p].indent<i[p].line.text.length&&(i[p].indent=f);i.length==c+1&&(i[c].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:d,empty:p,single:m}of i)(m||!p)&&s.push({from:c.from+d,insert:f+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:c,token:f}of i)if(c>=0){let d=o.from+c,p=d+f.length;o.text[p-o.from]==" "&&p++,s.push({from:d,to:p})}return{changes:s}}return null}const rg=gl.define(),ID=gl.define(),VD=ye.define(),Aw=ye.define({combine(n){return ts(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,l)=>e(i,l)||t(i,l)})}}),Mw=fn.define({create(){return er.empty},update(n,e){let t=e.state.facet(Aw),i=e.annotation(rg);if(i){let f=In.fromTransaction(e,i.selection),d=i.side,p=d==0?n.undone:n.done;return f?p=Bf(p,p.length,t.minDepth,f):p=_w(p,e.startState.selection),new er(d==0?i.rest:p,d==0?p:i.rest)}let l=e.annotation(ID);if((l=="full"||l=="before")&&(n=n.isolate()),e.annotation(Vt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=In.fromTransaction(e),o=e.annotation(Vt.time),c=e.annotation(Vt.userEvent);return s?n=n.addChanges(s,o,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,c,t.newGroupDelay)),(l=="full"||l=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new er(n.done.map(In.fromJSON),n.undone.map(In.fromJSON))}});function Tw(n={}){return[Mw,Aw.of(n),de.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Ew:e.inputType=="historyRedo"?lg:null;return i?(e.preventDefault(),i(t)):!1}})]}function eh(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let l=t.field(Mw,!1);if(!l)return!1;let s=l.pop(n,t,e);return s?(i(s),!0):!1}}const Ew=eh(0,!1),lg=eh(1,!1),qD=eh(0,!0),PD=eh(1,!0);class In{constructor(e,t,i,l,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=l,this.selectionsAfter=s}setSelAfter(e){return new In(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(l=>l.toJSON())}}static fromJSON(e){return new In(e.changes&&Bt.fromJSON(e.changes),[],e.mapped&&tr.fromJSON(e.mapped),e.startSelection&&ee.fromJSON(e.startSelection),e.selectionsAfter.map(ee.fromJSON))}static fromTransaction(e,t){let i=bi;for(let l of e.startState.facet(VD)){let s=l(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new In(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,bi)}static selection(e){return new In(void 0,bi,void 0,void 0,e)}}function Bf(n,e,t,i){let l=e+1>t+20?e-t-1:0,s=n.slice(l,e);return s.push(i),s}function FD(n,e){let t=[],i=!1;return n.iterChangedRanges((l,s)=>t.push(l,s)),e.iterChangedRanges((l,s,o,c)=>{for(let f=0;f<t.length;){let d=t[f++],p=t[f++];c>=d&&o<=p&&(i=!0)}}),i}function GD(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Ow(n,e){return n.length?e.length?n.concat(e):n:e}const bi=[],YD=200;function _w(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-YD));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),Bf(n,n.length-1,1e9,t.setSelAfter(i)))}else return[In.selection([e])]}function QD(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Qp(n,e){if(!n.length)return n;let t=n.length,i=bi;for(;t;){let l=KD(n[t-1],e,i);if(l.changes&&!l.changes.empty||l.effects.length){let s=n.slice(0,t);return s[t-1]=l,s}else e=l.mapped,t--,i=l.selectionsAfter}return i.length?[In.selection(i)]:bi}function KD(n,e,t){let i=Ow(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):bi,t);if(!n.changes)return In.selection(i);let l=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new In(l,Ge.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const XD=/^(input\.type|delete)($|\.)/;class er{constructor(e,t,i=0,l=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=l}isolate(){return this.prevTime?new er(this.done,this.undone):this}addChanges(e,t,i,l,s){let o=this.done,c=o[o.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!i||XD.test(i))&&(!c.selectionsAfter.length&&t-this.prevTime<l.newGroupDelay&&l.joinToEvent(s,FD(c.changes,e.changes))||i=="input.type.compose")?o=Bf(o,o.length-1,l.minDepth,new In(e.changes.compose(c.changes),Ow(Ge.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,bi)):o=Bf(o,o.length,l.minDepth,e),new er(o,bi,t,i)}addSelection(e,t,i,l){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:bi;return s.length>0&&t-this.prevTime<l&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&GD(s[s.length-1],e)?this:new er(_w(this.done,e),this.undone,t,i)}addMapping(e){return new er(Qp(this.done,e),Qp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let l=e==0?this.done:this.undone;if(l.length==0)return null;let s=l[l.length-1],o=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:rg.of({side:e,rest:QD(l),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=l.length==1?bi:l.slice(0,l.length-1);return s.mapped&&(c=Qp(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:rg.of({side:e,rest:c,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}er.empty=new er(bi,bi);const WD=[{key:"Mod-z",run:Ew,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:lg,preventDefault:!0},{linux:"Ctrl-Shift-z",run:lg,preventDefault:!0},{key:"Mod-u",run:qD,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:PD,preventDefault:!0}];function xa(n,e){return ee.create(n.ranges.map(e),n.mainIndex)}function Ni(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Di({state:n,dispatch:e},t){let i=xa(n.selection,t);return i.eq(n.selection,!0)?!1:(e(Ni(n,i)),!0)}function th(n,e){return ee.cursor(e?n.to:n.from)}function Nw(n,e){return Di(n,t=>t.empty?n.moveByChar(t,e):th(t,e))}function xn(n){return n.textDirectionAt(n.state.selection.main.head)==yt.LTR}const Dw=n=>Nw(n,!xn(n)),Bw=n=>Nw(n,xn(n));function zw(n,e){return Di(n,t=>t.empty?n.moveByGroup(t,e):th(t,e))}const $D=n=>zw(n,!xn(n)),JD=n=>zw(n,xn(n));function ZD(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function nh(n,e,t){let i=Cn(n).resolveInner(e.head),l=t?Le.closedBy:Le.openedBy;for(let f=e.head;;){let d=t?i.childAfter(f):i.childBefore(f);if(!d)break;ZD(n,d,l)?i=d:f=t?d.to:d.from}let s=i.type.prop(l),o,c;return s&&(o=t?Zi(n,i.from,1):Zi(n,i.to,-1))&&o.matched?c=t?o.end.to:o.end.from:c=t?i.to:i.from,ee.cursor(c,t?-1:1)}const e3=n=>Di(n,e=>nh(n.state,e,!xn(n))),t3=n=>Di(n,e=>nh(n.state,e,xn(n)));function Rw(n,e){return Di(n,t=>{if(!t.empty)return th(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Lw=n=>Rw(n,!1),jw=n=>Rw(n,!0);function Hw(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,l;if(e){for(let s of n.state.facet(de.scrollMargins)){let o=s(n);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(i=Math.max(o?.bottom,i))}l=n.scrollDOM.clientHeight-t-i}else l=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,l-5)}}function Uw(n,e){let t=Hw(n),{state:i}=n,l=xa(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):th(o,e));if(l.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,d=c.bottom-t.marginBottom;o&&o.top>f&&o.bottom<d&&(s=de.scrollIntoView(l.main.head,{y:"start",yMargin:o.top-f}))}return n.dispatch(Ni(i,l),{effects:s}),!0}const Uv=n=>Uw(n,!1),sg=n=>Uw(n,!0);function yl(n,e,t){let i=n.lineBlockAt(e.head),l=n.moveToLineBoundary(e,t);if(l.head==e.head&&l.head!=(t?i.to:i.from)&&(l=n.moveToLineBoundary(e,t,!1)),!t&&l.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(l=ee.cursor(i.from+s))}return l}const n3=n=>Di(n,e=>yl(n,e,!0)),i3=n=>Di(n,e=>yl(n,e,!1)),r3=n=>Di(n,e=>yl(n,e,!xn(n))),l3=n=>Di(n,e=>yl(n,e,xn(n))),s3=n=>Di(n,e=>ee.cursor(n.lineBlockAt(e.head).from,1)),a3=n=>Di(n,e=>ee.cursor(n.lineBlockAt(e.head).to,-1));function o3(n,e,t){let i=!1,l=xa(n.selection,s=>{let o=Zi(n,s.head,-1)||Zi(n,s.head,1)||s.head>0&&Zi(n,s.head-1,1)||s.head<n.doc.length&&Zi(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let c=o.start.from==s.head?o.end.to:o.end.from;return ee.cursor(c)});return i?(e(Ni(n,l)),!0):!1}const u3=({state:n,dispatch:e})=>o3(n,e);function ki(n,e){let t=xa(n.state.selection,i=>{let l=e(i);return ee.range(i.anchor,l.head,l.goalColumn,l.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ni(n.state,t)),!0)}function Iw(n,e){return ki(n,t=>n.moveByChar(t,e))}const Vw=n=>Iw(n,!xn(n)),qw=n=>Iw(n,xn(n));function Pw(n,e){return ki(n,t=>n.moveByGroup(t,e))}const c3=n=>Pw(n,!xn(n)),f3=n=>Pw(n,xn(n)),h3=n=>ki(n,e=>nh(n.state,e,!xn(n))),d3=n=>ki(n,e=>nh(n.state,e,xn(n)));function Fw(n,e){return ki(n,t=>n.moveVertically(t,e))}const Gw=n=>Fw(n,!1),Yw=n=>Fw(n,!0);function Qw(n,e){return ki(n,t=>n.moveVertically(t,e,Hw(n).height))}const Iv=n=>Qw(n,!1),Vv=n=>Qw(n,!0),p3=n=>ki(n,e=>yl(n,e,!0)),m3=n=>ki(n,e=>yl(n,e,!1)),g3=n=>ki(n,e=>yl(n,e,!xn(n))),y3=n=>ki(n,e=>yl(n,e,xn(n))),x3=n=>ki(n,e=>ee.cursor(n.lineBlockAt(e.head).from)),b3=n=>ki(n,e=>ee.cursor(n.lineBlockAt(e.head).to)),qv=({state:n,dispatch:e})=>(e(Ni(n,{anchor:0})),!0),Pv=({state:n,dispatch:e})=>(e(Ni(n,{anchor:n.doc.length})),!0),Fv=({state:n,dispatch:e})=>(e(Ni(n,{anchor:n.selection.main.anchor,head:0})),!0),Gv=({state:n,dispatch:e})=>(e(Ni(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),v3=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),S3=({state:n,dispatch:e})=>{let t=ih(n).map(({from:i,to:l})=>ee.range(i,Math.min(l+1,n.doc.length)));return e(n.update({selection:ee.create(t),userEvent:"select"})),!0},k3=({state:n,dispatch:e})=>{let t=xa(n.selection,i=>{let l=Cn(n),s=l.resolveStack(i.from,1);if(i.empty){let o=l.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:c}=o;if((c.from<i.from&&c.to>=i.to||c.to>i.to&&c.from<=i.from)&&o.next)return ee.range(c.to,c.from)}return i});return t.eq(n.selection)?!1:(e(Ni(n,t)),!0)};function Kw(n,e){let{state:t}=n,i=t.selection,l=t.selection.ranges.slice();for(let s of t.selection.ranges){let o=t.doc.lineAt(s.head);if(e?o.to<n.state.doc.length:o.from>0)for(let c=s;;){let f=n.moveVertically(c,e);if(f.head<o.from||f.head>o.to){l.some(d=>d.head==f.head)||l.push(f);break}else{if(f.head==c.head)break;c=f}}}return l.length==i.ranges.length?!1:(n.dispatch(Ni(t,ee.create(l,l.length-1))),!0)}const w3=n=>Kw(n,!1),C3=n=>Kw(n,!0),A3=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=ee.create([t.main]):t.main.empty||(i=ee.create([ee.cursor(t.main.head)])),i?(e(Ni(n,i)),!0):!1};function cu(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,l=i.changeByRange(s=>{let{from:o,to:c}=s;if(o==c){let f=e(s);f<o?(t="delete.backward",f=Pc(n,f,!1)):f>o&&(t="delete.forward",f=Pc(n,f,!0)),o=Math.min(o,f),c=Math.max(c,f)}else o=Pc(n,o,!1),c=Pc(n,c,!0);return o==c?{range:s}:{changes:{from:o,to:c},range:ee.cursor(o,o<s.head?-1:1)}});return l.changes.empty?!1:(n.dispatch(i.update(l,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?de.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Pc(n,e,t){if(n instanceof de)for(let i of n.state.facet(de.atomicRanges).map(l=>l(n)))i.between(e,e,(l,s)=>{l<e&&s>e&&(e=t?s:l)});return e}const Xw=(n,e,t)=>cu(n,i=>{let l=i.from,{state:s}=n,o=s.doc.lineAt(l),c,f;if(t&&!e&&l>o.from&&l<o.from+200&&!/[^ \t]/.test(c=o.text.slice(0,l-o.from))){if(c[c.length-1]=="	")return l-1;let d=ya(c,s.tabSize),p=d%_f(s)||_f(s);for(let m=0;m<p&&c[c.length-1-m]==" ";m++)l--;f=l}else f=It(o.text,l-o.from,e,e)+o.from,f==l&&o.number!=(e?s.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(f-o.from,l-o.from))&&(f=It(o.text,f-o.from,!1,!1)+o.from);return f}),ag=n=>Xw(n,!1,!0),Ww=n=>Xw(n,!0,!1),$w=(n,e)=>cu(n,t=>{let i=t.head,{state:l}=n,s=l.doc.lineAt(i),o=l.charCategorizer(i);for(let c=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?l.doc.lines:1)&&(i+=e?1:-1);break}let f=It(s.text,i-s.from,e)+s.from,d=s.text.slice(Math.min(i,f)-s.from,Math.max(i,f)-s.from),p=o(d);if(c!=null&&p!=c)break;(d!=" "||i!=t.head)&&(c=p),i=f}return i}),Jw=n=>$w(n,!1),M3=n=>$w(n,!0),T3=n=>cu(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),E3=n=>cu(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),O3=n=>cu(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),_3=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Je.of(["",""])},range:ee.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},N3=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let l=i.from,s=n.doc.lineAt(l),o=l==s.from?l-1:It(s.text,l-s.from,!1)+s.from,c=l==s.to?l+1:It(s.text,l-s.from,!0)+s.from;return{changes:{from:o,to:c,insert:n.doc.slice(l,c).append(n.doc.slice(o,l))},range:ee.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ih(n){let e=[],t=-1;for(let i of n.selection.ranges){let l=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=l.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:l.from,to:s.to,ranges:[i]});t=s.number+1}return e}function Zw(n,e,t){if(n.readOnly)return!1;let i=[],l=[];for(let s of ih(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),c=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let f of s.ranges)l.push(ee.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let f of s.ranges)l.push(ee.range(f.anchor-c,f.head-c))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:ee.create(l,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const D3=({state:n,dispatch:e})=>Zw(n,e,!1),B3=({state:n,dispatch:e})=>Zw(n,e,!0);function eC(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of ih(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});let l=n.changes(i);return e(n.update({changes:l,selection:n.selection.map(l,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const z3=({state:n,dispatch:e})=>eC(n,e,!1),R3=({state:n,dispatch:e})=>eC(n,e,!0),L3=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(ih(e).map(({from:l,to:s})=>(l>0?l--:s<e.doc.length&&s++,{from:l,to:s}))),i=xa(e.selection,l=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(l.head),c=n.coordsAtPos(l.head,l.assoc||1);c&&(s=o.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(l,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function j3(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Cn(n).resolveInner(e),i=t.childBefore(e),l=t.childAfter(e),s;return i&&l&&i.to<=e&&l.from>=e&&(s=i.type.prop(Le.closedBy))&&s.indexOf(l.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(l.from).from&&!/\S/.test(n.sliceDoc(i.to,l.from))?{from:i.to,to:l.from}:null}const Yv=tC(!1),H3=tC(!0);function tC(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(l=>{let{from:s,to:o}=l,c=e.doc.lineAt(s),f=!n&&s==o&&j3(e,s);n&&(s=o=(o<=c.to?c:e.doc.lineAt(o)).to);let d=new Jf(e,{simulateBreak:s,simulateDoubleBreak:!!f}),p=Qg(d,s);for(p==null&&(p=ya(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<c.to&&/\s/.test(c.text[o-c.from]);)o++;f?{from:s,to:o}=f:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",Wo(e,p)];return f&&m.push(Wo(e,d.lineIndent(c.from,-1))),{changes:{from:s,to:o,insert:Je.of(m)},range:ee.cursor(s+1+m[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Jg(n,e){let t=-1;return n.changeByRange(i=>{let l=[];for(let o=i.from;o<=i.to;){let c=n.doc.lineAt(o);c.number>t&&(i.empty||i.to>c.from)&&(e(c,l,i),t=c.number),o=c.to+1}let s=n.changes(l);return{changes:l,range:ee.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const U3=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Jf(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),l=Jg(n,(s,o,c)=>{let f=Qg(i,s.from);if(f==null)return;/\S/.test(s.text)||(f=0);let d=/^\s*/.exec(s.text)[0],p=Wo(n,f);(d!=p||c.from<s.from+d.length)&&(t[s.from]=f,o.push({from:s.from,to:s.from+d.length,insert:p}))});return l.changes.empty||e(n.update(l,{userEvent:"indent"})),!0},I3=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Jg(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Yg)})}),{userEvent:"input.indent"})),!0),V3=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Jg(n,(t,i)=>{let l=/^\s*/.exec(t.text)[0];if(!l)return;let s=ya(l,n.tabSize),o=0,c=Wo(n,Math.max(0,s-_f(n)));for(;o<l.length&&o<c.length&&l.charCodeAt(o)==c.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+l.length,insert:c.slice(o)})}),{userEvent:"delete.dedent"})),!0),q3=n=>(n.setTabFocusMode(),!0),P3=[{key:"Ctrl-b",run:Dw,shift:Vw,preventDefault:!0},{key:"Ctrl-f",run:Bw,shift:qw},{key:"Ctrl-p",run:Lw,shift:Gw},{key:"Ctrl-n",run:jw,shift:Yw},{key:"Ctrl-a",run:s3,shift:x3},{key:"Ctrl-e",run:a3,shift:b3},{key:"Ctrl-d",run:Ww},{key:"Ctrl-h",run:ag},{key:"Ctrl-k",run:T3},{key:"Ctrl-Alt-h",run:Jw},{key:"Ctrl-o",run:_3},{key:"Ctrl-t",run:N3},{key:"Ctrl-v",run:sg}],F3=[{key:"ArrowLeft",run:Dw,shift:Vw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$D,shift:c3,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:r3,shift:g3,preventDefault:!0},{key:"ArrowRight",run:Bw,shift:qw,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:JD,shift:f3,preventDefault:!0},{mac:"Cmd-ArrowRight",run:l3,shift:y3,preventDefault:!0},{key:"ArrowUp",run:Lw,shift:Gw,preventDefault:!0},{mac:"Cmd-ArrowUp",run:qv,shift:Fv},{mac:"Ctrl-ArrowUp",run:Uv,shift:Iv},{key:"ArrowDown",run:jw,shift:Yw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Pv,shift:Gv},{mac:"Ctrl-ArrowDown",run:sg,shift:Vv},{key:"PageUp",run:Uv,shift:Iv},{key:"PageDown",run:sg,shift:Vv},{key:"Home",run:i3,shift:m3,preventDefault:!0},{key:"Mod-Home",run:qv,shift:Fv},{key:"End",run:n3,shift:p3,preventDefault:!0},{key:"Mod-End",run:Pv,shift:Gv},{key:"Enter",run:Yv,shift:Yv},{key:"Mod-a",run:v3},{key:"Backspace",run:ag,shift:ag,preventDefault:!0},{key:"Delete",run:Ww,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Jw,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:M3,preventDefault:!0},{mac:"Mod-Backspace",run:E3,preventDefault:!0},{mac:"Mod-Delete",run:O3,preventDefault:!0}].concat(P3.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),G3=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e3,shift:h3},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t3,shift:d3},{key:"Alt-ArrowUp",run:D3},{key:"Shift-Alt-ArrowUp",run:z3},{key:"Alt-ArrowDown",run:B3},{key:"Shift-Alt-ArrowDown",run:R3},{key:"Mod-Alt-ArrowUp",run:w3},{key:"Mod-Alt-ArrowDown",run:C3},{key:"Escape",run:A3},{key:"Mod-Enter",run:H3},{key:"Alt-l",mac:"Ctrl-l",run:S3},{key:"Mod-i",run:k3,preventDefault:!0},{key:"Mod-[",run:V3},{key:"Mod-]",run:I3},{key:"Mod-Alt-\\",run:U3},{key:"Shift-Mod-k",run:L3},{key:"Shift-Mod-\\",run:u3},{key:"Mod-/",run:BD},{key:"Alt-A",run:RD},{key:"Ctrl-m",mac:"Shift-Alt-m",run:q3}].concat(F3);var Qv={};class zf{constructor(e,t,i,l,s,o,c,f,d,p=0,m){this.p=e,this.stack=t,this.state=i,this.reducePos=l,this.pos=s,this.score=o,this.buffer=c,this.bufferBase=f,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let l=e.parser.context;return new zf(e,[],t,i,i,0,[],0,l?new Kv(l,l.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,l=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(l);if(c&&(this.score+=c),i==0){this.pushState(s.getGoto(this.state,l,!0),this.reducePos),l<s.minRepeatTerm&&this.storeNode(l,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(l,this.reducePos);return}let f=this.stack.length-(i-1)*3-(e&262144?6:0),d=f?this.stack[f-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[l])===null||t===void 0)&&t.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=f?this.stack[f-1]:0,x=this.bufferBase+this.buffer.length-m;if(l<s.minRepeatTerm||e&131072){let b=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(l,d,b,x+4,!0)}if(e&262144)this.state=this.stack[f];else{let b=this.stack[f-3];this.state=s.getGoto(b,l,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(l,d)}storeNode(e,t,i,l=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,c=this.buffer.length;if(c==0&&o.parent&&(c=o.bufferBase-o.parent.bufferBase,o=o.parent),c>0&&o.buffer[c-4]==0&&o.buffer[c-1]>-1){if(t==i)return;if(o.buffer[c-2]>=t){o.buffer[c-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,l);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let c=!1;for(let f=o;f>0&&this.buffer[f-2]>i;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,l>4&&(l-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=l}}shift(e,t,i,l){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(l>this.pos||t<=o.maxNode)&&(this.pos=l,o.stateFlag(s,1)||(this.reducePos=l)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,l,4)}else this.pos=l,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,l,4)}apply(e,t,i,l){e&65536?this.reduce(e):this.shift(e,t,i,l)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let l=this.pos;this.reducePos=this.pos=l+e.length,this.pushState(t,l),this.buffer.push(i,l,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),l=e.bufferBase+t;for(;e&&l==e.bufferBase;)e=e.parent;return new zf(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,l,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Y3(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let l=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&l.push(t[s],o);if(this.stack.length<120)for(let s=0;l.length<8&&s<t.length;s+=2){let o=t[s+1];l.some((c,f)=>f&1&&c==o)||l.push(t[s],o)}t=l}let i=[];for(let l=0;l<t.length&&i.length<4;l+=2){let s=t[l+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[l],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,l=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],l,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(l,s)=>{if(!t.includes(l))return t.push(l),e.allActions(l,o=>{if(!(o&393216))if(o&65536){let c=(o>>19)-s;if(c>1){let f=o&65535,d=this.stack.length-c*3;if(d>=0&&e.getGoto(this.stack[d],f,!1)>=0)return c<<19|65536|f}}else{let c=i(o,s+1);if(c!=null)return c}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Kv(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Kv{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Y3{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let l=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=l}}class Rf{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Rf(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Rf(this.stack,this.pos,this.index)}}function Fc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,l=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),c=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let f=o-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[l++]=s:t=new e(s)}return t}class ff{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Xv=new ff;class Q3{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Xv,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,l=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!l)return null;let o=this.ranges[--l];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(l==this.ranges.length-1)return null;let o=this.ranges[++l];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,l;if(t>=0&&t<this.chunk.length)i=this.pos+e,l=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)l=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,c=this.range;for(;c.to<=i;)c=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-i)),l=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),l}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Xv,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let l of this.ranges){if(l.from>=t)break;l.to>e&&(i+=this.input.read(Math.max(l.from,e),Math.min(l.to,t)))}return i}}class ra{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;K3(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}ra.prototype.contextual=ra.prototype.fallback=ra.prototype.extend=!1;ra.prototype.fallback=ra.prototype.extend=!1;function K3(n,e,t,i,l,s){let o=0,c=1<<i,{dialect:f}=t.p.parser;e:for(;(c&n[o])!=0;){let d=n[o+1];for(let b=o+3;b<d;b+=2)if((n[b+1]&c)>0){let k=n[b];if(f.allows(k)&&(e.token.value==-1||e.token.value==k||X3(k,e.token.value,l,s))){e.acceptToken(k);break}}let p=e.next,m=0,x=n[o+2];if(e.next<0&&x>m&&n[d+x*3-3]==65535){o=n[d+x*3-1];continue e}for(;m<x;){let b=m+x>>1,k=d+b+(b<<1),w=n[k],M=n[k+1]||65536;if(p<w)x=b;else if(p>=M)m=b+1;else{o=n[k+2],e.advance();continue e}}break}}function Wv(n,e,t){for(let i=e,l;(l=n[i])!=65535;i++)if(l==t)return i-e;return-1}function X3(n,e,t,i){let l=Wv(t,i,e);return l<0||Wv(t,i,n)<l}const Jn=typeof process<"u"&&Qv&&/\bparse\b/.test(Qv.LOG);let Kp=null;function $v(n,e,t){let i=n.cursor(Qt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class W3{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?$v(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?$v(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],l=this.index[t];if(l==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[l],o=this.start[t]+i.positions[l];if(o>e)return this.nextStart=o,null;if(s instanceof jt){if(o==e){if(o<this.safeFrom)return null;let c=o+s.length;if(c<=this.safeTo){let f=s.prop(Le.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class $3{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new ff)}getActions(e){let t=0,i=null,{parser:l}=e.p,{tokenizers:s}=l,o=l.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let d=0;d<s.length;d++){if((1<<d&o)==0)continue;let p=s[d],m=this.tokens[d];if(!(i&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=o||m.context!=c)&&(this.updateCachedToken(m,p,e),m.mask=o,m.context=c),m.lookAhead>m.end+25&&(f=Math.max(m.lookAhead,f)),m.value!=0)){let x=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!p.extend&&(i=m,t>x))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!i&&e.pos==this.stream.end&&(i=new ff,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ff,{pos:i,p:l}=e;return t.start=i,t.end=Math.min(i+1,l.stream.end),t.value=i==l.stream.end?l.parser.eofTerm:0,t}updateCachedToken(e,t,i){let l=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(l,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let c=s.specializers[o](this.stream.read(e.start,e.end),i);if(c>=0&&i.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(l+1)}putAction(e,t,i,l){for(let s=0;s<l;s+=3)if(this.actions[s]==e)return l;return this.actions[l++]=e,this.actions[l++]=t,this.actions[l++]=i,l}addActions(e,t,i,l){let{state:s}=e,{parser:o}=e.p,{data:c}=o;for(let f=0;f<2;f++)for(let d=o.stateSlot(s,f?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=Cr(c,d+2);else{l==0&&c[d+1]==2&&(l=this.putAction(Cr(c,d+2),t,i,l));break}c[d]==t&&(l=this.putAction(Cr(c,d+1),t,i,l))}return l}}class J3{constructor(e,t,i,l){this.parser=e,this.input=t,this.ranges=l,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Q3(t,l),this.tokens=new $3(e,this.stream),this.topTerm=e.top[1];let{from:s}=l[0];this.stacks=[zf.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new W3(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],l,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let c=e[o];for(;;){if(this.tokens.mainToken=null,c.pos>t)i.push(c);else{if(this.advanceStack(c,i,e))continue;{l||(l=[],s=[]),l.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!i.length){let o=l&&e4(l);if(o)return Jn&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Jn&&l&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&l){let o=this.stoppedAt!=null&&l[0].pos>this.stoppedAt?l[0]:this.runRecovery(l,s,i);if(o)return Jn&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((c,f)=>f.score-c.score);i.length>o;)i.pop();i.some(c=>c.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let c=i[o];for(let f=o+1;f<i.length;f++){let d=i[f];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)i.splice(f--,1);else{i.splice(o--,1);continue e}}}i.length>12&&(i.sort((o,c)=>c.score-o.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let l=e.pos,{parser:s}=this,o=Jn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&l>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(l);m;){let x=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(x>-1&&m.length&&(!d||(m.prop(Le.contextHash)||0)==p))return e.useNode(m,x),Jn&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof jt)||m.children.length==0||m.positions[0]>0)break;let b=m.children[0];if(b instanceof jt&&m.positions[0]==0)m=b;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),Jn&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let d=0;d<f.length;){let p=f[d++],m=f[d++],x=f[d++],b=d==f.length||!i,k=b?e:e.split(),w=this.tokens.mainToken;if(k.apply(p,m,w?w.start:k.pos,x),Jn&&console.log(o+this.stackID(k)+` (via ${(p&65536)==0?"shift":`reduce of ${s.getName(p&65535)}`} for ${s.getName(m)} @ ${l}${k==e?"":", split"})`),b)return!0;k.pos>l?t.push(k):i.push(k)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Jv(e,t),!0}}runRecovery(e,t,i){let l=null,s=!1;for(let o=0;o<e.length;o++){let c=e[o],f=t[o<<1],d=t[(o<<1)+1],p=Jn?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),Jn&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,i))))continue;let m=c.split(),x=p;for(let b=0;b<10&&m.forceReduce()&&(Jn&&console.log(x+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,i));b++)Jn&&(x=this.stackID(m)+" -> ");for(let b of c.recoverByInsert(f))Jn&&console.log(p+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,i);this.stream.end>c.pos?(d==c.pos&&(d++,f=0),c.recoverByDelete(f,d),Jn&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),Jv(c,i)):(!l||l.score<c.score)&&(l=c)}return l}stackToTree(e){return e.close(),jt.build({buffer:Rf.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Kp||(Kp=new WeakMap)).get(e);return t||Kp.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Jv(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Z3{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class Lf extends tw{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let i=Object.keys(e.topRules).map(c=>e.topRules[c][1]),l=[];for(let c=0;c<t.length;c++)l.push([]);function s(c,f,d){l[c].push([f,f.deserialize(String(d))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=Le[f]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)s(p,f,c[d++]);else{let m=c[d+-p];for(let x=-p;x>0;x--)s(c[d++],f,m);d++}}}this.nodeSet=new qg(t.map((c,f)=>qn.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:l[f],top:i.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=$k;let o=Fc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(Zv),this.states=Fc(e.states,Uint32Array),this.data=Fc(e.stateData),this.goto=Fc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new ra(o,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let l=new J3(this,e,t,i);for(let s of this.wrappers)l=s(l,e,t,i);return l}getGoto(e,t,i=!1){let l=this.goto;if(t>=l[0])return-1;for(let s=l[t+1];;){let o=l[s++],c=o&1,f=l[s++];if(c&&i)return f;for(let d=s+(o>>1);s<d;s++)if(l[s]==e)return f;if(c)return-1}}hasAction(e,t){let i=this.data;for(let l=0;l<2;l++)for(let s=this.stateSlot(e,l?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Cr(i,s+2)];else{if(i[s+1]==2)return Cr(i,s+2);break}if(o==t||o==0)return Cr(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),l=i?t(i):void 0;for(let s=this.stateSlot(e,1);l==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Cr(this.data,s+2);else break;l=t(Cr(this.data,s+1))}return l}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Cr(this.data,i+2);else break;if((this.data[i+2]&1)==0){let l=this.data[i+1];t.some((s,o)=>o&1&&s==l)||t.push(this.data[i],l)}}return t}configure(e){let t=Object.assign(Object.create(Lf.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let l=e.tokenizers.find(s=>s.from==i);return l?l.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,l)=>{let s=e.specializers.find(c=>c.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[l]=Zv(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let l=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],c;(c=this.data[o++])!=65535;)(l||(l=new Uint8Array(this.maxTerm+1)))[c]=1;return new Z3(e,i,l)}static deserialize(e){return new Lf(e)}}function Cr(n,e){return n[e]|n[e+1]<<16}function e4(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Zv(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const t4=nw({String:Y.string,Number:Y.number,"True False":Y.bool,PropertyName:Y.propertyName,Null:Y.null,", :":Y.separator,"[ ]":Y.squareBracket,"{ }":Y.brace}),n4=Lf.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[t4],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),i4=Ef.define({name:"json",parser:n4.configure({props:[sw.add({Object:Bv({except:/^\s*\}/}),Array:Bv({except:/^\s*\]/})}),uw.add({"Object Array":sD})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function nC(){return new XN(i4)}const r4="#e5c07b",eS="#e06c75",l4="#56b6c2",s4="#ffffff",hf="#abb2bf",og="#7d8799",a4="#61afef",o4="#98c379",tS="#d19a66",u4="#c678dd",c4="#21252b",nS="#2c313a",iS="#282c34",Xp="#353a42",f4="#3E4451",rS="#528bff",h4=de.theme({"&":{color:hf,backgroundColor:iS},".cm-content":{caretColor:rS},".cm-cursor, .cm-dropCursor":{borderLeftColor:rS},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:f4},".cm-panels":{backgroundColor:c4,color:hf},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:iS,color:og,border:"none"},".cm-activeLineGutter":{backgroundColor:nS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Xp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Xp,borderBottomColor:Xp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:nS,color:hf}}},{dark:!0}),d4=uu.define([{tag:Y.keyword,color:u4},{tag:[Y.name,Y.deleted,Y.character,Y.propertyName,Y.macroName],color:eS},{tag:[Y.function(Y.variableName),Y.labelName],color:a4},{tag:[Y.color,Y.constant(Y.name),Y.standard(Y.name)],color:tS},{tag:[Y.definition(Y.name),Y.separator],color:hf},{tag:[Y.typeName,Y.className,Y.number,Y.changed,Y.annotation,Y.modifier,Y.self,Y.namespace],color:r4},{tag:[Y.operator,Y.operatorKeyword,Y.url,Y.escape,Y.regexp,Y.link,Y.special(Y.string)],color:l4},{tag:[Y.meta,Y.comment],color:og},{tag:Y.strong,fontWeight:"bold"},{tag:Y.emphasis,fontStyle:"italic"},{tag:Y.strikethrough,textDecoration:"line-through"},{tag:Y.link,color:og,textDecoration:"underline"},{tag:Y.heading,fontWeight:"bold",color:eS},{tag:[Y.atom,Y.bool,Y.special(Y.variableName)],color:tS},{tag:[Y.processingInstruction,Y.string,Y.inserted],color:o4},{tag:Y.invalid,color:s4}]),Zg=[h4,Xg(d4)],$o={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Gl=Ge.define({map(n,e){let t=e.mapPos(n,-1,Hn.TrackAfter);return t??void 0}}),e0=new class extends cl{};e0.startSide=1;e0.endSide=-1;const iC=fn.define({create(){return Ve.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(Gl)&&(n=n.update({add:[e0.range(t.value,t.value+1)]}));return n}});function rC(){return[m4,iC]}const Wp="()[]{}<>";function lC(n){for(let e=0;e<Wp.length;e+=2)if(Wp.charCodeAt(e)==n)return Wp.charAt(e+1);return w2(n<128?n:n+1)}function sC(n,e){return n.languageDataAt("closeBrackets",e)[0]||$o}const p4=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),m4=de.inputHandler.of((n,e,t,i)=>{if((p4?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let l=n.state.selection.main;if(i.length>2||i.length==2&&iu(ml(i,0))==1||e!=l.from||t!=l.to)return!1;let s=x4(n.state,i);return s?(n.dispatch(s),!0):!1}),g4=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=sC(n,n.selection.main.head).brackets||$o.brackets,l=null,s=n.changeByRange(o=>{if(o.empty){let c=b4(n.doc,o.head);for(let f of i)if(f==c&&rh(n.doc,o.head)==lC(ml(f,0)))return{changes:{from:o.head-f.length,to:o.head+f.length},range:ee.cursor(o.head-f.length)}}return{range:l=o}});return l||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!l},y4=[{key:"Backspace",run:g4}];function x4(n,e){let t=sC(n,n.selection.main.head),i=t.brackets||$o.brackets;for(let l of i){let s=lC(ml(l,0));if(e==l)return s==l?k4(n,l,i.indexOf(l+l+l)>-1,t):v4(n,l,s,t.before||$o.before);if(e==s&&aC(n,n.selection.main.from))return S4(n,l,s)}return null}function aC(n,e){let t=!1;return n.field(iC).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function rh(n,e){let t=n.sliceString(e,e+2);return t.slice(0,iu(ml(t,0)))}function b4(n,e){let t=n.sliceString(e-2,e);return iu(ml(t,0))==t.length?t:t.slice(1)}function v4(n,e,t,i){let l=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Gl.of(o.to+e.length),range:ee.range(o.anchor+e.length,o.head+e.length)};let c=rh(n.doc,o.head);return!c||/\s/.test(c)||i.indexOf(c)>-1?{changes:{insert:e+t,from:o.head},effects:Gl.of(o.head+e.length),range:ee.cursor(o.head+e.length)}:{range:l=o}});return l?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function S4(n,e,t){let i=null,l=n.changeByRange(s=>s.empty&&rh(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:ee.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function k4(n,e,t,i){let l=i.stringPrefixes||$o.stringPrefixes,s=null,o=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:Gl.of(c.to+e.length),range:ee.range(c.anchor+e.length,c.head+e.length)};let f=c.head,d=rh(n.doc,f),p;if(d==e){if(lS(n,f))return{changes:{insert:e+e,from:f},effects:Gl.of(f+e.length),range:ee.cursor(f+e.length)};if(aC(n,f)){let x=t&&n.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+x.length,insert:x},range:ee.cursor(f+x.length)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(p=sS(n,f-2*e.length,l))>-1&&lS(n,p))return{changes:{insert:e+e+e+e,from:f},effects:Gl.of(f+e.length),range:ee.cursor(f+e.length)};if(n.charCategorizer(f)(d)!=Lt.Word&&sS(n,f,l)>-1&&!w4(n,f,e,l))return{changes:{insert:e+e,from:f},effects:Gl.of(f+e.length),range:ee.cursor(f+e.length)}}return{range:s=c}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function lS(n,e){let t=Cn(n).resolveInner(e+1);return t.parent&&t.from==e}function w4(n,e,t,i){let l=Cn(n).resolveInner(e,-1),s=i.reduce((o,c)=>Math.max(o,c.length),0);for(let o=0;o<5;o++){let c=n.sliceDoc(l.from,Math.min(l.to,l.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&i.indexOf(c.slice(0,f))>-1){let p=l.firstChild;for(;p&&p.from==l.from&&p.to-p.from>t.length+f;){if(n.sliceDoc(p.to-t.length,p.to)==t)return!1;p=p.firstChild}return!0}let d=l.to==e&&l.parent;if(!d)break;l=d}return!1}function sS(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Lt.Word)return e;for(let l of t){let s=e-l.length;if(n.sliceDoc(s,e)==l&&i(n.sliceDoc(s-1,s))!=Lt.Word)return s}return-1}const aS=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Jo{constructor(e,t,i=0,l=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,l),this.bufferStart=i,this.normalize=s?c=>s(aS(c)):aS,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ml(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=w2(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=iu(e);let l=this.normalize(t);if(l.length)for(let s=0,o=i;;s++){let c=l.charCodeAt(s),f=this.match(c,o,this.bufferPos+this.bufferStart);if(s==l.length-1){if(f)return this.value=f,this;break}o==i&&s<t.length&&t.charCodeAt(s)==c&&o++}}}match(e,t,i){let l=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],c=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?l={from:this.matches[s+1],to:i}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?l={from:t,to:i}:this.matches.push(1,t)),l&&this.test&&!this.test(l.from,l.to,this.buffer,this.bufferStart)&&(l=null),l}}typeof Symbol<"u"&&(Jo.prototype[Symbol.iterator]=function(){return this});const oC={from:-1,to:-1,match:/.*/.exec("")},t0="gm"+(/x/.unicode==null?"":"u");class uC{constructor(e,t,i,l=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=oC,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new cC(e,t,i,l,s);this.re=new RegExp(t,t0+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let o=e.lineAt(l);this.curLineStart=o.from,this.matchPos=jf(e,l),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,l=i+t[0].length;if(this.matchPos=jf(this.text,l+(i==l?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<l||i>this.value.to)&&(!this.test||this.test(i,l,t)))return this.value={from:i,to:l,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const $p=new WeakMap;class la{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let l=$p.get(e);if(!l||l.from>=i||l.to<=t){let c=new la(t,e.sliceString(t,i));return $p.set(e,c),c}if(l.from==t&&l.to==i)return l;let{text:s,from:o}=l;return o>t&&(s=e.sliceString(t,o)+s,o=t),l.to<i&&(s+=e.sliceString(l.to,i)),$p.set(e,new la(o,s)),new la(t,s.slice(t-o,i-o))}}class cC{constructor(e,t,i,l,s){this.text=e,this.to=s,this.done=!1,this.value=oC,this.matchPos=jf(e,l),this.re=new RegExp(t,t0+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=la.get(e,l,this.chunkEnd(l+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,l=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,l,t)))return this.value={from:i,to:l,match:t},this.matchPos=jf(this.text,l+(i==l?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=la.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(uC.prototype[Symbol.iterator]=cC.prototype[Symbol.iterator]=function(){return this});function C4(n){try{return new RegExp(n,t0),!0}catch{return!1}}function jf(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function ug(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=sn("input",{class:"cm-textfield",name:"line",value:e}),i=sn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Lo.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),l())},onsubmit:s=>{s.preventDefault(),l()}},sn("label",n.state.phrase("Go to line"),": ",t)," ",sn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),sn("button",{name:"close",onclick:()=>{n.dispatch({effects:Lo.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function l(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,c=o.doc.lineAt(o.selection.main.head),[,f,d,p,m]=s,x=p?+p.slice(1):0,b=d?+d:c.number;if(d&&m){let M=b/100;f&&(M=M*(f=="-"?-1:1)+c.number/o.doc.lines),b=Math.round(o.doc.lines*M)}else d&&f&&(b=b*(f=="-"?-1:1)+c.number);let k=o.doc.line(Math.max(1,Math.min(o.doc.lines,b))),w=ee.cursor(k.from+Math.max(0,Math.min(x,k.length)));n.dispatch({effects:[Lo.of(!1),de.scrollIntoView(w.from,{y:"center"})],selection:w}),n.focus()}return{dom:i}}const Lo=Ge.define(),oS=fn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Lo)&&(n=t.value);return n},provide:n=>Af.from(n,e=>e?ug:null)}),A4=n=>{let e=Cf(n,ug);if(!e){let t=[Lo.of(!0)];n.state.field(oS,!1)==null&&t.push(Ge.appendConfig.of([oS,M4])),n.dispatch({effects:t}),e=Cf(n,ug)}return e&&e.dom.querySelector("input").select(),!0},M4=de.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),T4=({state:n,dispatch:e})=>{let{selection:t}=n,i=ee.create(t.ranges.map(l=>n.wordAt(l.head)||ee.cursor(l.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function E4(n,e){let{main:t,ranges:i}=n.selection,l=n.wordAt(t.head),s=l&&l.from==t.from&&l.to==t.to;for(let o=!1,c=new Jo(n.doc,e,i[i.length-1].to);;)if(c.next(),c.done){if(o)return null;c=new Jo(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(f=>f.from==c.value.from))continue;if(s){let f=n.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const O4=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return T4({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let l=E4(n,i);return l?(e(n.update({selection:n.selection.addRange(ee.range(l.from,l.to),!1),effects:de.scrollIntoView(l.to)})),!0):!1},ns=ye.define({combine(n){return ts(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new V4(e),scrollToMatch:e=>de.scrollIntoView(e)})}});function fC(n){return n?[ns.of(n),fg]:fg}class hC{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||C4(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new B4(this):new N4(this)}getCursor(e,t=0,i){let l=e.doc?e:Ie.create({doc:e});return i==null&&(i=l.doc.length),this.regexp?Ws(this,l,t,i):Xs(this,l,t,i)}}class dC{constructor(e){this.spec=e}}function Xs(n,e,t,i){return new Jo(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:l=>l.toLowerCase(),n.wholeWord?_4(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function _4(n,e){return(t,i,l,s)=>((s>t||s+l.length<i)&&(s=Math.max(0,t-2),l=n.sliceString(s,Math.min(n.length,i+2))),(e(Hf(l,t-s))!=Lt.Word||e(Uf(l,t-s))!=Lt.Word)&&(e(Uf(l,i-s))!=Lt.Word||e(Hf(l,i-s))!=Lt.Word))}class N4 extends dC{constructor(e){super(e)}nextMatch(e,t,i){let l=Xs(this.spec,e,i,e.doc.length).nextOverlapping();if(l.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);l=Xs(this.spec,e,0,s).nextOverlapping()}return l.done||l.value.from==t&&l.value.to==i?null:l.value}prevMatchInRange(e,t,i){for(let l=i;;){let s=Math.max(t,l-1e4-this.spec.unquoted.length),o=Xs(this.spec,e,s,l),c=null;for(;!o.nextOverlapping().done;)c=o.value;if(c)return c;if(s==t)return null;l-=1e4}}prevMatch(e,t,i){let l=this.prevMatchInRange(e,0,t);return l||(l=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),l&&(l.from!=t||l.to!=i)?l:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Xs(this.spec,e,0,e.doc.length),l=[];for(;!i.next().done;){if(l.length>=t)return null;l.push(i.value)}return l}highlight(e,t,i,l){let s=Xs(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)l(s.value.from,s.value.to)}}function Ws(n,e,t,i){return new uC(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?D4(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function Hf(n,e){return n.slice(It(n,e,!1),e)}function Uf(n,e){return n.slice(e,It(n,e))}function D4(n){return(e,t,i)=>!i[0].length||(n(Hf(i.input,i.index))!=Lt.Word||n(Uf(i.input,i.index))!=Lt.Word)&&(n(Uf(i.input,i.index+i[0].length))!=Lt.Word||n(Hf(i.input,i.index+i[0].length))!=Lt.Word)}class B4 extends dC{nextMatch(e,t,i){let l=Ws(this.spec,e,i,e.doc.length).next();return l.done&&(l=Ws(this.spec,e,0,t).next()),l.done?null:l.value}prevMatchInRange(e,t,i){for(let l=1;;l++){let s=Math.max(t,i-l*1e4),o=Ws(this.spec,e,s,i),c=null;for(;!o.next().done;)c=o.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let l=i.length;l>0;l--){let s=+i.slice(0,l);if(s>0&&s<e.match.length)return e.match[s]+i.slice(l)}return t})}matchAll(e,t){let i=Ws(this.spec,e,0,e.doc.length),l=[];for(;!i.next().done;){if(l.length>=t)return null;l.push(i.value)}return l}highlight(e,t,i,l){let s=Ws(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)l(s.value.from,s.value.to)}}const Zo=Ge.define(),n0=Ge.define(),ul=fn.define({create(n){return new Jp(cg(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Zo)?n=new Jp(t.value.create(),n.panel):t.is(n0)&&(n=new Jp(n.query,t.value?i0:null));return n},provide:n=>Af.from(n,e=>e.panel)});class Jp{constructor(e,t){this.query=e,this.panel=t}}const z4=_e.mark({class:"cm-searchMatch"}),R4=_e.mark({class:"cm-searchMatch cm-searchMatch-selected"}),L4=cn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ul))}update(n){let e=n.state.field(ul);(e!=n.startState.field(ul)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return _e.none;let{view:t}=this,i=new ii;for(let l=0,s=t.visibleRanges,o=s.length;l<o;l++){let{from:c,to:f}=s[l];for(;l<o-1&&f>s[l+1].from-500;)f=s[++l].to;n.highlight(t.state,c,f,(d,p)=>{let m=t.state.selection.ranges.some(x=>x.from==d&&x.to==p);i.add(d,p,m?R4:z4)})}return i.finish()}},{decorations:n=>n.decorations});function fu(n){return e=>{let t=e.state.field(ul,!1);return t&&t.query.spec.valid?n(e,t):gC(e)}}const If=fu((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let l=ee.single(i.from,i.to),s=n.state.facet(ns);return n.dispatch({selection:l,effects:[r0(n,i),s.scrollToMatch(l.main,n)],userEvent:"select.search"}),mC(n),!0}),Vf=fu((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,l=e.prevMatch(t,i,i);if(!l)return!1;let s=ee.single(l.from,l.to),o=n.state.facet(ns);return n.dispatch({selection:s,effects:[r0(n,l),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),mC(n),!0}),j4=fu((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:ee.create(t.map(i=>ee.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),H4=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:l}=t.main,s=[],o=0;for(let c=new Jo(n.doc,n.sliceDoc(i,l));!c.next().done;){if(s.length>1e3)return!1;c.value.from==i&&(o=s.length),s.push(ee.range(c.value.from,c.value.to))}return e(n.update({selection:ee.create(s,o),userEvent:"select.search.matches"})),!0},uS=fu((n,{query:e})=>{let{state:t}=n,{from:i,to:l}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=s,c=[],f,d,p=[];o.from==i&&o.to==l&&(d=t.toText(e.getReplacement(o)),c.push({from:o.from,to:o.to,insert:d}),o=e.nextMatch(t,o.from,o.to),p.push(de.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let m=n.state.changes(c);return o&&(f=ee.single(o.from,o.to).map(m),p.push(r0(n,o)),p.push(t.facet(ns).scrollToMatch(f.main,n))),n.dispatch({changes:m,selection:f,effects:p,userEvent:"input.replace"}),!0}),U4=fu((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(l=>{let{from:s,to:o}=l;return{from:s,to:o,insert:e.getReplacement(l)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:de.announce.of(i),userEvent:"input.replace.all"}),!0});function i0(n){return n.state.facet(ns).createPanel(n)}function cg(n,e){var t,i,l,s,o;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(e&&!f)return e;let d=n.facet(ns);return new hC({search:((t=e?.literal)!==null&&t!==void 0?t:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:d.caseSensitive,literal:(l=e?.literal)!==null&&l!==void 0?l:d.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:d.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:d.wholeWord})}function pC(n){let e=Cf(n,i0);return e&&e.dom.querySelector("[main-field]")}function mC(n){let e=pC(n);e&&e==n.root.activeElement&&e.select()}const gC=n=>{let e=n.state.field(ul,!1);if(e&&e.panel){let t=pC(n);if(t&&t!=n.root.activeElement){let i=cg(n.state,e.query.spec);i.valid&&n.dispatch({effects:Zo.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[n0.of(!0),e?Zo.of(cg(n.state,e.query.spec)):Ge.appendConfig.of(fg)]});return!0},yC=n=>{let e=n.state.field(ul,!1);if(!e||!e.panel)return!1;let t=Cf(n,i0);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:n0.of(!1)}),!0},I4=[{key:"Mod-f",run:gC,scope:"editor search-panel"},{key:"F3",run:If,shift:Vf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:If,shift:Vf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yC,scope:"editor search-panel"},{key:"Mod-Shift-l",run:H4},{key:"Mod-Alt-g",run:A4},{key:"Mod-d",run:O4,preventDefault:!0}];class V4{constructor(e){this.view=e;let t=this.query=e.state.field(ul).query.spec;this.commit=this.commit.bind(this),this.searchField=sn("input",{value:t.search,placeholder:Zn(e,"Find"),"aria-label":Zn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=sn("input",{value:t.replace,placeholder:Zn(e,"Replace"),"aria-label":Zn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=sn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=sn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=sn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(l,s,o){return sn("button",{class:"cm-button",name:l,onclick:s,type:"button"},o)}this.dom=sn("div",{onkeydown:l=>this.keydown(l),class:"cm-search"},[this.searchField,i("next",()=>If(e),[Zn(e,"next")]),i("prev",()=>Vf(e),[Zn(e,"previous")]),i("select",()=>j4(e),[Zn(e,"all")]),sn("label",null,[this.caseField,Zn(e,"match case")]),sn("label",null,[this.reField,Zn(e,"regexp")]),sn("label",null,[this.wordField,Zn(e,"by word")]),...e.state.readOnly?[]:[sn("br"),this.replaceField,i("replace",()=>uS(e),[Zn(e,"replace")]),i("replaceAll",()=>U4(e),[Zn(e,"replace all")])],sn("button",{name:"close",onclick:()=>yC(e),"aria-label":Zn(e,"close"),type:"button"},[""])])}commit(){let e=new hC({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Zo.of(e)}))}keydown(e){Q_(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Vf:If)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),uS(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Zo)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ns).top}}function Zn(n,e){return n.state.phrase(e)}const Gc=30,Yc=/[\s\.,:;?!]/;function r0(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),l=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-Gc),o=Math.min(l,t+Gc),c=n.state.sliceDoc(s,o);if(s!=i.from){for(let f=0;f<Gc;f++)if(!Yc.test(c[f+1])&&Yc.test(c[f])){c=c.slice(f);break}}if(o!=l){for(let f=c.length-1;f>c.length-Gc;f--)if(!Yc.test(c[f-1])&&Yc.test(c[f])){c=c.slice(0,f);break}}return de.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${i.number}.`)}const q4=de.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),fg=[ul,Zl.low(L4),q4],P4="_editorContainer_19bkt_1",F4={editorContainer:P4};function xC({initialValue:n="",theme:e="dark",onChange:t}){const i=ve.useRef(null),l=ve.useRef(null),s=ve.useRef(new es);return ve.useEffect(()=>{if(!i.current)return;const o=Ie.create({doc:n,extensions:[Xk(),Wk(),Vk(),Tw(),yw(),jk(),Ik(),Ie.allowMultipleSelections.of(!0),ow(),Xg(bw,{fallback:!0}),ww(),rC(),Pk(),Fk(),qk(),fC({top:!0}),nC(),s.current.of(G4(e)),Dk.of([...y4,...G3,...I4,...WD,...pD]),de.updateListener.of(f=>{f.docChanged&&t&&t(f.state.doc.toString())})]}),c=new de({state:o,parent:i.current});return l.current=c,()=>{c.destroy()}},[]),ve.useEffect(()=>{l.current&&l.current.dispatch({effects:s.current.reconfigure(e==="dark"?Zg:[])})},[e]),ve.useEffect(()=>{if(l.current&&n!==void 0){const o=l.current.state.doc.toString();o!==n&&l.current.dispatch({changes:{from:0,to:o.length,insert:n}})}},[n]),S.jsx("div",{className:F4.editorContainer,ref:i})}const G4=n=>n==="dark"?Zg:[];const Y4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),cS=n=>{const e=Q4(n);return e.charAt(0).toUpperCase()+e.slice(1)},bC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),K4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var X4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W4=ve.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:o,...c},f)=>ve.createElement("svg",{ref:f,...X4,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:bC("lucide",l),...!s&&!K4(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,p])=>ve.createElement(d,p)),...Array.isArray(s)?s:[s]]));const Me=(n,e)=>{const t=ve.forwardRef(({className:i,...l},s)=>ve.createElement(W4,{ref:s,iconNode:e,className:bC(`lucide-${Y4(cS(n))}`,`lucide-${n}`,i),...l}));return t.displayName=cS(n),t};const $4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],J4=Me("arrow-down",$4);const Z4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vC=Me("arrow-left",Z4);const eB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],tB=Me("arrow-right-left",eB);const nB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iB=Me("arrow-right",nB);const rB=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lB=Me("arrow-up",rB);const sB=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],aB=Me("braces",sB);const oB=[["path",{d:"M16 3h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3",key:"1kt8lf"}],["path",{d:"M8 21H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h3",key:"gduv9"}]],uB=Me("brackets",oB);const cB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hg=Me("check",cB);const fB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hB=Me("chevron-down",fB);const dB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pB=Me("chevron-right",dB);const mB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fS=Me("circle-question-mark",mB);const gB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],SC=Me("clipboard",gB);const yB=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],dg=Me("code",yB);const xB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],l0=Me("copy",xB);const bB=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],vB=Me("cpu",bB);const SB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kC=Me("download",SB);const kB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],pg=Me("file-braces",kB);const wB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],hS=Me("file-code",wB);const CB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AB=Me("file-text",CB);const MB=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],wC=Me("folder-tree",MB);const TB=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],EB=Me("git-compare",TB);const OB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_B=Me("info",OB);const NB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],DB=Me("key",NB);const BB=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],zB=Me("keyboard",BB);const RB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LB=Me("loader-circle",RB);const jB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],HB=Me("message-square-text",jB);const UB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],CC=Me("message-square",UB);const IB=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],VB=Me("minimize",IB);const qB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PB=Me("moon",qB);const FB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],GB=Me("palette",FB);const YB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],AC=Me("refresh-cw",YB);const QB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KB=Me("search",QB);const XB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WB=Me("send",XB);const $B=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JB=Me("settings",$B);const ZB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],e5=Me("share-2",ZB);const t5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n5=Me("shield-check",t5);const i5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],r5=Me("shield",i5);const l5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],eu=Me("sparkles",l5);const s5=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],a5=Me("square-dashed",s5);const o5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],u5=Me("sun",o5);const c5=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],f5=Me("table",c5);const h5=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],MC=Me("text-align-start",h5);const d5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],TC=Me("trash-2",d5);const p5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m5=Me("triangle-alert",p5);const g5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lh=Me("upload",g5);const y5=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],qf=Me("wand-sparkles",y5);const x5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$l=Me("x",x5);const b5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],v5=Me("zap",b5),S5="_overlay_9nk77_1",k5="_modal_9nk77_15",w5="_header_9nk77_37",C5="_closeBtn_9nk77_51",A5="_sectionTitle_9nk77_57",M5="_sectionDivider_9nk77_71",T5="_content_9nk77_77",E5="_inputGroup_9nk77_81",O5="_inputWrapper_9nk77_93",_5="_inputIcon_9nk77_99",N5="_input_9nk77_81",D5="_select_9nk77_122",B5="_refreshBtn_9nk77_142",z5="_spin_9nk77_155",R5="_hint_9nk77_169",L5="_link_9nk77_176",j5="_info_9nk77_188",H5="_infoIcon_9nk77_199",U5="_footer_9nk77_203",I5="_cancelBtn_9nk77_211",V5="_saveBtn_9nk77_224",q5="_toggleRow_9nk77_237",P5="_toggleText_9nk77_250",F5="_themeBtn_9nk77_255",et={overlay:S5,modal:k5,header:w5,closeBtn:C5,sectionTitle:A5,sectionDivider:M5,content:T5,inputGroup:E5,inputWrapper:O5,inputIcon:_5,input:N5,select:D5,refreshBtn:B5,spin:z5,hint:R5,link:L5,info:j5,infoIcon:H5,footer:U5,cancelBtn:I5,saveBtn:V5,toggleRow:q5,toggleText:P5,themeBtn:F5};function G5(){const{isAiModalOpen:n,setAiModalOpen:e,apiKey:t,setApiKey:i,preferredModel:l,setPreferredModel:s,theme:o,setTheme:c}=Rt(),[f,d]=ve.useState(t),[p,m]=ve.useState(o),[x,b]=ve.useState(l),[k,w]=ve.useState([]),[M,T]=ve.useState(!1);ve.useEffect(()=>{n&&(d(t),m(o),b(l),t&&L(t))},[n,t,o,l]);const L=async ne=>{if(!ne)return;T(!0);const Q=await zE(ne);w(Q),T(!1)};if(!n)return null;const R=()=>{i(f),c(p),s(x),e(!1)};return S.jsx("div",{className:et.overlay,children:S.jsxs("div",{className:et.modal,children:[S.jsxs("div",{className:et.header,children:[S.jsx("h3",{children:"Settings"}),S.jsx("button",{onClick:()=>e(!1),className:et.closeBtn,children:S.jsx($l,{size:18})})]}),S.jsxs("div",{className:et.content,children:[S.jsx("div",{className:et.sectionTitle,children:"General"}),S.jsxs("div",{className:et.inputGroup,children:[S.jsx("label",{children:"Appearance"}),S.jsxs("div",{className:et.inputWrapper,children:[S.jsx(GB,{size:16,className:et.inputIcon}),S.jsxs("div",{className:et.toggleRow,onClick:()=>m(p==="dark"?"light":"dark"),children:[S.jsx("span",{className:et.toggleText,children:p==="dark"?"Dark Mode":"Light Mode"}),S.jsx("button",{className:et.themeBtn,children:p==="dark"?S.jsx(PB,{size:16}):S.jsx(u5,{size:16})})]})]})]}),S.jsx("div",{className:et.sectionDivider}),S.jsx("div",{className:et.sectionTitle,children:"Intelligence"}),S.jsxs("div",{className:et.inputGroup,children:[S.jsx("label",{children:"Google Gemini API Key"}),S.jsxs("div",{className:et.inputWrapper,children:[S.jsx(DB,{size:16,className:et.inputIcon}),S.jsx("input",{type:"password",placeholder:"Enter your API Key",value:f,onChange:ne=>d(ne.target.value),className:et.input})]}),S.jsxs("p",{className:et.hint,children:["Your key is stored locally in your browser. We never see it.",S.jsx("br",{}),S.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:et.link,children:"Get your free API Key here "})]})]}),S.jsxs("div",{className:et.inputGroup,children:[S.jsx("label",{children:"Preferred Model"}),S.jsxs("div",{className:et.inputWrapper,children:[S.jsx(a5,{size:16,className:et.inputIcon}),S.jsxs("select",{value:x,onChange:ne=>b(ne.target.value),className:et.select,disabled:M||k.length===0,children:[S.jsx("option",{value:"auto",children:"Auto (Recommended)"}),k.map(ne=>S.jsx("option",{value:ne.name,children:ne.displayName||ne.name.replace("models/","")},ne.name))]}),k.length===0&&f&&S.jsx("button",{onClick:()=>L(f),className:et.refreshBtn,title:"Refresh Models",children:S.jsx(AC,{size:14,className:M?et.spin:""})})]})]}),S.jsxs("div",{className:et.info,children:[S.jsx(n5,{size:16,className:et.infoIcon}),S.jsx("span",{children:"Enables Fix, Generate, Query, Schema, and more."})]})]}),S.jsxs("div",{className:et.footer,children:[S.jsx("button",{onClick:()=>e(!1),className:et.cancelBtn,children:"Cancel"}),S.jsx("button",{onClick:R,className:et.saveBtn,children:"Save Settings"})]})]})})}const Y5="_container_w31vi_1",Q5="_empty_w31vi_13",K5="_emptyContent_w31vi_21",X5="_emptyIcon_w31vi_30",W5="_instructions_w31vi_42",$5="_instruction_w31vi_42",J5="_node_w31vi_60",Z5="_line_w31vi_64",ez="_clickable_w31vi_70",tz="_toggleBtn_w31vi_79",nz="_key_w31vi_96",iz="_value_w31vi_101",rz="_bracket_w31vi_105",lz="_punct_w31vi_106",sz="_collapsed_w31vi_110",az="_children_w31vi_117",oz="_nodeIcon_w31vi_122",uz="_copyableKey_w31vi_128",cz="_copied_w31vi_139",fz="_showMore_w31vi_143",hz="_showMoreBtn_w31vi_147",Ke={container:Y5,empty:Q5,emptyContent:K5,emptyIcon:X5,instructions:W5,instruction:$5,node:J5,line:Z5,clickable:ez,toggleBtn:tz,key:nz,value:iz,bracket:rz,punct:lz,collapsed:sz,children:az,nodeIcon:oz,copyableKey:uz,copied:cz,showMore:fz,showMoreBtn:hz};function dz({name:n,value:e,isLast:t,depth:i=0,path:l="",defaultExpandedDepth:s=0}){const[o,c]=ve.useState(i<=s),[f,d]=ve.useState(!1),[p,m]=ve.useState(50),x=e!==null&&typeof e=="object",b=Array.isArray(e),k=x&&Object.keys(e).length===0,w=Z=>{Z.stopPropagation();const ae=l||(n?`["${n}"]`:"");ae&&(navigator.clipboard.writeText(ae),d(!0),Fe.success(`Copied path: ${ae}`),setTimeout(()=>d(!1),1500))},M=Z=>{Z.stopPropagation(),c(!o)},T=Z=>{Z.stopPropagation(),m(ae=>ae+50)},L=Z=>Z===null?"var(--syntax-constant)":typeof Z=="string"?"var(--syntax-string)":typeof Z=="number"?"var(--syntax-number)":typeof Z=="boolean"?"var(--syntax-keyword)":"var(--text-main)",R=Z=>Z===null?"null":typeof Z=="string"?`"${Z}"`:String(Z),ne=Z=>{if(Array.isArray(Z))return`${Z.length} items`;const ae=Object.keys(Z);if(ae.length===0)return"{}";const te=["name","id","title","key","type","label"];let F=ae.filter(W=>te.includes(W.toLowerCase()));if(F.length===0)F=ae.slice(0,3);else{const W=ae.filter(P=>!te.includes(P.toLowerCase())).slice(0,1);F=[...F,...W].slice(0,3)}return`{ ${F.map(W=>{const P=Z[W];return typeof P=="object"&&P!==null?`${W}: [...]`:`${W}: ${R(P)}`}).join(", ")}${ae.length>F.length?", ...":""} }`};if(!x)return S.jsxs("div",{className:Ke.line,style:{paddingLeft:i*20},children:[n&&S.jsxs("span",{className:`${Ke.key} ${Ke.copyableKey} ${f?Ke.copied:""}`,onClick:w,title:"Click to copy path",children:[n,":"]}),!n&&l&&S.jsx("span",{className:`${Ke.key} ${Ke.copyableKey} ${f?Ke.copied:""}`,onClick:w,title:"Click to copy path",style:{marginRight:8,cursor:"copy"},children:""}),S.jsx("span",{className:Ke.value,style:{color:L(e)},children:R(e)}),!t&&S.jsx("span",{className:Ke.punct,children:","})]});const Q=Object.keys(e),D=Q.slice(0,p),H=Q.length>p,se=b?uB:aB;return S.jsxs("div",{className:Ke.node,children:[S.jsxs("div",{className:`${Ke.line} ${Ke.clickable}`,onClick:M,style:{paddingLeft:i*20},children:[S.jsx("button",{className:Ke.toggleBtn,children:!k&&(o?S.jsx(hB,{size:14}):S.jsx(pB,{size:14}))}),n&&S.jsxs("span",{className:`${Ke.key} ${Ke.copyableKey} ${f?Ke.copied:""}`,onClick:w,title:"Click to copy path",children:[n,":"]}),S.jsx("span",{className:Ke.bracket,children:S.jsx(se,{size:14,className:Ke.nodeIcon})}),!o&&S.jsx("span",{className:Ke.collapsed,children:ne(e)}),!o&&S.jsxs("span",{className:Ke.bracket,children:[b?"]":"}",!t&&","]})]}),o&&!k&&S.jsxs("div",{className:Ke.children,children:[D.map((Z,ae)=>S.jsx(EC,{name:b?"":Z,value:e[Z],isLast:ae===Q.length-1,depth:i+1,path:b?`${l}[${ae}]`:`${l||""}["${Z}"]`,defaultExpandedDepth:s},Z)),H&&S.jsx("div",{className:Ke.showMore,style:{paddingLeft:(i+1)*20},children:S.jsxs("button",{onClick:T,className:Ke.showMoreBtn,children:["Show ",Math.min(50,Q.length-p)," more... (",Q.length-p," remaining)"]})})]}),o&&S.jsxs("div",{className:Ke.line,style:{paddingLeft:i*20},children:[S.jsx("span",{className:Ke.bracket,children:b?"]":"}"}),!t&&S.jsx("span",{className:Ke.punct,children:","})]})]})}const EC=ve.memo(dz);function pz(){const{parsedData:n,isValid:e,rawText:t}=Rt();if(!t||!t.trim())return S.jsx("div",{className:Ke.empty,children:S.jsxs("div",{className:Ke.emptyContent,children:[S.jsx(pg,{size:48,className:Ke.emptyIcon}),S.jsx("h3",{children:"Ready to Visualize"}),S.jsxs("div",{className:Ke.instructions,children:[S.jsxs("div",{className:Ke.instruction,children:[S.jsx(zB,{size:16}),S.jsx("span",{children:"Type or Paste JSON"})]}),S.jsxs("div",{className:Ke.instruction,children:[S.jsx(lh,{size:16}),S.jsx("span",{children:"Drag & Drop File"})]})]})]})});if(!e||n===null)return S.jsx("div",{className:Ke.empty,children:S.jsx("p",{children:"Invalid JSON"})});const i=t.length,l=i<1e4?3:i<5e4?1:0;return S.jsx("div",{className:Ke.container,children:S.jsx(EC,{name:"",value:n,isLast:!0,defaultExpandedDepth:l})})}function mz(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const gz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xz={};function dS(n,e){return(xz.jsx?yz:gz).test(n)}const bz=/[ \t\n\f\r]/g;function vz(n){return typeof n=="object"?n.type==="text"?pS(n.value):!1:pS(n)}function pS(n){return n.replace(bz,"")===""}class hu{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}hu.prototype.normal={};hu.prototype.property={};hu.prototype.space=void 0;function OC(n,e){const t={},i={};for(const l of n)Object.assign(t,l.property),Object.assign(i,l.normal);return new hu(t,i,e)}function mg(n){return n.toLowerCase()}class Pn{constructor(e,t){this.attribute=t,this.property=e}}Pn.prototype.attribute="";Pn.prototype.booleanish=!1;Pn.prototype.boolean=!1;Pn.prototype.commaOrSpaceSeparated=!1;Pn.prototype.commaSeparated=!1;Pn.prototype.defined=!1;Pn.prototype.mustUseProperty=!1;Pn.prototype.number=!1;Pn.prototype.overloadedBoolean=!1;Pn.prototype.property="";Pn.prototype.spaceSeparated=!1;Pn.prototype.space=void 0;let Sz=0;const Re=is(),Dt=is(),gg=is(),le=is(),ct=is(),sa=is(),ei=is();function is(){return 2**++Sz}const yg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:Dt,commaOrSpaceSeparated:ei,commaSeparated:sa,number:le,overloadedBoolean:gg,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),Zp=Object.keys(yg);class s0 extends Pn{constructor(e,t,i,l){let s=-1;if(super(e,t),mS(this,"space",l),typeof i=="number")for(;++s<Zp.length;){const o=Zp[s];mS(this,Zp[s],(i&yg[o])===yg[o])}}}s0.prototype.defined=!0;function mS(n,e,t){t&&(n[e]=t)}function ba(n){const e={},t={};for(const[i,l]of Object.entries(n.properties)){const s=new s0(i,n.transform(n.attributes||{},i),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[mg(i)]=i,t[mg(s.attribute)]=i}return new hu(e,t,n.space)}const _C=ba({properties:{ariaActiveDescendant:null,ariaAtomic:Dt,ariaAutoComplete:null,ariaBusy:Dt,ariaChecked:Dt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:Dt,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:Dt,ariaFlowTo:ct,ariaGrabbed:Dt,ariaHasPopup:null,ariaHidden:Dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:le,ariaLive:null,ariaModal:Dt,ariaMultiLine:Dt,ariaMultiSelectable:Dt,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Dt,ariaReadOnly:Dt,ariaRelevant:null,ariaRequired:Dt,ariaRoleDescription:ct,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Dt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function NC(n,e){return e in n?n[e]:e}function DC(n,e){return NC(n,e.toLowerCase())}const kz=ba({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sa,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:ct,autoFocus:Re,autoPlay:Re,blocking:ct,capture:null,charSet:null,checked:Re,cite:null,className:ct,cols:le,colSpan:null,content:null,contentEditable:Dt,controls:Re,controlsList:ct,coords:le|sa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:gg,draggable:Dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:ct,height:le,hidden:gg,high:le,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:ct,itemRef:ct,itemScope:Re,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:le,pattern:null,ping:ct,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:ct,required:Re,reversed:Re,rows:le,rowSpan:le,sandbox:ct,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:Dt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Dt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:DC}),wz=ba({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sa,g2:sa,glyphName:sa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:NC}),BC=ba({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),zC=ba({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DC}),RC=ba({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Cz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Az=/[A-Z]/g,gS=/-[a-z]/g,Mz=/^data[-\w.:]+$/i;function Tz(n,e){const t=mg(e);let i=e,l=Pn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Mz.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(gS,Oz);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!gS.test(s)){let o=s.replace(Az,Ez);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}l=s0}return new l(i,e)}function Ez(n){return"-"+n.toLowerCase()}function Oz(n){return n.charAt(1).toUpperCase()}const _z=OC([_C,kz,BC,zC,RC],"html"),a0=OC([_C,wz,BC,zC,RC],"svg");function Nz(n){return n.join(" ").trim()}var Ys={},em,yS;function Dz(){if(yS)return em;yS=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",p="*",m="",x="comment",b="declaration";function k(M,T){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];T=T||{};var L=1,R=1;function ne(W){var P=W.match(e);P&&(L+=P.length);var B=W.lastIndexOf(f);R=~B?W.length-B:R+W.length}function Q(){var W={line:L,column:R};return function(P){return P.position=new D(W),Z(),P}}function D(W){this.start=W,this.end={line:L,column:R},this.source=T.source}D.prototype.content=M;function H(W){var P=new Error(T.source+":"+L+":"+R+": "+W);if(P.reason=W,P.filename=T.source,P.line=L,P.column=R,P.source=M,!T.silent)throw P}function se(W){var P=W.exec(M);if(P){var B=P[0];return ne(B),M=M.slice(B.length),P}}function Z(){se(t)}function ae(W){var P;for(W=W||[];P=te();)P!==!1&&W.push(P);return W}function te(){var W=Q();if(!(d!=M.charAt(0)||p!=M.charAt(1))){for(var P=2;m!=M.charAt(P)&&(p!=M.charAt(P)||d!=M.charAt(P+1));)++P;if(P+=2,m===M.charAt(P-1))return H("End of comment missing");var B=M.slice(2,P-2);return R+=2,ne(B),M=M.slice(P),R+=2,W({type:x,comment:B})}}function F(){var W=Q(),P=se(i);if(P){if(te(),!se(l))return H("property missing ':'");var B=se(s),G=W({type:b,property:w(P[0].replace(n,m)),value:B?w(B[0].replace(n,m)):m});return se(o),G}}function re(){var W=[];ae(W);for(var P;P=F();)P!==!1&&(W.push(P),ae(W));return W}return Z(),re()}function w(M){return M?M.replace(c,m):m}return em=k,em}var xS;function Bz(){if(xS)return Ys;xS=1;var n=Ys&&Ys.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.default=t;const e=n(Dz());function t(i,l){let s=null;if(!i||typeof i!="string")return s;const o=(0,e.default)(i),c=typeof l=="function";return o.forEach(f=>{if(f.type!=="declaration")return;const{property:d,value:p}=f;c?l(d,p,f):p&&(s=s||{},s[d]=p)}),s}return Ys}var bo={},bS;function zz(){if(bS)return bo;bS=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(d){return!d||t.test(d)||n.test(d)},o=function(d,p){return p.toUpperCase()},c=function(d,p){return"".concat(p,"-")},f=function(d,p){return p===void 0&&(p={}),s(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(l,c):d=d.replace(i,c),d.replace(e,o))};return bo.camelCase=f,bo}var vo,vS;function Rz(){if(vS)return vo;vS=1;var n=vo&&vo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=n(Bz()),t=zz();function i(l,s){var o={};return!l||typeof l!="string"||(0,e.default)(l,function(c,f){c&&f&&(o[(0,t.camelCase)(c,s)]=f)}),o}return i.default=i,vo=i,vo}var Lz=Rz();const jz=Yf(Lz),LC=jC("end"),o0=jC("start");function jC(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Hz(n){const e=o0(n),t=LC(n);if(e&&t)return{start:e,end:t}}function jo(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?SS(n.position):"start"in n||"end"in n?SS(n):"line"in n||"column"in n?xg(n):""}function xg(n){return kS(n&&n.line)+":"+kS(n&&n.column)}function SS(n){return xg(n&&n.start)+"-"+xg(n&&n.end)}function kS(n){return n&&typeof n=="number"?n:1}class bn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let l="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?l=e:!s.cause&&e&&(o=!0,l=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?s.ruleId=i:(s.source=i.slice(0,f),s.ruleId=i.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){const f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=c?c.line:void 0,this.name=jo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const u0={}.hasOwnProperty,Uz=new Map,Iz=/[A-Z]/g,Vz=new Set(["table","tbody","thead","tfoot","tr"]),qz=new Set(["td","th"]),HC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Pz(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=$z(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Wz(t,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?a0:_z,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=UC(l,n,void 0);return s&&typeof s!="string"?s:l.create(n,l.Fragment,{children:s||void 0},void 0)}function UC(n,e,t){if(e.type==="element")return Fz(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Gz(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Qz(n,e,t);if(e.type==="mdxjsEsm")return Yz(n,e);if(e.type==="root")return Kz(n,e,t);if(e.type==="text")return Xz(n,e)}function Fz(n,e,t){const i=n.schema;let l=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(l=a0,n.schema=l),n.ancestors.push(e);const s=VC(n,e.tagName,!1),o=Jz(n,e);let c=f0(n,e);return Vz.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!vz(f):!0})),IC(n,o,s,e),c0(o,c),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function Gz(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}tu(n,e.position)}function Yz(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);tu(n,e.position)}function Qz(n,e,t){const i=n.schema;let l=i;e.name==="svg"&&i.space==="html"&&(l=a0,n.schema=l),n.ancestors.push(e);const s=e.name===null?n.Fragment:VC(n,e.name,!0),o=Zz(n,e),c=f0(n,e);return IC(n,o,s,e),c0(o,c),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function Kz(n,e,t){const i={};return c0(i,f0(n,e)),n.create(e,n.Fragment,i,t)}function Xz(n,e){return e.value}function IC(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function c0(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function Wz(n,e,t){return i;function i(l,s,o,c){const d=Array.isArray(o.children)?t:e;return c?d(s,o,c):d(s,o)}}function $z(n,e){return t;function t(i,l,s,o){const c=Array.isArray(s.children),f=o0(i);return e(l,s,o,c,{columnNumber:f?f.column-1:void 0,fileName:n,lineNumber:f?f.line:void 0},void 0)}}function Jz(n,e){const t={};let i,l;for(l in e.properties)if(l!=="children"&&u0.call(e.properties,l)){const s=eR(n,l,e.properties[l]);if(s){const[o,c]=s;n.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&qz.has(e.tagName)?i=c:t[o]=c}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function Zz(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const c=o.properties[0];c.type,Object.assign(t,n.evaluater.evaluateExpression(c.argument))}else tu(n,e.position);else{const l=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,s=n.evaluater.evaluateExpression(c.expression)}else tu(n,e.position);else s=i.value===null?!0:i.value;t[l]=s}return t}function f0(n,e){const t=[];let i=-1;const l=n.passKeys?new Map:Uz;for(;++i<e.children.length;){const s=e.children[i];let o;if(n.passKeys){const f=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(f){const d=l.get(f)||0;o=f+"-"+d,l.set(f,d+1)}}const c=UC(n,s,o);c!==void 0&&t.push(c)}return t}function eR(n,e,t){const i=Tz(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?mz(t):Nz(t)),i.property==="style"){let l=typeof t=="object"?t:tR(n,String(t));return n.stylePropertyNameCase==="css"&&(l=nR(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&i.space?Cz[i.property]||i.property:i.attribute,t]}}function tR(n,e){try{return jz(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,l=new bn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=HC+"#cannot-parse-style-attribute",l}}function VC(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let s=-1,o;for(;++s<l.length;){const c=dS(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}i=o}else i=dS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const l=i.value;return u0.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(i);tu(n)}function tu(n,e){const t=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=HC+"#cannot-handle-mdx-estrees-without-createevaluater",t}function nR(n){const e={};let t;for(t in n)u0.call(n,t)&&(e[iR(t)]=n[t]);return e}function iR(n){let e=n.replace(Iz,rR);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function rR(n){return"-"+n.toLowerCase()}const tm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lR={};function sR(n,e){const t=lR,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,l=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return qC(n,i,l)}function qC(n,e,t){if(aR(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return wS(n.children,e,t)}return Array.isArray(n)?wS(n,e,t):""}function wS(n,e,t){const i=[];let l=-1;for(;++l<n.length;)i[l]=qC(n[l],e,t);return i.join("")}function aR(n){return!!(n&&typeof n=="object")}const CS=document.createElement("i");function h0(n){const e="&"+n+";";CS.innerHTML=e;const t=CS.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function ir(n,e,t,i){const l=n.length;let s=0,o;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,t=t>0?t:0,i.length<1e4)o=Array.from(i),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function yi(n,e){return n.length>0?(ir(n,n.length,0,e),n):e}const AS={}.hasOwnProperty;function oR(n){const e={};let t=-1;for(;++t<n.length;)uR(e,n[t]);return e}function uR(n,e){let t;for(t in e){const l=(AS.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){AS.call(l,o)||(l[o]=[]);const c=s[o];cR(l[o],Array.isArray(c)?c:c?[c]:[])}}}function cR(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);ir(n,0,0,i)}function PC(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function aa(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wi=xl(/[A-Za-z]/),ni=xl(/[\dA-Za-z]/),fR=xl(/[#-'*+\--9=?A-Z^-~]/);function bg(n){return n!==null&&(n<32||n===127)}const vg=xl(/\d/),hR=xl(/[\dA-Fa-f]/),dR=xl(/[!-/:-@[-`{-~]/);function Te(n){return n!==null&&n<-2}function Vn(n){return n!==null&&(n<0||n===32)}function tt(n){return n===-2||n===-1||n===32}const pR=xl(new RegExp("\\p{P}|\\p{S}","u")),mR=xl(/\s/);function xl(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function va(n){const e=[];let t=-1,i=0,l=0;for(;++t<n.length;){const s=n.charCodeAt(t);let o="";if(s===37&&ni(n.charCodeAt(t+1))&&ni(n.charCodeAt(t+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const c=n.charCodeAt(t+1);s<56320&&c>56319&&c<57344?(o=String.fromCharCode(s,c),l=1):o=""}else o=String.fromCharCode(s);o&&(e.push(n.slice(i,t),encodeURIComponent(o)),i=t+l+1,o=""),l&&(t+=l,l=0)}return e.join("")+n.slice(i)}function ht(n,e,t,i){const l=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(f){return tt(f)?(n.enter(t),c(f)):e(f)}function c(f){return tt(f)&&s++<l?(n.consume(f),c):(n.exit(t),e(f))}}const gR={tokenize:yR};function yR(n){const e=n.attempt(this.parser.constructs.contentInitial,i,l);let t;return e;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),ht(n,e,"linePrefix")}function l(c){return n.enter("paragraph"),s(c)}function s(c){const f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,o(c)}function o(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return Te(c)?(n.consume(c),n.exit("chunkText"),s):(n.consume(c),o)}}const xR={tokenize:bR},MS={tokenize:vR};function bR(n){const e=this,t=[];let i=0,l,s,o;return c;function c(R){if(i<t.length){const ne=t[i];return e.containerState=ne[1],n.attempt(ne[0].continuation,f,d)(R)}return d(R)}function f(R){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&L();const ne=e.events.length;let Q=ne,D;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){D=e.events[Q][1].end;break}T(i);let H=ne;for(;H<e.events.length;)e.events[H][1].end={...D},H++;return ir(e.events,Q+1,0,e.events.slice(ne)),e.events.length=H,d(R)}return c(R)}function d(R){if(i===t.length){if(!l)return x(R);if(l.currentConstruct&&l.currentConstruct.concrete)return k(R);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(MS,p,m)(R)}function p(R){return l&&L(),T(i),x(R)}function m(R){return e.parser.lazy[e.now().line]=i!==t.length,o=e.now().offset,k(R)}function x(R){return e.containerState={},n.attempt(MS,b,k)(R)}function b(R){return i++,t.push([e.currentConstruct,e.containerState]),x(R)}function k(R){if(R===null){l&&L(),T(0),n.consume(R);return}return l=l||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),w(R)}function w(R){if(R===null){M(n.exit("chunkFlow"),!0),T(0),n.consume(R);return}return Te(R)?(n.consume(R),M(n.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(n.consume(R),w)}function M(R,ne){const Q=e.sliceStream(R);if(ne&&Q.push(null),R.previous=s,s&&(s.next=R),s=R,l.defineSkip(R.start),l.write(Q),e.parser.lazy[R.start.line]){let D=l.events.length;for(;D--;)if(l.events[D][1].start.offset<o&&(!l.events[D][1].end||l.events[D][1].end.offset>o))return;const H=e.events.length;let se=H,Z,ae;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){if(Z){ae=e.events[se][1].end;break}Z=!0}for(T(i),D=H;D<e.events.length;)e.events[D][1].end={...ae},D++;ir(e.events,se+1,0,e.events.slice(H)),e.events.length=D}}function T(R){let ne=t.length;for(;ne-- >R;){const Q=t[ne];e.containerState=Q[1],Q[0].exit.call(e,n)}t.length=R}function L(){l.write([null]),s=void 0,l=void 0,e.containerState._closeFlow=void 0}}function vR(n,e,t){return ht(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function TS(n){if(n===null||Vn(n)||mR(n))return 1;if(pR(n))return 2}function d0(n,e,t){const i=[];let l=-1;for(;++l<n.length;){const s=n[l].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const Sg={name:"attention",resolveAll:SR,tokenize:kR};function SR(n,e){let t=-1,i,l,s,o,c,f,d,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[i][1].end},x={...n[t][1].start};ES(m,-f),ES(x,f),o={type:f>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:x},s={type:f>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},l={type:f>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},n[i][1].end={...o.start},n[t][1].start={...c.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=yi(d,[["enter",n[i][1],e],["exit",n[i][1],e]])),d=yi(d,[["enter",l,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=yi(d,d0(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),d=yi(d,[["exit",s,e],["enter",c,e],["exit",c,e],["exit",l,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,d=yi(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,ir(n,i-1,t-i+3,d),t=i+d.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function kR(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,l=TS(i);let s;return o;function o(f){return s=f,n.enter("attentionSequence"),c(f)}function c(f){if(f===s)return n.consume(f),c;const d=n.exit("attentionSequence"),p=TS(f),m=!p||p===2&&l||t.includes(f),x=!l||l===2&&p||t.includes(i);return d._open=!!(s===42?m:m&&(l||!x)),d._close=!!(s===42?x:x&&(p||!m)),e(f)}}function ES(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const wR={name:"autolink",tokenize:CR};function CR(n,e,t){let i=0;return l;function l(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(b){return Wi(b)?(n.consume(b),o):b===64?t(b):d(b)}function o(b){return b===43||b===45||b===46||ni(b)?(i=1,c(b)):d(b)}function c(b){return b===58?(n.consume(b),i=0,f):(b===43||b===45||b===46||ni(b))&&i++<32?(n.consume(b),c):(i=0,d(b))}function f(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):b===null||b===32||b===60||bg(b)?t(b):(n.consume(b),f)}function d(b){return b===64?(n.consume(b),p):fR(b)?(n.consume(b),d):t(b)}function p(b){return ni(b)?m(b):t(b)}function m(b){return b===46?(n.consume(b),i=0,p):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):x(b)}function x(b){if((b===45||ni(b))&&i++<63){const k=b===45?x:m;return n.consume(b),k}return t(b)}}const sh={partial:!0,tokenize:AR};function AR(n,e,t){return i;function i(s){return tt(s)?ht(n,l,"linePrefix")(s):l(s)}function l(s){return s===null||Te(s)?e(s):t(s)}}const FC={continuation:{tokenize:TR},exit:ER,name:"blockQuote",tokenize:MR};function MR(n,e,t){const i=this;return l;function l(o){if(o===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return tt(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function TR(n,e,t){const i=this;return l;function l(o){return tt(o)?ht(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(FC,e,t)(o)}}function ER(n){n.exit("blockQuote")}const GC={name:"characterEscape",tokenize:OR};function OR(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),l}function l(s){return dR(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const YC={name:"characterReference",tokenize:_R};function _R(n,e,t){const i=this;let l=0,s,o;return c;function c(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),f}function f(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=ni,p(m))}function d(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=hR,p):(n.enter("characterReferenceValue"),s=7,o=vg,p(m))}function p(m){if(m===59&&l){const x=n.exit("characterReferenceValue");return o===ni&&!h0(i.sliceSerialize(x))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(m)&&l++<s?(n.consume(m),p):t(m)}}const OS={partial:!0,tokenize:DR},_S={concrete:!0,name:"codeFenced",tokenize:NR};function NR(n,e,t){const i=this,l={partial:!0,tokenize:Q};let s=0,o=0,c;return f;function f(D){return d(D)}function d(D){const H=i.events[i.events.length-1];return s=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,c=D,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(D)}function p(D){return D===c?(o++,n.consume(D),p):o<3?t(D):(n.exit("codeFencedFenceSequence"),tt(D)?ht(n,m,"whitespace")(D):m(D))}function m(D){return D===null||Te(D)?(n.exit("codeFencedFence"),i.interrupt?e(D):n.check(OS,w,ne)(D)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),x(D))}function x(D){return D===null||Te(D)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(D)):tt(D)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),ht(n,b,"whitespace")(D)):D===96&&D===c?t(D):(n.consume(D),x)}function b(D){return D===null||Te(D)?m(D):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),k(D))}function k(D){return D===null||Te(D)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(D)):D===96&&D===c?t(D):(n.consume(D),k)}function w(D){return n.attempt(l,ne,M)(D)}function M(D){return n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),T}function T(D){return s>0&&tt(D)?ht(n,L,"linePrefix",s+1)(D):L(D)}function L(D){return D===null||Te(D)?n.check(OS,w,ne)(D):(n.enter("codeFlowValue"),R(D))}function R(D){return D===null||Te(D)?(n.exit("codeFlowValue"),L(D)):(n.consume(D),R)}function ne(D){return n.exit("codeFenced"),e(D)}function Q(D,H,se){let Z=0;return ae;function ae(P){return D.enter("lineEnding"),D.consume(P),D.exit("lineEnding"),te}function te(P){return D.enter("codeFencedFence"),tt(P)?ht(D,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):F(P)}function F(P){return P===c?(D.enter("codeFencedFenceSequence"),re(P)):se(P)}function re(P){return P===c?(Z++,D.consume(P),re):Z>=o?(D.exit("codeFencedFenceSequence"),tt(P)?ht(D,W,"whitespace")(P):W(P)):se(P)}function W(P){return P===null||Te(P)?(D.exit("codeFencedFence"),H(P)):se(P)}}}function DR(n,e,t){const i=this;return l;function l(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}const nm={name:"codeIndented",tokenize:zR},BR={partial:!0,tokenize:RR};function zR(n,e,t){const i=this;return l;function l(d){return n.enter("codeIndented"),ht(n,s,"linePrefix",5)(d)}function s(d){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?f(d):Te(d)?n.attempt(BR,o,f)(d):(n.enter("codeFlowValue"),c(d))}function c(d){return d===null||Te(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),c)}function f(d){return n.exit("codeIndented"),e(d)}}function RR(n,e,t){const i=this;return l;function l(o){return i.parser.lazy[i.now().line]?t(o):Te(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),l):ht(n,s,"linePrefix",5)(o)}function s(o){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):Te(o)?l(o):t(o)}}const LR={name:"codeText",previous:HR,resolve:jR,tokenize:UR};function jR(n){let e=n.length-4,t=3,i,l;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)l===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(l=i):(i===e||n[i][1].type==="lineEnding")&&(n[l][1].type="codeTextData",i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),e-=i-l-2,i=l+2),l=void 0);return n}function HR(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UR(n,e,t){let i=0,l,s;return o;function o(m){return n.enter("codeText"),n.enter("codeTextSequence"),c(m)}function c(m){return m===96?(n.consume(m),i++,c):(n.exit("codeTextSequence"),f(m))}function f(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),f):m===96?(s=n.enter("codeTextSequence"),l=0,p(m)):Te(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f):(n.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Te(m)?(n.exit("codeTextData"),f(m)):(n.consume(m),d)}function p(m){return m===96?(n.consume(m),l++,p):l===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(s.type="codeTextData",d(m))}}class IR{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const l=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return i&&So(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),So(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),So(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);So(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);So(this.left,t.reverse())}}}function So(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function QC(n){const e={};let t=-1,i,l,s,o,c,f,d;const p=new IR(n);for(;++t<p.length;){for(;t in e;)t=e[t];if(i=p.get(t),t&&i[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,VR(p,t)),t=e[t],d=!0);else if(i[1]._container){for(s=t,l=void 0;s--;)if(o=p.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(l&&(p.get(l)[1].type="lineEndingBlank"),o[1].type="lineEnding",l=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;l&&(i[1].end={...p.get(l)[1].start},c=p.slice(l,t),c.unshift(i),p.splice(l,t-l+1,c))}}return ir(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function VR(n,e){const t=n.get(e)[1],i=n.get(e)[2];let l=e-1;const s=[];let o=t._tokenizer;o||(o=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,f=[],d={};let p,m,x=-1,b=t,k=0,w=0;const M=[w];for(;b;){for(;n.get(++l)[1]!==b;);s.push(l),b._tokenizer||(p=i.sliceStream(b),b.next||p.push(null),m&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=t;++x<c.length;)c[x][0]==="exit"&&c[x-1][0]==="enter"&&c[x][1].type===c[x-1][1].type&&c[x][1].start.line!==c[x][1].end.line&&(w=x+1,M.push(w),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):M.pop(),x=M.length;x--;){const T=c.slice(M[x],M[x+1]),L=s.pop();f.push([L,L+T.length-1]),n.splice(L,2,T)}for(f.reverse(),x=-1;++x<f.length;)d[k+f[x][0]]=k+f[x][1],k+=f[x][1]-f[x][0]-1;return d}const qR={resolve:FR,tokenize:GR},PR={partial:!0,tokenize:YR};function FR(n){return QC(n),n}function GR(n,e){let t;return i;function i(c){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),l(c)}function l(c){return c===null?s(c):Te(c)?n.check(PR,o,s)(c):(n.consume(c),l)}function s(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function o(c){return n.consume(c),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,l}}function YR(n,e,t){const i=this;return l;function l(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),ht(n,s,"linePrefix")}function s(o){if(o===null||Te(o))return t(o);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):n.interrupt(i.parser.constructs.flow,t,e)(o)}}function KC(n,e,t,i,l,s,o,c,f){const d=f||Number.POSITIVE_INFINITY;let p=0;return m;function m(T){return T===60?(n.enter(i),n.enter(l),n.enter(s),n.consume(T),n.exit(s),x):T===null||T===32||T===41||bg(T)?t(T):(n.enter(i),n.enter(o),n.enter(c),n.enter("chunkString",{contentType:"string"}),w(T))}function x(T){return T===62?(n.enter(s),n.consume(T),n.exit(s),n.exit(l),n.exit(i),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(n.exit("chunkString"),n.exit(c),x(T)):T===null||T===60||Te(T)?t(T):(n.consume(T),T===92?k:b)}function k(T){return T===60||T===62||T===92?(n.consume(T),b):b(T)}function w(T){return!p&&(T===null||T===41||Vn(T))?(n.exit("chunkString"),n.exit(c),n.exit(o),n.exit(i),e(T)):p<d&&T===40?(n.consume(T),p++,w):T===41?(n.consume(T),p--,w):T===null||T===32||T===40||bg(T)?t(T):(n.consume(T),T===92?M:w)}function M(T){return T===40||T===41||T===92?(n.consume(T),w):w(T)}}function XC(n,e,t,i,l,s){const o=this;let c=0,f;return d;function d(b){return n.enter(i),n.enter(l),n.consume(b),n.exit(l),n.enter(s),p}function p(b){return c>999||b===null||b===91||b===93&&!f||b===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?t(b):b===93?(n.exit(s),n.enter(l),n.consume(b),n.exit(l),n.exit(i),e):Te(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Te(b)||c++>999?(n.exit("chunkString"),p(b)):(n.consume(b),f||(f=!tt(b)),b===92?x:m)}function x(b){return b===91||b===92||b===93?(n.consume(b),c++,m):m(b)}}function WC(n,e,t,i,l,s){let o;return c;function c(x){return x===34||x===39||x===40?(n.enter(i),n.enter(l),n.consume(x),n.exit(l),o=x===40?41:x,f):t(x)}function f(x){return x===o?(n.enter(l),n.consume(x),n.exit(l),n.exit(i),e):(n.enter(s),d(x))}function d(x){return x===o?(n.exit(s),f(o)):x===null?t(x):Te(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),ht(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===o||x===null||Te(x)?(n.exit("chunkString"),d(x)):(n.consume(x),x===92?m:p)}function m(x){return x===o||x===92?(n.consume(x),p):p(x)}}function Ho(n,e){let t;return i;function i(l){return Te(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),t=!0,i):tt(l)?ht(n,i,t?"linePrefix":"lineSuffix")(l):e(l)}}const QR={name:"definition",tokenize:XR},KR={partial:!0,tokenize:WR};function XR(n,e,t){const i=this;let l;return s;function s(b){return n.enter("definition"),o(b)}function o(b){return XC.call(i,n,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return l=aa(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),f):t(b)}function f(b){return Vn(b)?Ho(n,d)(b):d(b)}function d(b){return KC(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return n.attempt(KR,m,m)(b)}function m(b){return tt(b)?ht(n,x,"whitespace")(b):x(b)}function x(b){return b===null||Te(b)?(n.exit("definition"),i.parser.defined.push(l),e(b)):t(b)}}function WR(n,e,t){return i;function i(c){return Vn(c)?Ho(n,l)(c):t(c)}function l(c){return WC(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return tt(c)?ht(n,o,"whitespace")(c):o(c)}function o(c){return c===null||Te(c)?e(c):t(c)}}const $R={name:"hardBreakEscape",tokenize:JR};function JR(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),l}function l(s){return Te(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const ZR={name:"headingAtx",resolve:e6,tokenize:t6};function e6(n,e){let t=n.length-2,i=3,l,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(l={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},ir(n,i,t-i+1,[["enter",l,e],["enter",s,e],["exit",s,e],["exit",l,e]])),n}function t6(n,e,t){let i=0;return l;function l(p){return n.enter("atxHeading"),s(p)}function s(p){return n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Vn(p)?(n.exit("atxHeadingSequence"),c(p)):t(p)}function c(p){return p===35?(n.enter("atxHeadingSequence"),f(p)):p===null||Te(p)?(n.exit("atxHeading"),e(p)):tt(p)?ht(n,c,"whitespace")(p):(n.enter("atxHeadingText"),d(p))}function f(p){return p===35?(n.consume(p),f):(n.exit("atxHeadingSequence"),c(p))}function d(p){return p===null||p===35||Vn(p)?(n.exit("atxHeadingText"),c(p)):(n.consume(p),d)}}const n6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],NS=["pre","script","style","textarea"],i6={concrete:!0,name:"htmlFlow",resolveTo:s6,tokenize:a6},r6={partial:!0,tokenize:u6},l6={partial:!0,tokenize:o6};function s6(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function a6(n,e,t){const i=this;let l,s,o,c,f;return d;function d(A){return p(A)}function p(A){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(A),m}function m(A){return A===33?(n.consume(A),x):A===47?(n.consume(A),s=!0,w):A===63?(n.consume(A),l=3,i.interrupt?e:E):Wi(A)?(n.consume(A),o=String.fromCharCode(A),M):t(A)}function x(A){return A===45?(n.consume(A),l=2,b):A===91?(n.consume(A),l=5,c=0,k):Wi(A)?(n.consume(A),l=4,i.interrupt?e:E):t(A)}function b(A){return A===45?(n.consume(A),i.interrupt?e:E):t(A)}function k(A){const ie="CDATA[";return A===ie.charCodeAt(c++)?(n.consume(A),c===ie.length?i.interrupt?e:F:k):t(A)}function w(A){return Wi(A)?(n.consume(A),o=String.fromCharCode(A),M):t(A)}function M(A){if(A===null||A===47||A===62||Vn(A)){const ie=A===47,fe=o.toLowerCase();return!ie&&!s&&NS.includes(fe)?(l=1,i.interrupt?e(A):F(A)):n6.includes(o.toLowerCase())?(l=6,ie?(n.consume(A),T):i.interrupt?e(A):F(A)):(l=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(A):s?L(A):R(A))}return A===45||ni(A)?(n.consume(A),o+=String.fromCharCode(A),M):t(A)}function T(A){return A===62?(n.consume(A),i.interrupt?e:F):t(A)}function L(A){return tt(A)?(n.consume(A),L):ae(A)}function R(A){return A===47?(n.consume(A),ae):A===58||A===95||Wi(A)?(n.consume(A),ne):tt(A)?(n.consume(A),R):ae(A)}function ne(A){return A===45||A===46||A===58||A===95||ni(A)?(n.consume(A),ne):Q(A)}function Q(A){return A===61?(n.consume(A),D):tt(A)?(n.consume(A),Q):R(A)}function D(A){return A===null||A===60||A===61||A===62||A===96?t(A):A===34||A===39?(n.consume(A),f=A,H):tt(A)?(n.consume(A),D):se(A)}function H(A){return A===f?(n.consume(A),f=null,Z):A===null||Te(A)?t(A):(n.consume(A),H)}function se(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Vn(A)?Q(A):(n.consume(A),se)}function Z(A){return A===47||A===62||tt(A)?R(A):t(A)}function ae(A){return A===62?(n.consume(A),te):t(A)}function te(A){return A===null||Te(A)?F(A):tt(A)?(n.consume(A),te):t(A)}function F(A){return A===45&&l===2?(n.consume(A),B):A===60&&l===1?(n.consume(A),G):A===62&&l===4?(n.consume(A),_):A===63&&l===3?(n.consume(A),E):A===93&&l===5?(n.consume(A),me):Te(A)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(r6,q,re)(A)):A===null||Te(A)?(n.exit("htmlFlowData"),re(A)):(n.consume(A),F)}function re(A){return n.check(l6,W,q)(A)}function W(A){return n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),P}function P(A){return A===null||Te(A)?re(A):(n.enter("htmlFlowData"),F(A))}function B(A){return A===45?(n.consume(A),E):F(A)}function G(A){return A===47?(n.consume(A),o="",ce):F(A)}function ce(A){if(A===62){const ie=o.toLowerCase();return NS.includes(ie)?(n.consume(A),_):F(A)}return Wi(A)&&o.length<8?(n.consume(A),o+=String.fromCharCode(A),ce):F(A)}function me(A){return A===93?(n.consume(A),E):F(A)}function E(A){return A===62?(n.consume(A),_):A===45&&l===2?(n.consume(A),E):F(A)}function _(A){return A===null||Te(A)?(n.exit("htmlFlowData"),q(A)):(n.consume(A),_)}function q(A){return n.exit("htmlFlow"),e(A)}}function o6(n,e,t){const i=this;return l;function l(o){return Te(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}function u6(n,e,t){return i;function i(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(sh,e,t)}}const c6={name:"htmlText",tokenize:f6};function f6(n,e,t){const i=this;let l,s,o;return c;function c(E){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(E),f}function f(E){return E===33?(n.consume(E),d):E===47?(n.consume(E),Q):E===63?(n.consume(E),R):Wi(E)?(n.consume(E),se):t(E)}function d(E){return E===45?(n.consume(E),p):E===91?(n.consume(E),s=0,k):Wi(E)?(n.consume(E),L):t(E)}function p(E){return E===45?(n.consume(E),b):t(E)}function m(E){return E===null?t(E):E===45?(n.consume(E),x):Te(E)?(o=m,G(E)):(n.consume(E),m)}function x(E){return E===45?(n.consume(E),b):m(E)}function b(E){return E===62?B(E):E===45?x(E):m(E)}function k(E){const _="CDATA[";return E===_.charCodeAt(s++)?(n.consume(E),s===_.length?w:k):t(E)}function w(E){return E===null?t(E):E===93?(n.consume(E),M):Te(E)?(o=w,G(E)):(n.consume(E),w)}function M(E){return E===93?(n.consume(E),T):w(E)}function T(E){return E===62?B(E):E===93?(n.consume(E),T):w(E)}function L(E){return E===null||E===62?B(E):Te(E)?(o=L,G(E)):(n.consume(E),L)}function R(E){return E===null?t(E):E===63?(n.consume(E),ne):Te(E)?(o=R,G(E)):(n.consume(E),R)}function ne(E){return E===62?B(E):R(E)}function Q(E){return Wi(E)?(n.consume(E),D):t(E)}function D(E){return E===45||ni(E)?(n.consume(E),D):H(E)}function H(E){return Te(E)?(o=H,G(E)):tt(E)?(n.consume(E),H):B(E)}function se(E){return E===45||ni(E)?(n.consume(E),se):E===47||E===62||Vn(E)?Z(E):t(E)}function Z(E){return E===47?(n.consume(E),B):E===58||E===95||Wi(E)?(n.consume(E),ae):Te(E)?(o=Z,G(E)):tt(E)?(n.consume(E),Z):B(E)}function ae(E){return E===45||E===46||E===58||E===95||ni(E)?(n.consume(E),ae):te(E)}function te(E){return E===61?(n.consume(E),F):Te(E)?(o=te,G(E)):tt(E)?(n.consume(E),te):Z(E)}function F(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(n.consume(E),l=E,re):Te(E)?(o=F,G(E)):tt(E)?(n.consume(E),F):(n.consume(E),W)}function re(E){return E===l?(n.consume(E),l=void 0,P):E===null?t(E):Te(E)?(o=re,G(E)):(n.consume(E),re)}function W(E){return E===null||E===34||E===39||E===60||E===61||E===96?t(E):E===47||E===62||Vn(E)?Z(E):(n.consume(E),W)}function P(E){return E===47||E===62||Vn(E)?Z(E):t(E)}function B(E){return E===62?(n.consume(E),n.exit("htmlTextData"),n.exit("htmlText"),e):t(E)}function G(E){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),ce}function ce(E){return tt(E)?ht(n,me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):me(E)}function me(E){return n.enter("htmlTextData"),o(E)}}const p0={name:"labelEnd",resolveAll:m6,resolveTo:g6,tokenize:y6},h6={tokenize:x6},d6={tokenize:b6},p6={tokenize:v6};function m6(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const l=i.type==="labelImage"?4:2;i.type="data",e+=l}}return n.length!==t.length&&ir(n,0,n.length,t),n}function g6(n,e){let t=n.length,i=0,l,s,o,c;for(;t--;)if(l=n[t][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[t][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=t,l.type!=="labelLink")){i=2;break}}else l.type==="labelEnd"&&(o=t);const f={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},p={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=yi(c,n.slice(s+1,s+i+3)),c=yi(c,[["enter",p,e]]),c=yi(c,d0(e.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),e)),c=yi(c,[["exit",p,e],n[o-2],n[o-1],["exit",d,e]]),c=yi(c,n.slice(o+1)),c=yi(c,[["exit",f,e]]),ir(n,s,n.length,c),n}function y6(n,e,t){const i=this;let l=i.events.length,s,o;for(;l--;)if((i.events[l][1].type==="labelImage"||i.events[l][1].type==="labelLink")&&!i.events[l][1]._balanced){s=i.events[l][1];break}return c;function c(x){return s?s._inactive?m(x):(o=i.parser.defined.includes(aa(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(x),n.exit("labelMarker"),n.exit("labelEnd"),f):t(x)}function f(x){return x===40?n.attempt(h6,p,o?p:m)(x):x===91?n.attempt(d6,p,o?d:m)(x):o?p(x):m(x)}function d(x){return n.attempt(p6,p,m)(x)}function p(x){return e(x)}function m(x){return s._balanced=!0,t(x)}}function x6(n,e,t){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),l}function l(m){return Vn(m)?Ho(n,s)(m):s(m)}function s(m){return m===41?p(m):KC(n,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return Vn(m)?Ho(n,f)(m):p(m)}function c(m){return t(m)}function f(m){return m===34||m===39||m===40?WC(n,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function d(m){return Vn(m)?Ho(n,p)(m):p(m)}function p(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function b6(n,e,t){const i=this;return l;function l(c){return XC.call(i,n,s,o,"reference","referenceMarker","referenceString")(c)}function s(c){return i.parser.defined.includes(aa(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):t(c)}function o(c){return t(c)}}function v6(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),l}function l(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const S6={name:"labelStartImage",resolveAll:p0.resolveAll,tokenize:k6};function k6(n,e,t){const i=this;return l;function l(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),s}function s(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),o):t(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(c):e(c)}}const w6={name:"labelStartLink",resolveAll:p0.resolveAll,tokenize:C6};function C6(n,e,t){const i=this;return l;function l(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const im={name:"lineEnding",tokenize:A6};function A6(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),ht(n,e,"linePrefix")}}const df={name:"thematicBreak",tokenize:M6};function M6(n,e,t){let i=0,l;return s;function s(d){return n.enter("thematicBreak"),o(d)}function o(d){return l=d,c(d)}function c(d){return d===l?(n.enter("thematicBreakSequence"),f(d)):i>=3&&(d===null||Te(d))?(n.exit("thematicBreak"),e(d)):t(d)}function f(d){return d===l?(n.consume(d),i++,f):(n.exit("thematicBreakSequence"),tt(d)?ht(n,c,"whitespace")(d):c(d))}}const Ln={continuation:{tokenize:_6},exit:D6,name:"list",tokenize:O6},T6={partial:!0,tokenize:B6},E6={partial:!0,tokenize:N6};function O6(n,e,t){const i=this,l=i.events[i.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,o=0;return c;function c(b){const k=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:vg(b)){if(i.containerState.type||(i.containerState.type=k,n.enter(k,{_container:!0})),k==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(df,t,d)(b):d(b);if(!i.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(b)}return t(b)}function f(b){return vg(b)&&++o<10?(n.consume(b),f):(!i.interrupt||o<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),d(b)):t(b)}function d(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,n.check(sh,i.interrupt?t:p,n.attempt(T6,x,m))}function p(b){return i.containerState.initialBlankLine=!0,s++,x(b)}function m(b){return tt(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),x):t(b)}function x(b){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(b)}}function _6(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(sh,l,s);function l(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ht(n,e,"listItemIndent",i.containerState.size+1)(c)}function s(c){return i.containerState.furtherBlankLines||!tt(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(E6,e,o)(c))}function o(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,ht(n,n.attempt(Ln,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function N6(n,e,t){const i=this;return ht(n,l,"listItemIndent",i.containerState.size+1);function l(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):t(s)}}function D6(n){n.exit(this.containerState.type)}function B6(n,e,t){const i=this;return ht(n,l,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const o=i.events[i.events.length-1];return!tt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const DS={name:"setextUnderline",resolveTo:z6,tokenize:R6};function z6(n,e){let t=n.length,i,l,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(l=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",s?(n.splice(l,0,["enter",o,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,e]),n}function R6(n,e,t){const i=this;let l;return s;function s(d){let p=i.events.length,m;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){m=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),l=d,o(d)):t(d)}function o(d){return n.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===l?(n.consume(d),c):(n.exit("setextHeadingLineSequence"),tt(d)?ht(n,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Te(d)?(n.exit("setextHeadingLine"),e(d)):t(d)}}const L6={tokenize:j6};function j6(n){const e=this,t=n.attempt(sh,i,n.attempt(this.parser.constructs.flowInitial,l,ht(n,n.attempt(this.parser.constructs.flow,l,n.attempt(qR,l)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function l(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const H6={resolveAll:JC()},U6=$C("string"),I6=$C("text");function $C(n){return{resolveAll:JC(n==="text"?V6:void 0),tokenize:e};function e(t){const i=this,l=this.parser.constructs[n],s=t.attempt(l,o,c);return o;function o(p){return d(p)?s(p):c(p)}function c(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),f}function f(p){return d(p)?(t.exit("data"),s(p)):(t.consume(p),f)}function d(p){if(p===null)return!0;const m=l[p];let x=-1;if(m)for(;++x<m.length;){const b=m[x];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function JC(n){return e;function e(t,i){let l=-1,s;for(;++l<=t.length;)s===void 0?t[l]&&t[l][1].type==="data"&&(s=l,l++):(!t[l]||t[l][1].type!=="data")&&(l!==s+2&&(t[s][1].end=t[l-1][1].end,t.splice(s+2,l-s-2),l=s+2),s=void 0);return n?n(t,i):t}}function V6(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],l=e.sliceStream(i);let s=l.length,o=-1,c=0,f;for(;s--;){const d=l[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(d===-2)f=!0,c++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(c=0),c){const d={type:t===n.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}const q6={42:Ln,43:Ln,45:Ln,48:Ln,49:Ln,50:Ln,51:Ln,52:Ln,53:Ln,54:Ln,55:Ln,56:Ln,57:Ln,62:FC},P6={91:QR},F6={[-2]:nm,[-1]:nm,32:nm},G6={35:ZR,42:df,45:[DS,df],60:i6,61:DS,95:df,96:_S,126:_S},Y6={38:YC,92:GC},Q6={[-5]:im,[-4]:im,[-3]:im,33:S6,38:YC,42:Sg,60:[wR,c6],91:w6,92:[$R,GC],93:p0,95:Sg,96:LR},K6={null:[Sg,H6]},X6={null:[42,95]},W6={null:[]},$6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:X6,contentInitial:P6,disable:W6,document:q6,flow:G6,flowInitial:F6,insideSpan:K6,string:Y6,text:Q6},Symbol.toStringTag,{value:"Module"}));function J6(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const l={},s=[];let o=[],c=[];const f={attempt:H(Q),check:H(D),consume:L,enter:R,exit:ne,interrupt:H(D,{interrupt:!0})},d={code:null,containerState:{},defineSkip:w,events:[],now:k,parser:n,previous:null,sliceSerialize:x,sliceStream:b,write:m};let p=e.tokenize.call(d,f);return e.resolveAll&&s.push(e),d;function m(te){return o=yi(o,te),M(),o[o.length-1]!==null?[]:(se(e,0),d.events=d0(s,d.events,d),d.events)}function x(te,F){return e8(b(te),F)}function b(te){return Z6(o,te)}function k(){const{_bufferIndex:te,_index:F,line:re,column:W,offset:P}=i;return{_bufferIndex:te,_index:F,line:re,column:W,offset:P}}function w(te){l[te.line]=te.column,ae()}function M(){let te;for(;i._index<o.length;){const F=o[i._index];if(typeof F=="string")for(te=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===te&&i._bufferIndex<F.length;)T(F.charCodeAt(i._bufferIndex));else T(F)}}function T(te){p=p(te)}function L(te){Te(te)?(i.line++,i.column=1,i.offset+=te===-3?2:1,ae()):te!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=te}function R(te,F){const re=F||{};return re.type=te,re.start=k(),d.events.push(["enter",re,d]),c.push(re),re}function ne(te){const F=c.pop();return F.end=k(),d.events.push(["exit",F,d]),F}function Q(te,F){se(te,F.from)}function D(te,F){F.restore()}function H(te,F){return re;function re(W,P,B){let G,ce,me,E;return Array.isArray(W)?q(W):"tokenize"in W?q([W]):_(W);function _(pe){return Ee;function Ee(Ae){const Ye=Ae!==null&&pe[Ae],Kt=Ae!==null&&pe.null,An=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return q(An)(Ae)}}function q(pe){return G=pe,ce=0,pe.length===0?B:A(pe[ce])}function A(pe){return Ee;function Ee(Ae){return E=Z(),me=pe,pe.partial||(d.currentConstruct=pe),pe.name&&d.parser.constructs.disable.null.includes(pe.name)?fe():pe.tokenize.call(F?Object.assign(Object.create(d),F):d,f,ie,fe)(Ae)}}function ie(pe){return te(me,E),P}function fe(pe){return E.restore(),++ce<G.length?A(G[ce]):B}}}function se(te,F){te.resolveAll&&!s.includes(te)&&s.push(te),te.resolve&&ir(d.events,F,d.events.length-F,te.resolve(d.events.slice(F),d)),te.resolveTo&&(d.events=te.resolveTo(d.events,d))}function Z(){const te=k(),F=d.previous,re=d.currentConstruct,W=d.events.length,P=Array.from(c);return{from:W,restore:B};function B(){i=te,d.previous=F,d.currentConstruct=re,d.events.length=W,c=P,ae()}}function ae(){i.line in l&&i.column<2&&(i.column=l[i.line],i.offset+=l[i.line]-1)}}function Z6(n,e){const t=e.start._index,i=e.start._bufferIndex,l=e.end._index,s=e.end._bufferIndex;let o;if(t===l)o=[n[t].slice(i,s)];else{if(o=n.slice(t,l),i>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(i):o.shift()}s>0&&o.push(n[l].slice(0,s))}return o}function e8(n,e){let t=-1;const i=[];let l;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&l)continue;o=" ";break}default:o=String.fromCharCode(s)}l=s===-2,i.push(o)}return i.join("")}function t8(n){const i={constructs:oR([$6,...(n||{}).extensions||[]]),content:l(gR),defined:[],document:l(xR),flow:l(L6),lazy:{},string:l(U6),text:l(I6)};return i;function l(s){return o;function o(c){return J6(i,s,c)}}}function n8(n){for(;!QC(n););return n}const BS=/[\0\t\n\r]/g;function i8(){let n=1,e="",t=!0,i;return l;function l(s,o,c){const f=[];let d,p,m,x,b;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,e="",t&&(s.charCodeAt(0)===65279&&m++,t=void 0);m<s.length;){if(BS.lastIndex=m,d=BS.exec(s),x=d&&d.index!==void 0?d.index:s.length,b=s.charCodeAt(x),!d){e=s.slice(m);break}if(b===10&&m===x&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),m<x&&(f.push(s.slice(m,x)),n+=x-m),b){case 0:{f.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,f.push(-2);n++<p;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:i=!0,n=1}m=x+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}const r8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function l8(n){return n.replace(r8,s8)}function s8(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const l=t.charCodeAt(1),s=l===120||l===88;return PC(t.slice(s?2:1),s?16:10)}return h0(t)||n}const ZC={}.hasOwnProperty;function a8(n,e,t){return typeof e!="string"&&(t=e,e=void 0),o8(t)(n8(t8(t).document().write(i8()(n,e,!0))))}function o8(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(hn),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:s(Or),blockQuote:s(Kt),characterEscape:Z,characterReference:Z,codeFenced:s(An),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(An,o),codeText:s(ri,o),codeTextData:Z,data:Z,codeFlowValue:Z,definition:s(rs),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Fn),hardBreakEscape:s(lr),hardBreakTrailing:s(lr),htmlFlow:s(Bi,o),htmlFlowData:Z,htmlText:s(Bi,o),htmlTextData:Z,image:s(bl),label:o,link:s(hn),listItem:s(vl),listItemValue:x,listOrdered:s(_r,m),listUnordered:s(_r),paragraph:s(Xt),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Or),strong:s(zi),thematicBreak:s(Sa)},exit:{atxHeading:f(),atxHeadingSequence:Q,autolink:f(),autolinkEmail:Ye,autolinkProtocol:Ae,blockQuote:f(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:pe,characterReference:Ee,codeFenced:f(M),codeFencedFence:w,codeFencedFenceInfo:b,codeFencedFenceMeta:k,codeFlowValue:ae,codeIndented:f(T),codeText:f(P),codeTextData:ae,data:ae,definition:f(),definitionDestinationString:ne,definitionLabelString:L,definitionTitleString:R,emphasis:f(),hardBreakEscape:f(F),hardBreakTrailing:f(F),htmlFlow:f(re),htmlFlowData:ae,htmlText:f(W),htmlTextData:ae,image:f(G),label:me,labelText:ce,lineEnding:te,link:f(B),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ie,resourceDestinationString:E,resourceTitleString:_,resource:q,setextHeading:f(se),setextHeadingLineSequence:H,setextHeadingText:D,strong:f(),thematicBreak:f()}};eA(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(X){let ue={type:"root",children:[]};const we={stack:[ue],tokenStack:[],config:e,enter:c,exit:d,buffer:o,resume:p,data:t},Be=[];let je=-1;for(;++je<X.length;)if(X[je][1].type==="listOrdered"||X[je][1].type==="listUnordered")if(X[je][0]==="enter")Be.push(je);else{const dn=Be.pop();je=l(X,dn,je)}for(je=-1;++je<X.length;){const dn=e[X[je][0]];ZC.call(dn,X[je][1].type)&&dn[X[je][1].type].call(Object.assign({sliceSerialize:X[je][2].sliceSerialize},we),X[je][1])}if(we.tokenStack.length>0){const dn=we.tokenStack[we.tokenStack.length-1];(dn[1]||zS).call(we,void 0,dn[0])}for(ue.position={start:nl(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:nl(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<e.transforms.length;)ue=e.transforms[je](ue)||ue;return ue}function l(X,ue,we){let Be=ue-1,je=-1,dn=!1,pn,$t,kt,Jt;for(;++Be<=we;){const nt=X[Be];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?je++:je--,Jt=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(pn&&!Jt&&!je&&!kt&&(kt=Be),Jt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Jt=void 0}if(!je&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||je===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(pn){let Ri=Be;for($t=void 0;Ri--;){const vn=X[Ri];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;$t&&(X[$t][1].type="lineEndingBlank",dn=!0),vn[1].type="lineEnding",$t=Ri}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}kt&&(!$t||kt<$t)&&(pn._spread=!0),pn.end=Object.assign({},$t?X[$t][1].start:nt[1].end),X.splice($t||Be,0,["exit",pn,nt[2]]),Be++,we++}if(nt[1].type==="listItemPrefix"){const Ri={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};pn=Ri,X.splice(Be,0,["enter",Ri,nt[2]]),Be++,we++,kt=void 0,Jt=!0}}}return X[ue][1]._spread=dn,we}function s(X,ue){return we;function we(Be){c.call(this,X(Be),Be),ue&&ue.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(X,ue,we){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ue,we||void 0]),X.position={start:nl(ue.start),end:void 0}}function f(X){return ue;function ue(we){X&&X.call(this,we),d.call(this,we)}}function d(X,ue){const we=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==X.type&&(ue?ue.call(this,X,Be[0]):(Be[1]||zS).call(this,X,Be[0]));else throw new Error("Cannot close `"+X.type+"` ("+jo({start:X.start,end:X.end})+"): its not open");we.position.end=nl(X.end)}function p(){return sR(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function x(X){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function b(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=X}function k(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=X}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X.replace(/(\r?\n|\r)$/g,"")}function L(X){const ue=this.resume(),we=this.stack[this.stack.length-1];we.label=ue,we.identifier=aa(this.sliceSerialize(X)).toLowerCase()}function R(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.title=X}function ne(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.url=X}function Q(X){const ue=this.stack[this.stack.length-1];if(!ue.depth){const we=this.sliceSerialize(X).length;ue.depth=we}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function H(X){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(X){const we=this.stack[this.stack.length-1].children;let Be=we[we.length-1];(!Be||Be.type!=="text")&&(Be=Wt(),Be.position={start:nl(X.start),end:void 0},we.push(Be)),this.stack.push(Be)}function ae(X){const ue=this.stack.pop();ue.value+=this.sliceSerialize(X),ue.position.end=nl(X.end)}function te(X){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ue.children[ue.children.length-1];we.position.end=nl(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ue.type)&&(Z.call(this,X),ae.call(this,X))}function F(){this.data.atHardBreak=!0}function re(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function W(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function P(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function B(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ue,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function G(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ue,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function ce(X){const ue=this.sliceSerialize(X),we=this.stack[this.stack.length-2];we.label=l8(ue),we.identifier=aa(ue).toLowerCase()}function me(){const X=this.stack[this.stack.length-1],ue=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Be=X.children;we.children=Be}else we.alt=ue}function E(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.url=X}function _(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.title=X}function q(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ie(X){const ue=this.resume(),we=this.stack[this.stack.length-1];we.label=ue,we.identifier=aa(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function fe(X){this.data.characterReferenceType=X.type}function pe(X){const ue=this.sliceSerialize(X),we=this.data.characterReferenceType;let Be;we?(Be=PC(ue,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=h0(ue);const je=this.stack[this.stack.length-1];je.value+=Be}function Ee(X){const ue=this.stack.pop();ue.position.end=nl(X.end)}function Ae(X){ae.call(this,X);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(X)}function Ye(X){ae.call(this,X);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(X)}function Kt(){return{type:"blockquote",children:[]}}function An(){return{type:"code",lang:null,meta:null,value:""}}function ri(){return{type:"inlineCode",value:""}}function rs(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fn(){return{type:"emphasis",children:[]}}function Or(){return{type:"heading",depth:0,children:[]}}function lr(){return{type:"break"}}function Bi(){return{type:"html",value:""}}function bl(){return{type:"image",title:null,url:"",alt:null}}function hn(){return{type:"link",title:null,url:"",children:[]}}function _r(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function vl(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function Xt(){return{type:"paragraph",children:[]}}function zi(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function Sa(){return{type:"thematicBreak"}}}function nl(n){return{line:n.line,column:n.column,offset:n.offset}}function eA(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?eA(n,i):u8(n,i)}}function u8(n,e){let t;for(t in e)if(ZC.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function zS(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+jo({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+jo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+jo({start:e.start,end:e.end})+") is still open")}function c8(n){const e=this;e.parser=t;function t(i){return a8(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function f8(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function h8(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function d8(n,e){const t=e.value?e.value+`
`:"",i={},l=e.lang?e.lang.split(/\s+/):[];l.length>0&&(i.className=["language-"+l[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function p8(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function m8(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function g8(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),l=va(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,c+=1,n.footnoteCounts.set(i,c);const f={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+l,id:t+"fnref-"+l+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return n.patch(e,d),n.applyData(e,d)}function y8(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function x8(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function tA(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const l=n.all(e),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const o=l[l.length-1];return o&&o.type==="text"?o.value+=i:l.push({type:"text",value:i}),l}function b8(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return tA(n,e);const l={src:va(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"img",properties:l,children:[]};return n.patch(e,s),n.applyData(e,s)}function v8(n,e){const t={src:va(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function S8(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function k8(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return tA(n,e);const l={href:va(i.url||"")};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"a",properties:l,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function w8(n,e){const t={href:va(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function C8(n,e,t){const i=n.all(e),l=t?A8(t):nA(e),s={},o=[];if(typeof e.checked=="boolean"){const p=i[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const p=i[c];(l||c!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!l?o.push(...p.children):o.push(p)}const f=i[i.length-1];f&&(l||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return n.patch(e,d),n.applyData(e,d)}function A8(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=nA(t[i])}return e}function nA(n){const e=n.spread;return e??n.children.length>1}function M8(n,e){const t={},i=n.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++l<i.length;){const o=i[l];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function T8(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function E8(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function O8(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function _8(n,e){const t=n.all(e),i=t.shift(),l=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],o),l.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},c=o0(e.children[1]),f=LC(e.children[e.children.length-1]);c&&f&&(o.position={start:c,end:f}),l.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(e,s),n.applyData(e,s)}function N8(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,c=o?o.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const m=e.children[f],x={},b=o?o[f]:void 0;b&&(x.align=b);let k={type:"element",tagName:s,properties:x,children:[]};m&&(k.children=n.all(m),n.patch(m,k),k=n.applyData(m,k)),d.push(k)}const p={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,p),n.applyData(e,p)}function D8(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const RS=9,LS=32;function B8(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),l=0;const s=[];for(;i;)s.push(jS(e.slice(l,i.index),l>0,!0),i[0]),l=i.index+i[0].length,i=t.exec(e);return s.push(jS(e.slice(l),l>0,!1)),s.join("")}function jS(n,e,t){let i=0,l=n.length;if(e){let s=n.codePointAt(i);for(;s===RS||s===LS;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(l-1);for(;s===RS||s===LS;)l--,s=n.codePointAt(l-1)}return l>i?n.slice(i,l):""}function z8(n,e){const t={type:"text",value:B8(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function R8(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const L8={blockquote:f8,break:h8,code:d8,delete:p8,emphasis:m8,footnoteReference:g8,heading:y8,html:x8,imageReference:b8,image:v8,inlineCode:S8,linkReference:k8,link:w8,listItem:C8,list:M8,paragraph:T8,root:E8,strong:O8,table:_8,tableCell:D8,tableRow:N8,text:z8,thematicBreak:R8,toml:Qc,yaml:Qc,definition:Qc,footnoteDefinition:Qc};function Qc(){}const iA=-1,ah=0,Uo=1,Pf=2,m0=3,g0=4,y0=5,x0=6,rA=7,lA=8,HS=typeof self=="object"?self:globalThis,j8=(n,e)=>{const t=(l,s)=>(n.set(s,l),l),i=l=>{if(n.has(l))return n.get(l);const[s,o]=e[l];switch(s){case ah:case iA:return t(o,l);case Uo:{const c=t([],l);for(const f of o)c.push(i(f));return c}case Pf:{const c=t({},l);for(const[f,d]of o)c[i(f)]=i(d);return c}case m0:return t(new Date(o),l);case g0:{const{source:c,flags:f}=o;return t(new RegExp(c,f),l)}case y0:{const c=t(new Map,l);for(const[f,d]of o)c.set(i(f),i(d));return c}case x0:{const c=t(new Set,l);for(const f of o)c.add(i(f));return c}case rA:{const{name:c,message:f}=o;return t(new HS[c](f),l)}case lA:return t(BigInt(o),l);case"BigInt":return t(Object(BigInt(o)),l);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return t(new DataView(c),o)}}return t(new HS[s](o),l)};return i},US=n=>j8(new Map,n)(0),Qs="",{toString:H8}={},{keys:U8}=Object,ko=n=>{const e=typeof n;if(e!=="object"||!n)return[ah,e];const t=H8.call(n).slice(8,-1);switch(t){case"Array":return[Uo,Qs];case"Object":return[Pf,Qs];case"Date":return[m0,Qs];case"RegExp":return[g0,Qs];case"Map":return[y0,Qs];case"Set":return[x0,Qs];case"DataView":return[Uo,t]}return t.includes("Array")?[Uo,t]:t.includes("Error")?[rA,t]:[Pf,t]},Kc=([n,e])=>n===ah&&(e==="function"||e==="symbol"),I8=(n,e,t,i)=>{const l=(o,c)=>{const f=i.push(o)-1;return t.set(c,f),f},s=o=>{if(t.has(o))return t.get(o);let[c,f]=ko(o);switch(c){case ah:{let p=o;switch(f){case"bigint":c=lA,p=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return l([iA],o)}return l([c,p],o)}case Uo:{if(f){let x=o;return f==="DataView"?x=new Uint8Array(o.buffer):f==="ArrayBuffer"&&(x=new Uint8Array(o)),l([f,[...x]],o)}const p=[],m=l([c,p],o);for(const x of o)p.push(s(x));return m}case Pf:{if(f)switch(f){case"BigInt":return l([f,o.toString()],o);case"Boolean":case"Number":case"String":return l([f,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const p=[],m=l([c,p],o);for(const x of U8(o))(n||!Kc(ko(o[x])))&&p.push([s(x),s(o[x])]);return m}case m0:return l([c,o.toISOString()],o);case g0:{const{source:p,flags:m}=o;return l([c,{source:p,flags:m}],o)}case y0:{const p=[],m=l([c,p],o);for(const[x,b]of o)(n||!(Kc(ko(x))||Kc(ko(b))))&&p.push([s(x),s(b)]);return m}case x0:{const p=[],m=l([c,p],o);for(const x of o)(n||!Kc(ko(x)))&&p.push(s(x));return m}}const{message:d}=o;return l([c,{name:f,message:d}],o)};return s},IS=(n,{json:e,lossy:t}={})=>{const i=[];return I8(!(e||t),!!e,new Map,i)(n),i},Ff=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?US(IS(n,e)):structuredClone(n):(n,e)=>US(IS(n,e));function V8(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function q8(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function P8(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||V8,i=n.options.footnoteBackLabel||q8,l=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[f]);if(!d)continue;const p=n.all(d),m=String(d.identifier).toUpperCase(),x=va(m.toLowerCase());let b=0;const k=[],w=n.footnoteCounts.get(m);for(;w!==void 0&&++b<=w;){k.length>0&&k.push({type:"text",value:" "});let L=typeof t=="string"?t:t(f,b);typeof L=="string"&&(L={type:"text",value:L}),k.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,b),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const M=p[p.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const L=M.children[M.children.length-1];L&&L.type==="text"?L.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...k)}else p.push(...k);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:n.wrap(p,!0)};n.patch(d,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ff(o),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const sA=(function(n){if(n==null)return Q8;if(typeof n=="function")return oh(n);if(typeof n=="object")return Array.isArray(n)?F8(n):G8(n);if(typeof n=="string")return Y8(n);throw new Error("Expected function, string, or object as test")});function F8(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=sA(n[t]);return oh(i);function i(...l){let s=-1;for(;++s<e.length;)if(e[s].apply(this,l))return!0;return!1}}function G8(n){const e=n;return oh(t);function t(i){const l=i;let s;for(s in n)if(l[s]!==e[s])return!1;return!0}}function Y8(n){return oh(e);function e(t){return t&&t.type===n}}function oh(n){return e;function e(t,i,l){return!!(K8(t)&&n.call(this,t,typeof i=="number"?i:void 0,l||void 0))}}function Q8(){return!0}function K8(n){return n!==null&&typeof n=="object"&&"type"in n}const aA=[],X8=!0,VS=!1,W8="skip";function $8(n,e,t,i){let l;typeof e=="function"&&typeof t!="function"?(i=t,t=e):l=e;const s=sA(l),o=i?-1:1;c(n,void 0,[])();function c(f,d,p){const m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return x;function x(){let b=aA,k,w,M;if((!e||s(f,d,p[p.length-1]||void 0))&&(b=J8(t(f,p)),b[0]===VS))return b;if("children"in f&&f.children){const T=f;if(T.children&&b[0]!==W8)for(w=(i?T.children.length:-1)+o,M=p.concat(T);w>-1&&w<T.children.length;){const L=T.children[w];if(k=c(L,w,M)(),k[0]===VS)return k;w=typeof k[1]=="number"?k[1]:w+o}}return b}}}function J8(n){return Array.isArray(n)?n:typeof n=="number"?[X8,n]:n==null?aA:[n]}function oA(n,e,t,i){let l,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,l=t):(s=e,o=t,l=i),$8(n,s,c,l);function c(f,d){const p=d[d.length-1],m=p?p.children.indexOf(f):void 0;return o(f,m,p)}}const kg={}.hasOwnProperty,Z8={};function eL(n,e){const t=e||Z8,i=new Map,l=new Map,s=new Map,o={...L8,...t.handlers},c={all:d,applyData:nL,definitionById:i,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:o,one:f,options:t,patch:tL,wrap:rL};return oA(n,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?i:l,x=String(p.identifier).toUpperCase();m.has(x)||m.set(x,p)}}),c;function f(p,m){const x=p.type,b=c.handlers[x];if(kg.call(c.handlers,x)&&b)return b(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(x)){if("children"in p){const{children:w,...M}=p,T=Ff(M);return T.children=c.all(p),T}return Ff(p)}return(c.options.unknownHandler||iL)(c,p,m)}function d(p){const m=[];if("children"in p){const x=p.children;let b=-1;for(;++b<x.length;){const k=c.one(x[b],p);if(k){if(b&&x[b-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=qS(k.value)),!Array.isArray(k)&&k.type==="element")){const w=k.children[0];w&&w.type==="text"&&(w.value=qS(w.value))}Array.isArray(k)?m.push(...k):m.push(k)}}}return m}}function tL(n,e){n.position&&(e.position=Hz(n))}function nL(n,e){let t=e;if(n&&n.data){const i=n.data.hName,l=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const o="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,Ff(s)),"children"in t&&t.children&&l!==null&&l!==void 0&&(t.children=l)}return t}function iL(n,e){const t=e.data||{},i="value"in e&&!(kg.call(t,"hProperties")||kg.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function rL(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function qS(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function PS(n,e){const t=eL(n,e),i=t.one(n,void 0),l=P8(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function lL(n,e){return n&&"run"in n?async function(t,i){const l=PS(t,{file:i,...e});await n.run(l,i)}:function(t,i){return PS(t,{file:i,...n||e})}}function FS(n){if(n)throw n}var rm,GS;function sL(){if(GS)return rm;GS=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=n.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!m)return!1;var x;for(x in d);return typeof x>"u"||n.call(d,x)},o=function(d,p){t&&p.name==="__proto__"?t(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},c=function(d,p){if(p==="__proto__")if(n.call(d,p)){if(i)return i(d,p).value}else return;return d[p]};return rm=function f(){var d,p,m,x,b,k,w=arguments[0],M=1,T=arguments.length,L=!1;for(typeof w=="boolean"&&(L=w,w=arguments[1]||{},M=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});M<T;++M)if(d=arguments[M],d!=null)for(p in d)m=c(w,p),x=c(d,p),w!==x&&(L&&x&&(s(x)||(b=l(x)))?(b?(b=!1,k=m&&l(m)?m:[]):k=m&&s(m)?m:{},o(w,{name:p,newValue:f(L,k,x)})):typeof x<"u"&&o(w,{name:p,newValue:x}));return w},rm}var aL=sL();const lm=Yf(aL);function wg(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function oL(){const n=[],e={run:t,use:i};return e;function t(...l){let s=-1;const o=l.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...l);function c(f,...d){const p=n[++s];let m=-1;if(f){o(f);return}for(;++m<l.length;)(d[m]===null||d[m]===void 0)&&(d[m]=l[m]);l=d,p?uL(p,c)(...d):o(null,...d)}}function i(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),e}}function uL(n,e){let t;return i;function i(...o){const c=n.length>o.length;let f;c&&o.push(l);try{f=n.apply(this,o)}catch(d){const p=d;if(c&&t)throw p;return l(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(s,l):f instanceof Error?l(f):s(f))}function l(o,...c){t||(t=!0,e(o,...c))}function s(o){l(null,o)}}const Qi={basename:cL,dirname:fL,extname:hL,join:dL,sep:"/"};function cL(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');du(n);let t=0,i=-1,l=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(s){t=l+1;break}}else i<0&&(s=!0,i=l+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let o=-1,c=e.length-1;for(;l--;)if(n.codePointAt(l)===47){if(s){t=l+1;break}}else o<0&&(s=!0,o=l+1),c>-1&&(n.codePointAt(l)===e.codePointAt(c--)?c<0&&(i=l):(c=-1,i=o));return t===i?i=o:i<0&&(i=n.length),n.slice(t,i)}function fL(n){if(du(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function hL(n){du(n);let e=n.length,t=-1,i=0,l=-1,s=0,o;for(;e--;){const c=n.codePointAt(e);if(c===47){if(o){i=e+1;break}continue}t<0&&(o=!0,t=e+1),c===46?l<0?l=e:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||t<0||s===0||s===1&&l===t-1&&l===i+1?"":n.slice(l,t)}function dL(...n){let e=-1,t;for(;++e<n.length;)du(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":pL(t)}function pL(n){du(n);const e=n.codePointAt(0)===47;let t=mL(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function mL(n,e){let t="",i=0,l=-1,s=0,o=-1,c,f;for(;++o<=n.length;){if(o<n.length)c=n.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(l===o-1||s===1))if(l!==o-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(f=t.lastIndexOf("/"),f!==t.length-1){f<0?(t="",i=0):(t=t.slice(0,f),i=t.length-1-t.lastIndexOf("/")),l=o,s=0;continue}}else if(t.length>0){t="",i=0,l=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(l+1,o):t=n.slice(l+1,o),i=o-l-1;l=o,s=0}else c===46&&s>-1?s++:s=-1}return t}function du(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const gL={cwd:yL};function yL(){return"/"}function Cg(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function xL(n){if(typeof n=="string")n=new URL(n);else if(!Cg(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return bL(n)}function bL(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const sm=["history","path","basename","stem","extname","dirname"];class uA{constructor(e){let t;e?Cg(e)?t={path:e}:typeof e=="string"||vL(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":gL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<sm.length;){const s=sm[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let l;for(l in t)sm.includes(l)||(this[l]=t[l])}get basename(){return typeof this.path=="string"?Qi.basename(this.path):void 0}set basename(e){om(e,"basename"),am(e,"basename"),this.path=Qi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Qi.dirname(this.path):void 0}set dirname(e){YS(this.basename,"dirname"),this.path=Qi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Qi.extname(this.path):void 0}set extname(e){if(am(e,"extname"),YS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Cg(e)&&(e=xL(e)),om(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Qi.basename(this.path,this.extname):void 0}set stem(e){om(e,"stem"),am(e,"stem"),this.path=Qi.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const l=this.message(e,t,i);throw l.fatal=!0,l}info(e,t,i){const l=this.message(e,t,i);return l.fatal=void 0,l}message(e,t,i){const l=new bn(e,t,i);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function am(n,e){if(n&&n.includes(Qi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Qi.sep+"`")}function om(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function YS(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function vL(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const SL=(function(n){const i=this.constructor.prototype,l=i[n],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),kL={}.hasOwnProperty;class b0 extends SL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oL()}copy(){const e=new b0;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(lm(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(fm("data",this.frozen),this.namespace[e]=t,this):kL.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const l=t.call(e,...i);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Xc(e),i=this.parser||this.Parser;return um("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),um("process",this.parser||this.Parser),cm("process",this.compiler||this.Compiler),t?l(void 0,t):new Promise(l);function l(s,o){const c=Xc(e),f=i.parse(c);i.run(f,c,function(p,m,x){if(p||!m||!x)return d(p);const b=m,k=i.stringify(b,x);AL(k)?x.value=k:x.result=k,d(p,x)});function d(p,m){p||!m?o(p):s?s(m):t(void 0,m)}}}processSync(e){let t=!1,i;return this.freeze(),um("processSync",this.parser||this.Parser),cm("processSync",this.compiler||this.Compiler),this.process(e,l),KS("processSync","process",t),i;function l(s,o){t=!0,FS(s),i=o}}run(e,t,i){QS(e),this.freeze();const l=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(o,c){const f=Xc(t);l.run(e,f,d);function d(p,m,x){const b=m||e;p?c(p):o?o(b):i(void 0,b,x)}}}runSync(e,t){let i=!1,l;return this.run(e,t,s),KS("runSync","run",i),l;function s(o,c){FS(o),l=c,i=!0}}stringify(e,t){this.freeze();const i=Xc(t),l=this.compiler||this.Compiler;return cm("stringify",l),QS(e),l(e,i)}use(e,...t){const i=this.attachers,l=this.namespace;if(fm("use",this.frozen),e!=null)if(typeof e=="function")f(e,t);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...m]=d;f(p,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(l.settings=lm(!0,l.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const m=d[p];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,p){let m=-1,x=-1;for(;++m<i.length;)if(i[m][0]===d){x=m;break}if(x===-1)i.push([d,...p]);else if(p.length>0){let[b,...k]=p;const w=i[x][1];wg(w)&&wg(b)&&(b=lm(!0,w,b)),i[x]=[d,b,...k]}}}}const wL=new b0().freeze();function um(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function cm(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function fm(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QS(n){if(!wg(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function KS(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Xc(n){return CL(n)?n:new uA(n)}function CL(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function AL(n){return typeof n=="string"||ML(n)}function ML(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const TL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",XS=[],WS={allowDangerousHtml:!0},EL=/^(https?|ircs?|mailto|xmpp)$/i,OL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function _L(n){const e=NL(n),t=DL(n);return BL(e.runSync(e.parse(t),t),n)}function NL(n){const e=n.rehypePlugins||XS,t=n.remarkPlugins||XS,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...WS}:WS;return wL().use(c8).use(t).use(lL,i).use(e)}function DL(n){const e=n.children||"",t=new uA;return typeof e=="string"&&(t.value=e),t}function BL(n,e){const t=e.allowedElements,i=e.allowElement,l=e.components,s=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||zL;for(const p of OL)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+TL+p.id,void 0);return oA(n,d),Pz(n,{Fragment:S.Fragment,components:l,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function d(p,m,x){if(p.type==="raw"&&x&&typeof m=="number")return o?x.children.splice(m,1):x.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let b;for(b in tm)if(Object.hasOwn(tm,b)&&Object.hasOwn(p.properties,b)){const k=p.properties[b],w=tm[b];(w===null||w.includes(p.tagName))&&(p.properties[b]=f(String(k||""),b,p))}}if(p.type==="element"){let b=t?!t.includes(p.tagName):s?s.includes(p.tagName):!1;if(!b&&i&&typeof m=="number"&&(b=!i(p,m,x)),b&&x&&typeof m=="number")return c&&p.children?x.children.splice(m,1,...p.children):x.children.splice(m,1),m}}}function zL(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),l=n.indexOf("/");return e===-1||l!==-1&&e>l||t!==-1&&e>t||i!==-1&&e>i||EL.test(n.slice(0,e))?n:""}const RL="_overlay_nj72f_1",LL="_modal_nj72f_16",jL="_header_nj72f_30",HL="_titleGroup_nj72f_39",UL="_icon_nj72f_45",IL="_title_nj72f_39",VL="_titleWrapper_nj72f_56",qL="_promptSubtitle_nj72f_61",PL="_actions_nj72f_72",FL="_actionBtn_nj72f_78",GL="_primaryBtn_nj72f_91",YL="_body_nj72f_108",QL="_explanationBox_nj72f_118",KL="_explanationIcon_nj72f_131",XL="_explanationText_nj72f_136",WL="_markdownWrapper_nj72f_143",$L="_viewToggle_nj72f_153",JL="_toggleBtn_nj72f_163",ZL="_activeToggle_nj72f_182",ej="_tableWrapper_nj72f_189",tj="_dataTable_nj72f_196",$e={overlay:RL,modal:LL,header:jL,titleGroup:HL,icon:UL,title:IL,titleWrapper:VL,promptSubtitle:qL,actions:PL,actionBtn:FL,primaryBtn:GL,body:YL,explanationBox:QL,explanationIcon:KL,explanationText:XL,markdownWrapper:WL,viewToggle:$L,toggleBtn:JL,activeToggle:ZL,tableWrapper:ej,dataTable:tj};function nj(){const{generatedContent:n,setGeneratedContent:e,setText:t,theme:i}=Rt(),[l,s]=ve.useState(!1),[o,c]=ve.useState("code"),f=ve.useMemo(()=>{if(!n||n.type!=="code"&&n.type!=="fix-preview")return null;try{const x=JSON.parse(n.content);if(Array.isArray(x)&&x.length>0&&typeof x[0]=="object"&&x[0]!==null)return x}catch{return null}return null},[n]);if(ve.useMemo(()=>{f&&c("table")},[f]),!n)return null;const d=()=>{navigator.clipboard.writeText(n.content),s(!0),Fe.success("Copied to clipboard"),setTimeout(()=>s(!1),2e3)},p=()=>{const x=new Blob([n.content],{type:"text/plain"}),b=URL.createObjectURL(x),k=document.createElement("a");k.href=b;let w=".txt";n.title.includes("CSV")&&(w=".csv"),n.title.includes("JSON")&&(w=".json"),n.title.includes("YAML")&&(w=".yaml"),n.title.includes("XML")&&(w=".xml"),k.download=`result${w}`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(b)},m=()=>{e(null)};return S.jsx("div",{className:$e.overlay,children:S.jsxs("div",{className:$e.modal,children:[S.jsxs("div",{className:$e.header,children:[S.jsxs("div",{className:$e.titleGroup,children:[n.type==="fix-preview"?S.jsx(qf,{size:18,className:$e.icon}):n.type==="code"?S.jsx(hS,{size:18,className:$e.icon}):S.jsx(eu,{size:18,className:$e.icon}),S.jsxs("div",{className:$e.titleWrapper,children:[S.jsx("h2",{className:$e.title,children:n.title}),n.prompt&&S.jsxs("span",{className:$e.promptSubtitle,title:n.prompt,children:['"',n.prompt,'"']})]})]}),f&&S.jsxs("div",{className:$e.viewToggle,children:[S.jsxs("button",{className:`${$e.toggleBtn} ${o==="table"?$e.activeToggle:""}`,onClick:()=>c("table"),children:[S.jsx(f5,{size:14})," Table"]}),S.jsxs("button",{className:`${$e.toggleBtn} ${o==="code"?$e.activeToggle:""}`,onClick:()=>c("code"),children:[S.jsx(hS,{size:14})," Code"]})]}),S.jsx("div",{className:$e.actions,children:n.type==="fix-preview"?S.jsxs(S.Fragment,{children:[S.jsxs("button",{className:`${$e.actionBtn} ${$e.primaryBtn}`,onClick:()=>{t(n.content),e(null),Fe.success("Content applied successfully")},title:"Accept",children:[S.jsx(hg,{size:16,style:{marginRight:4}}),n.actionLabel||"Apply Fix"]}),n.isPartial&&S.jsxs("button",{className:`${$e.actionBtn} ${$e.primaryBtn} ${$e.fixAgainBtn}`,onClick:()=>{Rt.getState().fixJsonWithAI(n.content)},title:"Fix Next Error",style:{backgroundColor:"var(--color-warning)",color:"black"},children:[S.jsx(qf,{size:16,style:{marginRight:4}}),"Fix Next Error"]}),S.jsx("button",{className:$e.actionBtn,onClick:m,title:"Reject",children:S.jsx($l,{size:18})})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{className:$e.actionBtn,onClick:d,title:"Copy to Clipboard",children:l?S.jsx(hg,{size:18}):S.jsx(l0,{size:18})}),S.jsx("button",{className:$e.actionBtn,onClick:p,title:"Download",children:S.jsx(kC,{size:18})}),S.jsx("button",{className:$e.actionBtn,onClick:m,title:"Close",children:S.jsx($l,{size:18})})]})})]}),S.jsxs("div",{className:$e.body,children:[n.explanation&&S.jsxs("div",{className:$e.explanationBox,children:[S.jsx(_B,{size:16,className:$e.explanationIcon}),S.jsx("span",{className:$e.explanationText,children:n.explanation})]}),n.type==="markdown"?S.jsx("div",{className:$e.markdownWrapper,children:S.jsx(_L,{children:n.content})}):o==="table"&&f?S.jsx("div",{className:$e.tableWrapper,children:S.jsxs("table",{className:$e.dataTable,children:[S.jsx("thead",{children:S.jsx("tr",{children:Object.keys(f[0]).map(x=>S.jsx("th",{children:x},x))})}),S.jsx("tbody",{children:f.map((x,b)=>S.jsx("tr",{children:Object.values(x).map((k,w)=>S.jsx("td",{children:typeof k=="object"?JSON.stringify(k):String(k)},w))},b))})]})}):S.jsx(xC,{initialValue:n.content,onChange:()=>{},theme:i})]})]})})}const ij="_overlay_1jznm_1",rj="_modal_1jznm_16",lj="_header_1jznm_29",sj="_titleRow_1jznm_38",aj="_version_1jznm_51",oj="_closeBtn_1jznm_57",uj="_content_1jznm_72",cj="_privacySection_1jznm_83",fj="_iconBox_1jznm_93",hj="_privacyText_1jznm_101",dj="_grid_1jznm_121",pj="_card_1jznm_127",mj="_cardHeader_1jznm_134",gj="_list_1jznm_156",yj="_shortcutList_1jznm_179",xj="_subtext_1jznm_208",bj="_footer_1jznm_214",vj="_footerLinks_1jznm_225",Sj="_feedbackBtn_1jznm_232",kj="_link_1jznm_255",bt={overlay:ij,modal:rj,header:lj,titleRow:sj,version:aj,closeBtn:oj,content:uj,privacySection:cj,iconBox:fj,privacyText:hj,grid:dj,card:pj,cardHeader:mj,list:gj,shortcutList:yj,subtext:xj,footer:bj,footerLinks:vj,feedbackBtn:Sj,link:kj};function wj(){const{isInfoModalOpen:n,setInfoModalOpen:e,setFeedbackModalOpen:t}=Rt();return n?S.jsx("div",{className:bt.overlay,onClick:()=>e(!1),children:S.jsxs("div",{className:bt.modal,onClick:i=>i.stopPropagation(),children:[S.jsxs("div",{className:bt.header,children:[S.jsxs("div",{className:bt.titleRow,children:[S.jsx("h2",{children:"JSON Studio"}),S.jsx("span",{className:bt.version,children:"v1.0"})]}),S.jsx("button",{className:bt.closeBtn,onClick:()=>e(!1),children:S.jsx($l,{size:20})})]}),S.jsxs("div",{className:bt.content,children:[S.jsxs("section",{className:bt.privacySection,children:[S.jsx("div",{className:bt.iconBox,children:S.jsx(r5,{size:24,className:bt.shieldIcon})}),S.jsxs("div",{className:bt.privacyText,children:[S.jsx("h3",{children:"Client-Side & Private"}),S.jsxs("p",{children:["Your data never leaves your browser. We do not store any JSON on our servers. Persistence is handled strictly via your browser's ",S.jsx("code",{children:"localStorage"}),"."]})]})]}),S.jsxs("div",{className:bt.grid,children:[S.jsxs("div",{className:bt.card,children:[S.jsxs("div",{className:bt.cardHeader,children:[S.jsx(vB,{size:20}),S.jsx("h4",{children:"AI Power Tools"})]}),S.jsxs("p",{children:["Press ",S.jsx("kbd",{children:"Cmd+K"})," to open the Command Palette."]}),S.jsxs("ul",{className:bt.list,children:[S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Generate"}),": Create mock data from descriptions."]}),S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Query"}),": Filter using natural language."]}),S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Convert"}),": Transform JSON to CSV/XML/YAML."]}),S.jsxs("li",{children:[" ",S.jsx("strong",{children:"Auto-Fix"}),": Repair invalid JSON instantly."]})]})]}),S.jsxs("div",{className:bt.card,children:[S.jsxs("div",{className:bt.cardHeader,children:[S.jsx(v5,{size:20}),S.jsx("h4",{children:"Pro Shortcuts"})]}),S.jsxs("ul",{className:bt.shortcutList,children:[S.jsxs("li",{children:[S.jsx("span",{children:"Find & Replace"}),S.jsx("kbd",{children:"Cmd + F"})]}),S.jsxs("li",{children:[S.jsx("span",{children:"Command Palette"}),S.jsx("kbd",{children:"Cmd + K"})]}),S.jsxs("li",{children:[S.jsx("span",{children:"Quick Fix"}),S.jsx("kbd",{children:"Cmd + Shift + F"})]}),S.jsxs("li",{children:[S.jsx("span",{children:"Save File"}),S.jsx("kbd",{children:"Cmd + S"})]}),S.jsxs("li",{children:[S.jsx("span",{children:"Magic Paste"}),S.jsx("kbd",{children:"Cmd + V"}),S.jsx("span",{className:bt.subtext,children:"(on empty screen)"})]})]})]})]}),S.jsxs("div",{className:bt.footer,children:[S.jsxs("button",{className:bt.feedbackBtn,onClick:()=>{e(!1),t(!0)},children:[S.jsx(CC,{size:14})," Give Feedback"]}),S.jsxs("div",{className:bt.footerLinks,children:[S.jsx("p",{children:"Designed for focus and speed."}),S.jsxs("a",{href:"https://github.com/tejus07/JSON-Studio",target:"_blank",rel:"noopener noreferrer",className:bt.link,children:["View on GitHub ",S.jsx(e5,{size:12})]})]})]})]})]})}):null}const Cj="_overlay_plokk_1",Aj="_modal_plokk_19",Mj="_header_plokk_36",Tj="_titleGroup_plokk_45",Ej="_iconWrapper_plokk_52",Oj="_title_plokk_45",_j="_closeBtn_plokk_67",Nj="_body_plokk_86",Dj="_input_plokk_93",Bj="_hint_plokk_111",zj="_contextHint_plokk_120",Rj="_contextLabel_plokk_133",Lj="_keyTags_plokk_140",jj="_keyTag_plokk_140",Hj="_footer_plokk_169",Uj="_cancelBtn_plokk_178",Ij="_submitBtn_plokk_195",At={overlay:Cj,modal:Aj,header:Mj,titleGroup:Tj,iconWrapper:Ej,title:Oj,closeBtn:_j,body:Nj,input:Dj,hint:Bj,contextHint:zj,contextLabel:Rj,keyTags:Lj,keyTag:jj,footer:Hj,cancelBtn:Uj,submitBtn:Ij};function Vj(){const{isPromptModalOpen:n,promptAction:e,setPromptModalOpen:t,executeAiPrompt:i,parsedData:l}=Rt(),[s,o]=ve.useState(""),c=ve.useRef(null),d=l?Array.isArray(l)?l.length>0&&typeof l[0]=="object"&&l[0]!==null?Object.keys(l[0]):[]:typeof l=="object"&&l!==null?Object.keys(l):[]:[];if(ve.useEffect(()=>{n&&(o(""),setTimeout(()=>c.current?.focus(),100))},[n,e]),!n||!e)return null;const p=()=>{s.trim()&&i(s)},m=b=>{b.key==="Enter"&&(b.metaKey||b.ctrlKey)&&p()},x={generate:{title:"Generate Data",icon:S.jsx(eu,{size:20}),placeholder:'e.g. "Create 10 users with realistic names and emails"',btnText:"Generate"},query:{title:"Natural Language Query",icon:S.jsx(KB,{size:20}),placeholder:'e.g. "Find all users older than 25 who live in London"',btnText:"Run Query"},convert:{title:"Smart Convert",icon:S.jsx(AC,{size:20}),placeholder:'e.g. "Convert to CSV" or "YAML format"',btnText:"Convert"}}[e];return x?S.jsx("div",{className:At.overlay,onClick:b=>b.target===b.currentTarget&&t(!1),children:S.jsxs("div",{className:At.modal,children:[S.jsxs("div",{className:At.header,children:[S.jsxs("div",{className:At.titleGroup,children:[S.jsx("span",{className:At.iconWrapper,children:x.icon}),S.jsx("h2",{className:At.title,children:x.title})]}),S.jsx("button",{className:At.closeBtn,onClick:()=>t(!1),children:S.jsx($l,{size:20})})]}),S.jsxs("div",{className:At.body,children:[S.jsx("textarea",{ref:c,className:At.input,placeholder:x.placeholder,value:s,onChange:b=>o(b.target.value),onKeyDown:m,rows:4}),S.jsx("div",{className:At.hint,children:"Pro tip: Press Cmd+Enter to submit"}),x.title==="Natural Language Query"&&d.length>0&&S.jsxs("div",{className:At.contextHint,children:[S.jsx("span",{className:At.contextLabel,children:"Click to add:"}),S.jsx("div",{className:At.keyTags,children:d.slice(0,50).map(b=>S.jsx("button",{className:At.keyTag,onClick:()=>o(k=>k+(k.endsWith(" ")?"":" ")+b),children:b},b))})]}),x.title==="Smart Convert"&&S.jsxs("div",{className:At.contextHint,children:[S.jsx("span",{className:At.contextLabel,children:"Quick Select:"}),S.jsx("div",{className:At.keyTags,children:["CSV","YAML","XML","TypeScript","Python Dict","Go Struct"].map(b=>S.jsx("button",{className:At.keyTag,onClick:()=>{o(`Convert to ${b}`)},children:b},b))})]})]}),S.jsxs("div",{className:At.footer,children:[S.jsx("button",{className:At.cancelBtn,onClick:()=>t(!1),children:"Cancel"}),S.jsx("button",{className:At.submitBtn,onClick:p,disabled:!s.trim(),children:x.btnText})]})]})}):null}const qj="_overlay_rqbk1_1",Pj="_content_rqbk1_17",Fj="_spinner_rqbk1_30",Gj="_message_rqbk1_39",Yj="_subtext_rqbk1_46",wo={overlay:qj,content:Pj,spinner:Fj,message:Gj,subtext:Yj},Qj={fixing:["Analyzing JSON structure...","Finding and fixing syntax errors...","Validating brackets and braces...","Polishing your data...","Applying smart fixes..."],schema:["Inferring types from data...","Generating TypeScript interfaces...","Detecting object patterns...","Building schema definitions..."],explain:["Reading your JSON...","Analyzing data hierarchy...","Summarizing content...","generating human-readable insights..."],query:["Scanning dataset...","Filtering results...","Processing your query...","Extracting relevant data..."],generate:["Dreaming up mock data...","Populating fields...","Creating realistic examples...","Structuring new objects..."],convert:["Transforming format...","Rewriting syntax...","Reformatting data output...","Applying new structure..."]};function Kj(){const{processingStatus:n,isFileLoading:e}=Rt(),[t,i]=ve.useState(!1),[l,s]=ve.useState("");return ve.useEffect(()=>{if(!n&&!e){i(!1);return}if(i(!0),e){s("Reading file...");return}const o=Qj[n]||["Processing..."];s(o[Math.floor(Math.random()*o.length)]);const c=setInterval(()=>{s(o[Math.floor(Math.random()*o.length)])},2e3);return()=>clearInterval(c)},[n]),t?S.jsx("div",{className:wo.overlay,children:S.jsxs("div",{className:wo.content,children:[S.jsx("div",{className:wo.spinner}),S.jsx("div",{className:wo.message,children:l}),S.jsx("div",{className:wo.subtext,children:"This may take a few seconds"})]})}):null}const Xj="_overlay_46m9e_1",Wj="_modal_46m9e_16",$j="_header_46m9e_29",Jj="_closeBtn_46m9e_44",Zj="_content_46m9e_62",e9="_form_46m9e_67",t9="_formGroup_46m9e_73",n9="_label_46m9e_79",i9="_ratingContainer_46m9e_85",r9="_ratingBtn_46m9e_92",l9="_active_46m9e_107",s9="_textarea_46m9e_113",a9="_input_46m9e_131",o9="_transparencyText_46m9e_148",u9="_submitBtn_46m9e_155",Nt={overlay:Xj,modal:Wj,header:$j,closeBtn:Jj,content:Zj,form:e9,formGroup:t9,label:n9,ratingContainer:i9,ratingBtn:r9,active:l9,textarea:s9,input:a9,transparencyText:o9,submitBtn:u9};function c9(){const{isFeedbackModalOpen:n,setFeedbackModalOpen:e}=Rt(),[t,i]=ve.useState(null),[l,s]=ve.useState(""),[o,c]=ve.useState(""),[f,d]=ve.useState(!1);if(!n)return null;const p=async x=>{if(x.preventDefault(),!t&&!l.trim()){Fe.error("Please provide a rating or message");return}d(!0);try{const b=new FormData;b.append("rating",t||"None"),b.append("message",l),o&&b.append("email",o),(await fetch("https://formspree.io/f/mzdpekny",{method:"POST",body:b,headers:{Accept:"application/json"}})).ok?(Fe.success("Thank you for your feedback!"),e(!1),i(null),s(""),c("")):Fe.error("Failed to send feedback. Please try again.")}catch{Fe.error("An error occurred. Please try again.")}finally{d(!1)}},m=[{label:"Bad",icon:""},{label:"Okay",icon:""},{label:"Good",icon:""},{label:"Great",icon:""},{label:"Amazing",icon:""}];return S.jsx("div",{className:Nt.overlay,onClick:()=>e(!1),children:S.jsxs("div",{className:Nt.modal,onClick:x=>x.stopPropagation(),children:[S.jsxs("div",{className:Nt.header,children:[S.jsxs("div",{className:Nt.titleRow,style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(CC,{size:20}),S.jsx("h2",{children:"Share Feedback"})]}),S.jsx("button",{className:Nt.closeBtn,onClick:()=>e(!1),children:S.jsx($l,{size:20})})]}),S.jsx("div",{className:Nt.content,children:S.jsxs("form",{onSubmit:p,className:Nt.form,children:[S.jsxs("div",{className:Nt.formGroup,children:[S.jsx("label",{className:Nt.label,children:"How was your experience?"}),S.jsx("div",{className:Nt.ratingContainer,children:m.map(x=>S.jsx("button",{type:"button",className:`${Nt.ratingBtn} ${t===x.label?Nt.active:""}`,onClick:()=>i(x.label),title:x.label,children:x.icon},x.label))})]}),S.jsxs("div",{className:Nt.formGroup,children:[S.jsx("label",{className:Nt.label,children:"What can we improve?"}),S.jsx("textarea",{className:Nt.textarea,placeholder:"Tell us what you like or what's missing...",value:l,onChange:x=>s(x.target.value)})]}),S.jsxs("div",{className:Nt.formGroup,children:[S.jsx("label",{className:Nt.label,children:"Email (optional)"}),S.jsx("input",{type:"email",className:Nt.input,placeholder:"So we can reply to you...",value:o,onChange:x=>c(x.target.value)}),S.jsx("p",{className:Nt.transparencyText,children:"We value your privacy. Your feedback is sent directly to our development team to help improve JSON Studio."})]}),S.jsx("button",{type:"submit",className:Nt.submitBtn,disabled:f,children:f?"Sending...":S.jsxs(S.Fragment,{children:["Send Feedback ",S.jsx(WB,{size:16})]})})]})})]})})}const f9="_header_savwh_1",h9="_logo_savwh_12",d9="_logoIcon_savwh_21",p9="_logoText_savwh_25",m9="_toolbar_savwh_29",g9="_toolGroup_savwh_44",y9="_toolButton_savwh_54",x9="_btnText_savwh_73",b9="_desktopLabel_savwh_84",v9="_aiDropdown_savwh_106",S9="_menuHeader_savwh_129",k9="_menuItem_savwh_139",w9="_itemIcon_savwh_161",C9="_menuDivider_savwh_178",A9="_aiTrigger_savwh_185",M9="_fixBtn_savwh_222",T9="_divider_savwh_236",E9="_viewToggles_savwh_243",O9="_active_savwh_252",_9="_actions_savwh_257",N9="_spin_savwh_262",Se={header:f9,logo:h9,logoIcon:d9,logoText:p9,toolbar:m9,toolGroup:g9,toolButton:y9,btnText:x9,desktopLabel:b9,aiDropdown:v9,menuHeader:S9,menuItem:k9,itemIcon:w9,menuDivider:C9,aiTrigger:A9,fixBtn:M9,divider:T9,viewToggles:E9,active:O9,actions:_9,spin:N9};function D9({onUpload:n,onDownload:e,onCopy:t,onClear:i,isMobile:l}){const{rawText:s,isValid:o,format:c,minify:f,setAiModalOpen:d,fixJsonWithAI:p,isFixing:m,viewMode:x,setViewMode:b,generateSchemaWithAI:k,explainJsonWithAI:w,isGeneratingSchema:M,isGeneratingExplanation:T,setInfoModalOpen:L,setPromptModalOpen:R,isDiffView:ne,setDiffView:Q}=Rt(),[D,H]=ve.useState(!1),se=ve.useRef(null);ve.useEffect(()=>{function ae(te){se.current&&!se.current.contains(te.target)&&H(!1)}return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const Z=m||M||T;return S.jsxs("header",{className:Se.header,children:[S.jsxs("div",{className:Se.logo,children:[S.jsx(pg,{size:20,className:Se.logoIcon}),S.jsx("span",{className:Se.logoText,children:"JSON Studio"})]}),S.jsxs("div",{className:Se.toolbar,children:[S.jsxs("div",{className:Se.toolGroup,children:[S.jsx("button",{onClick:n,className:Se.toolButton,title:"Open JSON File",children:S.jsx(lh,{size:16})}),S.jsx("button",{onClick:e,className:Se.toolButton,title:"Save as JSON",disabled:!s,children:S.jsx(kC,{size:16})})]}),S.jsx("div",{className:Se.divider}),S.jsxs("div",{className:Se.toolGroup,children:[!o&&s&&!l&&S.jsxs("div",{className:Se.toolGroup,children:[S.jsxs("button",{onClick:()=>p(),className:`${Se.toolButton} ${Se.fixBtn}`,title:"Auto-Fix JSON",children:[S.jsx(qf,{size:16}),!l&&"Fix JSON"]}),S.jsx("div",{className:Se.divider})]}),S.jsx("button",{onClick:t,className:Se.toolButton,title:"Copy All",disabled:!s,children:S.jsx(l0,{size:16})}),!l&&S.jsx("button",{onClick:i,className:Se.toolButton,title:"Clear Editor",children:S.jsx(TC,{size:16})}),S.jsxs("button",{onClick:()=>{c(),Fe.success("JSON Formatted")},className:Se.toolButton,title:"Format / Prettify",disabled:!o||!s,children:[S.jsx(MC,{size:16}),S.jsx("span",{className:Se.desktopLabel,children:"Format"})]}),S.jsxs("button",{onClick:()=>{f(),Fe.success("JSON Minified")},className:Se.toolButton,title:"Minify / Compact",disabled:!o||!s,children:[S.jsx(VB,{size:16}),S.jsx("span",{className:Se.desktopLabel,children:"Minify"})]})]}),S.jsxs("div",{className:Se.toolGroup,style:{position:"relative"},ref:se,children:[S.jsxs("button",{className:`${Se.toolButton} ${Se.aiTrigger}`,onClick:()=>H(!D),disabled:Z,title:"AI Actions",children:[Z?S.jsx(LB,{size:16,className:Se.spin}):S.jsx(eu,{size:16}),!l&&S.jsx("span",{className:Se.btnText,children:"AI"})]}),D&&!Z&&S.jsxs("div",{className:Se.aiDropdown,children:[S.jsx("div",{className:Se.menuHeader,children:"AI Tools"}),!o&&s&&S.jsxs("button",{className:Se.menuItem,onClick:()=>{p(),H(!1)},children:[S.jsx(qf,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Fix JSON"})]}),S.jsxs("button",{className:Se.menuItem,onClick:()=>{R(!0,"generate"),H(!1)},children:[S.jsx(eu,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Generate Data..."})]}),S.jsxs("button",{className:Se.menuItem,onClick:()=>{R(!0,"query"),H(!1)},disabled:!o||!s,children:[S.jsx(pg,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Natural Language Query..."})]}),S.jsxs("button",{className:Se.menuItem,onClick:()=>{R(!0,"convert"),H(!1)},disabled:!o||!s,children:[S.jsx(HB,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Smart Convert..."})]}),S.jsx("div",{className:Se.menuDivider}),S.jsxs("button",{className:Se.menuItem,onClick:()=>{k(),H(!1)},disabled:!o||!s,children:[S.jsx(dg,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Generate Schema"})]}),S.jsxs("button",{className:Se.menuItem,onClick:()=>{w(),H(!1)},disabled:!o||!s,children:[S.jsx(fS,{size:14,className:Se.itemIcon}),S.jsx("span",{children:"Explain Data"})]})]})]}),!l&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:Se.divider}),S.jsxs("div",{className:Se.viewToggles,children:[S.jsxs("button",{className:`${Se.toolButton} ${x==="code"?Se.active:""}`,onClick:()=>b("code"),title:"Code Only",children:[S.jsx(dg,{size:16}),S.jsx("span",{className:Se.desktopLabel,children:"Code"})]}),S.jsxs("button",{className:`${Se.toolButton} ${x==="split"?Se.active:""}`,onClick:()=>b("split"),title:"Tree View",children:[S.jsx(wC,{size:16}),S.jsx("span",{className:Se.desktopLabel,children:"Tree"})]}),S.jsx("div",{className:Se.divider}),S.jsxs("button",{className:`${Se.toolButton} ${ne?Se.active:""}`,onClick:()=>Q(!ne),title:"Compare JSON",children:[S.jsx(EB,{size:16}),S.jsx("span",{className:Se.desktopLabel,children:"Diff"})]})]})]})]}),S.jsx("div",{className:Se.actions,children:S.jsxs("div",{className:Se.toolGroup,children:[S.jsx("button",{onClick:()=>L(!0),className:Se.toolButton,title:"Help & Info",children:S.jsx(fS,{size:16})}),S.jsx("button",{onClick:()=>d(!0),className:Se.toolButton,title:"Settings",children:S.jsx(JB,{size:16})})]})})]})}const B9="_nav_1flkl_1",z9="_navItem_1flkl_11",R9="_active_1flkl_28",L9="_divider_1flkl_36",Ks={nav:B9,navItem:z9,active:R9,divider:L9};function j9(){const{viewMode:n,setViewMode:e}=Rt();return S.jsxs("nav",{className:Ks.nav,children:[S.jsxs("button",{className:`${Ks.navItem} ${n==="code"?Ks.active:""}`,onClick:()=>e("code"),children:[S.jsx(dg,{size:20}),S.jsx("span",{children:"Code"})]}),S.jsx("div",{className:Ks.divider}),S.jsxs("button",{className:`${Ks.navItem} ${n==="tree"?Ks.active:""}`,onClick:()=>e("tree"),children:[S.jsx(wC,{size:20}),S.jsx("span",{children:"Tree"})]})]})}function H9(){const[n,e]=ve.useState(!1);return ve.useEffect(()=>{const t=()=>{e(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}function U9(){const{setPromptModalOpen:n,fixJsonWithAI:e,rawText:t,isValid:i}=Rt();ve.useEffect(()=>{function l(s){(s.metaKey||s.ctrlKey)&&s.key==="k"&&(s.preventDefault(),n(!0,"generate")),(s.metaKey||s.ctrlKey)&&s.shiftKey&&s.key==="f"&&(s.preventDefault(),t&&!i&&e())}return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[n,e,t,i])}const I9="_container_lxu41_1",V9="_content_lxu41_11",q9="_iconWrapper_lxu41_23",P9="_title_lxu41_28",F9="_subtitle_lxu41_36",G9="_actions_lxu41_42",Y9="_actionBtn_lxu41_50",Q9="_primary_lxu41_70",K9="_shortcuts_lxu41_81",X9="_shortcutItem_lxu41_89",mi={container:I9,content:V9,iconWrapper:q9,title:P9,subtitle:F9,actions:G9,actionBtn:Y9,primary:Q9,shortcuts:K9,shortcutItem:X9};function W9(){const{setPromptModalOpen:n,isPromptModalOpen:e}=Rt();return e?null:S.jsx("div",{className:mi.container,children:S.jsxs("div",{className:mi.content,children:[S.jsx("div",{className:mi.iconWrapper,children:S.jsx(AB,{size:48,strokeWidth:1})}),S.jsx("h2",{className:mi.title,children:"JSON Studio"}),S.jsx("p",{className:mi.subtitle,children:"Drop a file, Paste JSON, or Start with AI"}),S.jsxs("div",{className:mi.actions,children:[S.jsxs("button",{className:mi.actionBtn,onClick:()=>document.querySelector('input[type="file"]')?.click(),children:[S.jsx(lh,{size:16}),S.jsx("span",{children:"Open File"})]}),S.jsxs("button",{className:mi.actionBtn,onClick:async()=>{try{const t=await navigator.clipboard.readText();t&&Rt.getState().setText(t)}catch{alert("Please press Cmd+V / Ctrl+V to paste.")}},children:[S.jsx(SC,{size:16}),S.jsx("span",{children:"Paste JSON"})]}),S.jsxs("button",{className:`${mi.actionBtn} ${mi.primary}`,onClick:()=>n(!0,"generate"),children:[S.jsx(eu,{size:16}),S.jsx("span",{children:"Generate Data"})]})]}),S.jsx("div",{className:mi.shortcuts,children:S.jsxs("div",{className:mi.shortcutItem,children:[S.jsx("kbd",{children:"Cmd"})," + ",S.jsx("kbd",{children:"K"})," to command"]})})]})})}class zt{constructor(e,t,i,l){this.fromA=e,this.toA=t,this.fromB=i,this.toB=l}offset(e,t=e){return new zt(this.fromA+e,this.toA+e,this.fromB+t,this.toB+t)}}function Jl(n,e,t,i,l,s){if(n==i)return[];let o=S0(n,e,t,i,l,s),c=k0(n,e+o,t,i,l+o,s);e+=o,t-=c,l+=o,s-=c;let f=t-e,d=s-l;if(!f||!d)return[new zt(e,t,l,s)];if(f>d){let m=n.slice(e,t).indexOf(i.slice(l,s));if(m>-1)return[new zt(e,e+m,l,l),new zt(e+m+d,t,s,s)]}else if(d>f){let m=i.slice(l,s).indexOf(n.slice(e,t));if(m>-1)return[new zt(e,e,l,l+m),new zt(t,t,l+m+f,s)]}if(f==1||d==1)return[new zt(e,t,l,s)];let p=hA(n,e,t,i,l,s);if(p){let[m,x,b]=p;return Jl(n,e,m,i,l,x).concat(Jl(n,m+b,t,i,x+b,s))}return $9(n,e,t,i,l,s)}let Eo=1e9,Oo=0,v0=!1;function $9(n,e,t,i,l,s){let o=t-e,c=s-l;if(Eo<1e9&&Math.min(o,c)>Eo*16||Oo>0&&Date.now()>Oo)return Math.min(o,c)>Eo*64?[new zt(e,t,l,s)]:$S(n,e,t,i,l,s);let f=Math.ceil((o+c)/2);hm.reset(f),dm.reset(f);let d=(b,k)=>n.charCodeAt(e+b)==i.charCodeAt(l+k),p=(b,k)=>n.charCodeAt(t-b-1)==i.charCodeAt(s-k-1),m=(o-c)%2!=0?dm:null,x=m?null:hm;for(let b=0;b<f;b++){if(b>Eo||Oo>0&&!(b&63)&&Date.now()>Oo)return $S(n,e,t,i,l,s);let k=hm.advance(b,o,c,f,m,!1,d)||dm.advance(b,o,c,f,x,!0,p);if(k)return J9(n,e,t,e+k[0],i,l,s,l+k[1])}return[new zt(e,t,l,s)]}class cA{constructor(){this.vec=[]}reset(e){this.len=e<<1;for(let t=0;t<this.len;t++)this.vec[t]=-1;this.vec[e+1]=0,this.start=this.end=0}advance(e,t,i,l,s,o,c){for(let f=-e+this.start;f<=e-this.end;f+=2){let d=l+f,p=f==-e||f!=e&&this.vec[d-1]<this.vec[d+1]?this.vec[d+1]:this.vec[d-1]+1,m=p-f;for(;p<t&&m<i&&c(p,m);)p++,m++;if(this.vec[d]=p,p>t)this.end+=2;else if(m>i)this.start+=2;else if(s){let x=l+(t-i)-f;if(x>=0&&x<this.len&&s.vec[x]!=-1)if(o){let b=s.vec[x];if(b>=t-p)return[b,l+b-x]}else{let b=t-s.vec[x];if(p>=b)return[p,m]}}}return null}}const hm=new cA,dm=new cA;function J9(n,e,t,i,l,s,o,c){let f=!1;return!ma(n,i)&&++i==t&&(f=!0),!ma(l,c)&&++c==o&&(f=!0),f?[new zt(e,t,s,o)]:Jl(n,e,i,l,s,c).concat(Jl(n,i,t,l,c,o))}function fA(n,e){let t=1,i=Math.min(n,e);for(;t<i;)t=t<<1;return t}function S0(n,e,t,i,l,s){if(e==t||e==s||n.charCodeAt(e)!=i.charCodeAt(l))return 0;let o=fA(t-e,s-l);for(let c=e,f=l;;){let d=c+o,p=f+o;if(d>t||p>s||n.slice(c,d)!=i.slice(f,p)){if(o==1)return c-e-(ma(n,c)?0:1);o=o>>1}else{if(d==t||p==s)return d-e;c=d,f=p}}}function k0(n,e,t,i,l,s){if(e==t||l==s||n.charCodeAt(t-1)!=i.charCodeAt(s-1))return 0;let o=fA(t-e,s-l);for(let c=t,f=s;;){let d=c-o,p=f-o;if(d<e||p<l||n.slice(d,c)!=i.slice(p,f)){if(o==1)return t-c-(ma(n,c)?0:1);o=o>>1}else{if(d==e||p==l)return t-d;c=d,f=p}}}function Ag(n,e,t,i,l,s,o,c){let f=i.slice(l,s),d=null;for(;;){if(d||o<c)return d;for(let p=e+o;;){ma(n,p)||p++;let m=p+o;if(ma(n,m)||(m+=m==p+1?1:-1),m>=t)break;let x=n.slice(p,m),b=-1;for(;(b=f.indexOf(x,b+1))!=-1;){let k=S0(n,m,t,i,l+b+x.length,s),w=k0(n,e,p,i,l,l+b),M=x.length+k+w;(!d||d[2]<M)&&(d=[p-w,l+b-w,M])}p=m}if(c<0)return d;o=o>>1}}function hA(n,e,t,i,l,s){let o=t-e,c=s-l;if(o<c){let f=hA(i,l,s,n,e,t);return f&&[f[1],f[0],f[2]]}return o<4||c*2<o?null:Ag(n,e,t,i,l,s,Math.floor(o/4),-1)}function $S(n,e,t,i,l,s){v0=!0;let o=t-e,c=s-l,f;if(o<c){let x=Ag(i,l,s,n,e,t,Math.floor(o/6),50);f=x&&[x[1],x[0],x[2]]}else f=Ag(n,e,t,i,l,s,Math.floor(c/6),50);if(!f)return[new zt(e,t,l,s)];let[d,p,m]=f;return Jl(n,e,d,i,l,p).concat(Jl(n,d+m,t,i,p+m,s))}function dA(n,e){for(let t=1;t<n.length;t++){let i=n[t-1],l=n[t];i.toA>l.fromA-e&&i.toB>l.fromB-e&&(n[t-1]=new zt(i.fromA,l.toA,i.fromB,l.toB),n.splice(t--,1))}}function Z9(n,e,t){for(;;){dA(t,1);let i=!1;for(let l=0;l<t.length;l++){let s=t[l],o,c;(o=S0(n,s.fromA,s.toA,e,s.fromB,s.toB))&&(s=t[l]=new zt(s.fromA+o,s.toA,s.fromB+o,s.toB)),(c=k0(n,s.fromA,s.toA,e,s.fromB,s.toB))&&(s=t[l]=new zt(s.fromA,s.toA-c,s.fromB,s.toB-c));let f=s.toA-s.fromA,d=s.toB-s.fromB;if(f&&d)continue;let p=s.fromA-(l?t[l-1].toA:0),m=(l<t.length-1?t[l+1].fromA:n.length)-s.toA;if(!p||!m)continue;let x=f?n.slice(s.fromA,s.toA):e.slice(s.fromB,s.toB);p<=x.length&&n.slice(s.fromA-p,s.fromA)==x.slice(x.length-p)?(t[l]=new zt(s.fromA-p,s.toA-p,s.fromB-p,s.toB-p),i=!0):m<=x.length&&n.slice(s.toA,s.toA+m)==x.slice(0,m)&&(t[l]=new zt(s.fromA+m,s.toA+m,s.fromB+m,s.toB+m),i=!0)}if(!i)break}return t}function e7(n,e,t){for(let i=0,l=0;l<n.length;l++){let s=n[l],o=s.toA-s.fromA,c=s.toB-s.fromB;if(o&&c||o>3||c>3){let f=l==n.length-1?e.length:n[l+1].fromA,d=s.fromA-i,p=f-s.toA,m=ZS(e,s.fromA,d),x=JS(e,s.toA,p),b=s.fromA-m,k=x-s.toA;if((!o||!c)&&b&&k){let w=Math.max(o,c),[M,T,L]=o?[e,s.fromA,s.toA]:[t,s.fromB,s.toB];w>b&&e.slice(m,s.fromA)==M.slice(L-b,L)?(s=n[l]=new zt(m,m+o,s.fromB-b,s.toB-b),m=s.fromA,x=JS(e,s.toA,f-s.toA)):w>k&&e.slice(s.toA,x)==M.slice(T,T+k)&&(s=n[l]=new zt(x-o,x,s.fromB+k,s.toB+k),x=s.toA,m=ZS(e,s.fromA,s.fromA-i)),b=s.fromA-m,k=x-s.toA}if(b||k)s=n[l]=new zt(s.fromA-b,s.toA+k,s.fromB-b,s.toB+k);else if(o){if(!c){let w=t2(e,s.fromA,s.toA),M,T=w<0?-1:e2(e,s.toA,s.fromA);w>-1&&(M=w-s.fromA)<=p&&e.slice(s.fromA,w)==e.slice(s.toA,s.toA+M)?s=n[l]=s.offset(M):T>-1&&(M=s.toA-T)<=d&&e.slice(s.fromA-M,s.fromA)==e.slice(T,s.toA)&&(s=n[l]=s.offset(-M))}}else{let w=t2(t,s.fromB,s.toB),M,T=w<0?-1:e2(t,s.toB,s.fromB);w>-1&&(M=w-s.fromB)<=p&&t.slice(s.fromB,w)==t.slice(s.toB,s.toB+M)?s=n[l]=s.offset(M):T>-1&&(M=s.toB-T)<=d&&t.slice(s.fromB-M,s.fromB)==t.slice(T,s.toB)&&(s=n[l]=s.offset(-M))}}i=s.toA}return dA(n,3),n}let Ql;try{Ql=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch{}function pA(n){return n>48&&n<58||n>64&&n<91||n>96&&n<123}function mA(n,e){if(e==n.length)return 0;let t=n.charCodeAt(e);return t<192?pA(t)?1:0:Ql?!xA(t)||e==n.length-1?Ql.test(String.fromCharCode(t))?1:0:Ql.test(n.slice(e,e+2))?2:0:0}function gA(n,e){if(!e)return 0;let t=n.charCodeAt(e-1);return t<192?pA(t)?1:0:Ql?!bA(t)||e==1?Ql.test(String.fromCharCode(t))?1:0:Ql.test(n.slice(e-2,e))?2:0:0}const yA=8;function JS(n,e,t){if(e==n.length||!gA(n,e))return e;for(let i=e,l=e+t,s=0;s<yA;s++){let o=mA(n,i);if(!o||i+o>l)return i;i+=o}return e}function ZS(n,e,t){if(!e||!mA(n,e))return e;for(let i=e,l=e-t,s=0;s<yA;s++){let o=gA(n,i);if(!o||i-o<l)return i;i-=o}return e}function e2(n,e,t){for(;e!=t;e--)if(n.charCodeAt(e-1)==10)return e;return-1}function t2(n,e,t){for(;e!=t;e++)if(n.charCodeAt(e)==10)return e;return-1}const xA=n=>n>=55296&&n<=56319,bA=n=>n>=56320&&n<=57343;function ma(n,e){return!e||e==n.length||!xA(n.charCodeAt(e-1))||!bA(n.charCodeAt(e))}function t7(n,e,t){var i;return Eo=((i=t?.scanLimit)!==null&&i!==void 0?i:1e9)>>1,Oo=t?.timeout?Date.now()+t.timeout:0,v0=!1,Z9(n,e,Jl(n,0,n.length,e,0,e.length))}function vA(){return!v0}function SA(n,e,t){return e7(t7(n,e,t),n,e)}const $i=ye.define({combine:n=>n[0]}),Mg=Ge.define(),n7=ye.define(),ga=fn.define({create(n){return null},update(n,e){for(let t of e.effects)t.is(Mg)&&(n=t.value);for(let t of e.state.facet(n7))n=t(n,e);return n}});class oa{constructor(e,t,i,l,s,o=!0){this.changes=e,this.fromA=t,this.toA=i,this.fromB=l,this.toB=s,this.precise=o}offset(e,t){return e||t?new oa(this.changes,this.fromA+e,this.toA+e,this.fromB+t,this.toB+t,this.precise):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(e,t,i){let l=SA(e.toString(),t.toString(),i);return kA(l,e,t,0,0,vA())}static updateA(e,t,i,l,s){return s2(l2(e,l,!0,i.length),e,t,i,s)}static updateB(e,t,i,l,s){return s2(l2(e,l,!1,t.length),e,t,i,s)}}function n2(n,e,t,i){let l=t.lineAt(n),s=i.lineAt(e);return l.to==n&&s.to==e&&n<t.length&&e<i.length?[n+1,e+1]:[l.from,s.from]}function i2(n,e,t,i){let l=t.lineAt(n),s=i.lineAt(e);return l.from==n&&s.from==e?[n,e]:[l.to+1,s.to+1]}function kA(n,e,t,i,l,s){let o=[];for(let c=0;c<n.length;c++){let f=n[c],[d,p]=n2(f.fromA+i,f.fromB+l,e,t),[m,x]=i2(f.toA+i,f.toB+l,e,t),b=[f.offset(-d+i,-p+l)];for(;c<n.length-1;){let k=n[c+1],[w,M]=n2(k.fromA+i,k.fromB+l,e,t);if(w>m+1&&M>x+1)break;b.push(k.offset(-d+i,-p+l)),[m,x]=i2(k.toA+i,k.toB+l,e,t),c++}o.push(new oa(b,d,Math.max(d,m),p,Math.max(p,x),s))}return o}const Wc=1e3;function r2(n,e,t,i){let l=0,s=n.length;for(;;){if(l==s){let p=0,m=0;l&&({toA:p,toB:m}=n[l-1]);let x=e-(t?p:m);return[p+x,m+x]}let o=l+s>>1,c=n[o],[f,d]=t?[c.fromA,c.toA]:[c.fromB,c.toB];if(f>e)s=o;else if(d<=e)l=o+1;else return i?[c.fromA,c.fromB]:[c.toA,c.toB]}}function l2(n,e,t,i){let l=[];return e.iterChangedRanges((s,o,c,f)=>{let d=0,p=t?e.length:i,m=0,x=t?i:e.length;s>Wc&&([d,m]=r2(n,s-Wc,t,!0)),o<e.length-Wc&&([p,x]=r2(n,o+Wc,t,!1));let b=f-c-(o-s),k,[w,M]=t?[b,0]:[0,b];l.length&&(k=l[l.length-1]).toA>=d?l[l.length-1]={fromA:k.fromA,fromB:k.fromB,toA:p,toB:x,diffA:k.diffA+w,diffB:k.diffB+M}:l.push({fromA:d,toA:p,fromB:m,toB:x,diffA:w,diffB:M})}),l}function s2(n,e,t,i,l){if(!n.length)return e;let s=[];for(let o=0,c=0,f=0,d=0;;o++){let p=o==n.length?null:n[o],m=p?p.fromA+c:t.length,x=p?p.fromB+f:i.length;for(;d<e.length;){let M=e[d];if(Math.min(t.length,M.toA+c)>m||Math.min(i.length,M.toB+f)>x)break;s.push(M.offset(c,f)),d++}if(!p)break;let b=p.toA+c+p.diffA,k=p.toB+f+p.diffB,w=SA(t.sliceString(m,b),i.sliceString(x,k),l);for(let M of kA(w,t,i,m,x,vA()))s.push(M);for(c+=p.diffA,f+=p.diffB;d<e.length;){let M=e[d];if(M.fromA+c>b&&M.fromB+f>k)break;d++}}return s}const i7={scanLimit:500},wA=cn.fromClass(class{constructor(n){({deco:this.deco,gutter:this.gutter}=u2(n))}update(n){(n.docChanged||n.viewportChanged||r7(n.startState,n.state)||l7(n.startState,n.state))&&({deco:this.deco,gutter:this.gutter}=u2(n.view))}},{decorations:n=>n.deco}),$c=Zl.low(Yk({class:"cm-changeGutter",markers:n=>{var e;return((e=n.plugin(wA))===null||e===void 0?void 0:e.gutter)||Ve.empty}}));function r7(n,e){return n.field(ga,!1)!=e.field(ga,!1)}function l7(n,e){return n.facet($i)!=e.facet($i)}const a2=_e.line({class:"cm-changedLine"}),s7=_e.mark({class:"cm-changedText"}),a7=_e.mark({tagName:"ins",class:"cm-insertedLine"}),o7=_e.mark({tagName:"del",class:"cm-deletedLine"}),o2=new class extends nr{constructor(){super(...arguments),this.elementClass="cm-changedLineGutter"}};function u7(n,e,t,i,l,s){let o=t?n.fromA:n.fromB,c=t?n.toA:n.toB,f=0;if(o!=c){l.add(o,o,a2),l.add(o,c,t?o7:a7),s&&s.add(o,o,o2);for(let d=e.iterRange(o,c-1),p=o;!d.next().done;){if(d.lineBreak){p++,l.add(p,p,a2),s&&s.add(p,p,o2);continue}let m=p+d.value.length;if(i)for(;f<n.changes.length;){let x=n.changes[f],b=o+(t?x.fromA:x.fromB),k=o+(t?x.toA:x.toB),w=Math.max(p,b),M=Math.min(m,k);if(w<M&&l.add(w,M,s7),k<m)f++;else break}p=m}}}function u2(n){let e=n.state.field(ga),{side:t,highlightChanges:i,markGutter:l,overrideChunk:s}=n.state.facet($i),o=t=="a",c=new ii,f=l?new ii:null,{from:d,to:p}=n.viewport;for(let m of e){if((o?m.fromA:m.fromB)>=p)break;(o?m.toA:m.toB)>d&&(!s||!s(n.state,m,c,f))&&u7(m,n.state.doc,o,i,c,f)}return{deco:c.finish(),gutter:f&&f.finish()}}class Jc extends rr{constructor(e){super(),this.height=e}eq(e){return this.height==e.height}toDOM(){let e=document.createElement("div");return e.className="cm-mergeSpacer",e.style.height=this.height+"px",e}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}const Gf=Ge.define({map:(n,e)=>n.map(e)}),_o=fn.define({create:()=>_e.none,update:(n,e)=>{for(let t of e.effects)if(t.is(Gf))return t.value;return n.map(e.changes)},provide:n=>de.decorations.from(n)}),Zc=.01;function c2(n,e){if(n.size!=e.size)return!1;let t=n.iter(),i=e.iter();for(;t.value;){if(t.from!=i.from||Math.abs(t.value.spec.widget.height-i.value.spec.widget.height)>1)return!1;t.next(),i.next()}return!0}function c7(n,e,t){let i=new ii,l=new ii,s=n.state.field(_o).iter(),o=e.state.field(_o).iter(),c=0,f=0,d=0,p=0,m=n.viewport,x=e.viewport;for(let M=0;;M++){let T=M<t.length?t[M]:null,L=T?T.fromA:n.state.doc.length,R=T?T.fromB:e.state.doc.length;if(c<L){let ne=n.lineBlockAt(c).top+d,Q=e.lineBlockAt(f).top+p,D=ne-Q;D<-Zc?(d-=D,i.add(c,c,_e.widget({widget:new Jc(-D),block:!0,side:-1}))):D>Zc&&(p+=D,l.add(f,f,_e.widget({widget:new Jc(D),block:!0,side:-1})))}if(L>c+1e3&&c<m.from&&L>m.from&&f<x.from&&R>x.from){let ne=Math.min(m.from-c,x.from-f);c+=ne,f+=ne,M--}else if(T)c=T.toA,f=T.toB;else break;for(;s.value&&s.from<c;)d-=s.value.spec.widget.height,s.next();for(;o.value&&o.from<f;)p-=o.value.spec.widget.height,o.next()}for(;s.value;)d-=s.value.spec.widget.height,s.next();for(;o.value;)p-=o.value.spec.widget.height,o.next();let b=n.contentHeight+d-(e.contentHeight+p);b<Zc?i.add(n.state.doc.length,n.state.doc.length,_e.widget({widget:new Jc(-b),block:!0,side:1})):b>Zc&&l.add(e.state.doc.length,e.state.doc.length,_e.widget({widget:new Jc(b),block:!0,side:1}));let k=i.finish(),w=l.finish();c2(k,n.state.field(_o))||n.dispatch({effects:Gf.of(k)}),c2(w,e.state.field(_o))||e.dispatch({effects:Gf.of(w)})}const Tg=Ge.define({map:(n,e)=>e.mapPos(n)});class f7 extends rr{constructor(e){super(),this.lines=e}eq(e){return this.lines==e.lines}toDOM(e){let t=document.createElement("div");return t.className="cm-collapsedLines",t.textContent=e.state.phrase("$ unchanged lines",this.lines),t.addEventListener("click",i=>{let l=e.posAtDOM(i.target);e.dispatch({effects:Tg.of(l)});let{side:s,sibling:o}=e.state.facet($i);o&&o().dispatch({effects:Tg.of(h7(l,e.state.field(ga),s=="a"))})}),t}ignoreEvent(e){return e instanceof MouseEvent}get estimatedHeight(){return 27}get type(){return"collapsed-unchanged-code"}}function h7(n,e,t){let i=0,l=0;for(let s=0;;s++){let o=s<e.length?e[s]:null;if(!o||(t?o.fromA:o.fromB)>=n)return l+(n-i);[i,l]=t?[o.toA,o.toB]:[o.toB,o.toA]}}const d7=fn.define({create(n){return _e.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Tg)&&(n=n.update({filter:i=>i!=t.value}));return n},provide:n=>de.decorations.from(n)});function f2({margin:n=3,minSize:e=4}){return d7.init(t=>p7(t,n,e))}function p7(n,e,t){let i=new ii,l=n.facet($i).side=="a",s=n.field(ga),o=1;for(let c=0;;c++){let f=c<s.length?s[c]:null,d=c?o+e:1,p=f?n.doc.lineAt(l?f.fromA:f.fromB).number-1-e:n.doc.lines,m=p-d+1;if(m>=t&&i.add(n.doc.line(d).from,n.doc.line(p).to,_e.replace({widget:new f7(m),block:!0})),!f)break;o=n.doc.lineAt(Math.min(n.doc.length,l?f.toA:f.toB)).number}return i.finish()}const m7=de.styleModule.of(new Tr({".cm-mergeView":{overflowY:"auto"},".cm-mergeViewEditors":{display:"flex",alignItems:"stretch"},".cm-mergeViewEditor":{flexGrow:1,flexBasis:0,overflow:"hidden"},".cm-merge-revert":{width:"1.6em",flexGrow:0,flexShrink:0,position:"relative"},".cm-merge-revert button":{position:"absolute",display:"block",width:"100%",boxSizing:"border-box",textAlign:"center",background:"none",border:"none",font:"inherit",cursor:"pointer"}})),g7=de.baseTheme({".cm-mergeView & .cm-scroller, .cm-mergeView &":{height:"auto !important",overflowY:"visible !important"},"&.cm-merge-a .cm-changedLine, .cm-deletedChunk":{backgroundColor:"rgba(160, 128, 100, .08)"},"&.cm-merge-b .cm-changedLine, .cm-inlineChangedLine":{backgroundColor:"rgba(100, 160, 128, .08)"},"&light.cm-merge-a .cm-changedText, &light .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ee443366, #ee443366) bottom/100% 2px no-repeat"},"&dark.cm-merge-a .cm-changedText, &dark .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ffaa9966, #ffaa9966) bottom/100% 2px no-repeat"},"&light.cm-merge-b .cm-changedText":{background:"linear-gradient(#22bb22aa, #22bb22aa) bottom/100% 2px no-repeat"},"&dark.cm-merge-b .cm-changedText":{background:"linear-gradient(#88ff88aa, #88ff88aa) bottom/100% 2px no-repeat"},"&.cm-merge-b .cm-deletedText":{background:"#ff000033"},".cm-insertedLine, .cm-deletedLine, .cm-deletedLine del":{textDecoration:"none"},".cm-deletedChunk":{paddingLeft:"6px","& .cm-chunkButtons":{position:"absolute",insetInlineEnd:"5px"},"& button":{border:"none",cursor:"pointer",color:"white",margin:"0 2px",borderRadius:"3px","&[name=accept]":{background:"#2a2"},"&[name=reject]":{background:"#d43"}}},".cm-collapsedLines":{padding:"5px 5px 5px 10px",cursor:"pointer","&:before":{content:'""',marginInlineEnd:"7px"},"&:after":{content:'""',marginInlineStart:"7px"}},"&light .cm-collapsedLines":{color:"#444",background:"linear-gradient(to bottom, transparent 0, #f3f3f3 30%, #f3f3f3 70%, transparent 100%)"},"&dark .cm-collapsedLines":{color:"#ddd",background:"linear-gradient(to bottom, transparent 0, #222 30%, #222 70%, transparent 100%)"},".cm-changeGutter":{width:"3px",paddingLeft:"1px"},"&light.cm-merge-a .cm-changedLineGutter, &light .cm-deletedLineGutter":{background:"#e43"},"&dark.cm-merge-a .cm-changedLineGutter, &dark .cm-deletedLineGutter":{background:"#fa9"},"&light.cm-merge-b .cm-changedLineGutter":{background:"#2b2"},"&dark.cm-merge-b .cm-changedLineGutter":{background:"#8f8"},".cm-inlineChangedLineGutter":{background:"#75d"}}),h2=new es,ef=new es;class y7{constructor(e){this.revertDOM=null,this.revertToA=!1,this.revertToLeft=!1,this.measuring=-1,this.diffConf=e.diffConfig||i7;let t=[Zl.low(wA),g7,m7,_o,de.updateListener.of(m=>{this.measuring<0&&(m.heightChanged||m.viewportChanged)&&!m.transactions.some(x=>x.effects.some(b=>b.is(Gf)))&&this.measure()})],i=[$i.of({side:"a",sibling:()=>this.b,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&i.push($c);let l=Ie.create({doc:e.a.doc,selection:e.a.selection,extensions:[e.a.extensions||[],de.editorAttributes.of({class:"cm-merge-a"}),ef.of(i),t]}),s=[$i.of({side:"b",sibling:()=>this.a,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&s.push($c);let o=Ie.create({doc:e.b.doc,selection:e.b.selection,extensions:[e.b.extensions||[],de.editorAttributes.of({class:"cm-merge-b"}),ef.of(s),t]});this.chunks=oa.build(l.doc,o.doc,this.diffConf);let c=[ga.init(()=>this.chunks),h2.of(e.collapseUnchanged?f2(e.collapseUnchanged):[])];l=l.update({effects:Ge.appendConfig.of(c)}).state,o=o.update({effects:Ge.appendConfig.of(c)}).state,this.dom=document.createElement("div"),this.dom.className="cm-mergeView",this.editorDOM=this.dom.appendChild(document.createElement("div")),this.editorDOM.className="cm-mergeViewEditors";let f=e.orientation||"a-b",d=document.createElement("div");d.className="cm-mergeViewEditor";let p=document.createElement("div");p.className="cm-mergeViewEditor",this.editorDOM.appendChild(f=="a-b"?d:p),this.editorDOM.appendChild(f=="a-b"?p:d),this.a=new de({state:l,parent:d,root:e.root,dispatchTransactions:m=>this.dispatch(m,this.a)}),this.b=new de({state:o,parent:p,root:e.root,dispatchTransactions:m=>this.dispatch(m,this.b)}),this.setupRevertControls(!!e.revertControls,e.revertControls=="b-to-a",e.renderRevertControl),e.parent&&e.parent.appendChild(this.dom),this.scheduleMeasure()}dispatch(e,t){if(e.some(i=>i.docChanged)){let i=e[e.length-1],l=e.reduce((o,c)=>o.compose(c.changes),Bt.empty(e[0].startState.doc.length));this.chunks=t==this.a?oa.updateA(this.chunks,i.newDoc,this.b.state.doc,l,this.diffConf):oa.updateB(this.chunks,this.a.state.doc,i.newDoc,l,this.diffConf),t.update([...e,i.state.update({effects:Mg.of(this.chunks)})]);let s=t==this.a?this.b:this.a;s.update([s.state.update({effects:Mg.of(this.chunks)})]),this.scheduleMeasure()}else t.update(e)}reconfigure(e){if("diffConfig"in e&&(this.diffConf=e.diffConfig),"orientation"in e){let s=e.orientation!="b-a";if(s!=(this.editorDOM.firstChild==this.a.dom.parentNode)){let o=this.a.dom.parentNode,c=this.b.dom.parentNode;o.remove(),c.remove(),this.editorDOM.insertBefore(s?o:c,this.editorDOM.firstChild),this.editorDOM.appendChild(s?c:o),this.revertToLeft=!this.revertToLeft,this.revertDOM&&(this.revertDOM.textContent="")}}if("revertControls"in e||"renderRevertControl"in e){let s=!!this.revertDOM,o=this.revertToA,c=this.renderRevert;"revertControls"in e&&(s=!!e.revertControls,o=e.revertControls=="b-to-a"),"renderRevertControl"in e&&(c=e.renderRevertControl),this.setupRevertControls(s,o,c)}let t="highlightChanges"in e,i="gutter"in e,l="collapseUnchanged"in e;if(t||i||l){let s=[],o=[];if(t||i){let c=this.a.state.facet($i),f=i?e.gutter!==!1:c.markGutter,d=t?e.highlightChanges!==!1:c.highlightChanges;s.push(ef.reconfigure([$i.of({side:"a",sibling:()=>this.b,highlightChanges:d,markGutter:f}),f?$c:[]])),o.push(ef.reconfigure([$i.of({side:"b",sibling:()=>this.a,highlightChanges:d,markGutter:f}),f?$c:[]]))}if(l){let c=h2.reconfigure(e.collapseUnchanged?f2(e.collapseUnchanged):[]);s.push(c),o.push(c)}this.a.dispatch({effects:s}),this.b.dispatch({effects:o})}this.scheduleMeasure()}setupRevertControls(e,t,i){this.revertToA=t,this.revertToLeft=this.revertToA==(this.editorDOM.firstChild==this.a.dom.parentNode),this.renderRevert=i,!e&&this.revertDOM?(this.revertDOM.remove(),this.revertDOM=null):e&&!this.revertDOM?(this.revertDOM=this.editorDOM.insertBefore(document.createElement("div"),this.editorDOM.firstChild.nextSibling),this.revertDOM.addEventListener("mousedown",l=>this.revertClicked(l)),this.revertDOM.className="cm-merge-revert"):this.revertDOM&&(this.revertDOM.textContent="")}scheduleMeasure(){if(this.measuring<0){let e=this.dom.ownerDocument.defaultView||window;this.measuring=e.requestAnimationFrame(()=>{this.measuring=-1,this.measure()})}}measure(){c7(this.a,this.b,this.chunks),this.revertDOM&&this.updateRevertButtons()}updateRevertButtons(){let e=this.revertDOM,t=e.firstChild,i=this.a.viewport,l=this.b.viewport;for(let s=0;s<this.chunks.length;s++){let o=this.chunks[s];if(o.fromA>i.to||o.fromB>l.to)break;if(o.fromA<i.from||o.fromB<l.from)continue;let c=this.a.lineBlockAt(o.fromA).top+"px";for(;t&&+t.dataset.chunk<s;)t=d2(t);t&&t.dataset.chunk==String(s)?(t.style.top!=c&&(t.style.top=c),t=t.nextSibling):e.insertBefore(this.renderRevertButton(c,s),t)}for(;t;)t=d2(t)}renderRevertButton(e,t){let i;if(this.renderRevert)i=this.renderRevert();else{i=document.createElement("button");let l=this.a.state.phrase("Revert this chunk");i.setAttribute("aria-label",l),i.setAttribute("title",l),i.textContent=this.revertToLeft?"":""}return i.style.top=e,i.setAttribute("data-chunk",String(t)),i}revertClicked(e){let t=e.target,i;for(;t&&t.parentNode!=this.revertDOM;)t=t.parentNode;if(t&&(i=this.chunks[t.dataset.chunk])){let[l,s,o,c,f,d]=this.revertToA?[this.b,this.a,i.fromB,i.toB,i.fromA,i.toA]:[this.a,this.b,i.fromA,i.toA,i.fromB,i.toB],p=l.state.sliceDoc(o,Math.max(o,c-1));o!=c&&d<=s.state.doc.length&&(p+=l.state.lineBreak),s.dispatch({changes:{from:f,to:Math.min(s.state.doc.length,d),insert:p},userEvent:"revert"}),e.preventDefault()}}destroy(){this.a.destroy(),this.b.destroy(),this.measuring>-1&&(this.dom.ownerDocument.defaultView||window).cancelAnimationFrame(this.measuring),this.dom.remove()}}function d2(n){let e=n.nextSibling;return n.remove(),e}const x7="_container_1rz87_1",b7="_toolbar_1rz87_10",v7="_group_1rz87_20",S7="_navGroup_1rz87_26",k7="_divider_1rz87_34",w7="_label_1rz87_41",C7="_centerActions_1rz87_49",A7="_btn_1rz87_54",M7="_actionBtn_1rz87_72",T7="_primary_1rz87_92",E7="_editorWrapper_1rz87_102",Ut={container:x7,toolbar:b7,group:v7,navGroup:S7,divider:k7,label:w7,centerActions:C7,btn:A7,actionBtn:M7,primary:T7,editorWrapper:E7};function O7(){const n=ve.useRef(null),e=ve.useRef(null),{diffLeft:t,diffRight:i,setDiffLeft:l,setDiffRight:s,theme:o,setText:c}=Rt(),f=()=>{const k=t;l(i),s(k),Fe.success("Swapped panes")},d=()=>{confirm("Overwrite original file with Modified content?")&&(c(i),Fe.success("Changes applied to main file"))},p=async()=>{try{const k=await navigator.clipboard.readText();k&&(s(k),Fe.success("Pasted to Modified pane"))}catch{Fe.error("Could not read clipboard")}},m=()=>{s(t),Fe.success("Copied Original to Modified")},x=()=>{const k=Eb(t),w=Eb(i);k!==t||w!==i?(l(k),s(w),Fe.success("Keys sorted & formatted")):Fe.info("Already sorted")},b=k=>{if(!e.current)return;const w=e.current,M=w.chunks;if(!M||M.length===0){Fe.info("No differences found");return}const T=w.a.state.selection.main.head;let L=null;k==="next"?(L=M.find(R=>R.fromA>T),L||(L=M[0])):(L=[...M].reverse().find(R=>R.fromA<T),L||(L=M[M.length-1])),L&&(w.a.dispatch({effects:de.scrollIntoView(L.fromA,{y:"center"}),selection:{anchor:L.fromA}}),w.b.dispatch({effects:de.scrollIntoView(L.fromB,{y:"center"})}))};return ve.useEffect(()=>{if(!n.current)return;const k=[Xk(),Wk(),Vk(),Tw(),yw(),jk(),Ik(),Ie.allowMultipleSelections.of(!0),ow(),Xg(bw,{fallback:!0}),ww(),rC(),Pk(),Fk(),qk(),fC({top:!0}),nC(),o==="dark"?Zg:[],de.domEventHandlers({paste:()=>{}})],w=new y7({a:{doc:t,extensions:[...k,de.editable.of(!1),Ie.readOnly.of(!0)]},b:{doc:i,extensions:[...k,de.updateListener.of(M=>{M.docChanged&&s(M.state.doc.toString())})]},parent:n.current,gutter:!0,highlightChanges:!0,collapseUnchanged:{margin:3}});return e.current=w,()=>{w.destroy()}},[]),ve.useEffect(()=>{e.current&&e.current.a.state.doc.toString()!==t&&e.current.a.dispatch({changes:{from:0,to:e.current.a.state.doc.length,insert:t}})},[t]),ve.useEffect(()=>{e.current&&e.current.b.state.doc.toString()!==i&&e.current.b.dispatch({changes:{from:0,to:e.current.b.state.doc.length,insert:i}})},[i]),S.jsxs("div",{className:Ut.container,children:[S.jsxs("div",{className:Ut.toolbar,children:[S.jsxs("div",{className:Ut.group,children:[S.jsx("span",{className:Ut.label,children:"Original"}),S.jsx("button",{className:Ut.btn,onClick:m,title:"Copy Original to Right",children:S.jsx(l0,{size:14})})]}),S.jsxs("div",{className:Ut.centerActions,children:[S.jsxs("button",{className:Ut.actionBtn,onClick:x,title:"Sort Keys & Align (Ignore Order)",children:[S.jsx(MC,{size:16}),S.jsx("span",{children:"Smart Sort"})]}),S.jsxs("button",{className:Ut.actionBtn,onClick:f,title:"Swap Left <-> Right",children:[S.jsx(tB,{size:16}),S.jsx("span",{children:"Swap"})]}),S.jsxs("button",{className:`${Ut.actionBtn} ${Ut.primary}`,onClick:d,title:"Apply changes to Main File",children:[S.jsx(vC,{size:16}),S.jsx("span",{children:"Apply Change"})]})]}),S.jsxs("div",{className:Ut.group,children:[S.jsxs("div",{className:Ut.navGroup,children:[S.jsx("button",{className:Ut.btn,onClick:()=>b("prev"),title:"Previous Change",children:S.jsx(lB,{size:14})}),S.jsx("button",{className:Ut.btn,onClick:()=>b("next"),title:"Next Change",children:S.jsx(J4,{size:14})})]}),S.jsx("div",{className:Ut.divider}),S.jsx("button",{className:Ut.btn,onClick:p,title:"Paste from Clipboard",children:S.jsx(SC,{size:14})}),S.jsx("button",{className:Ut.btn,onClick:()=>s(""),title:"Clear",children:S.jsx(TC,{size:14})}),S.jsx("span",{className:Ut.label,children:"Modified"})]})]}),S.jsx("div",{className:Ut.editorWrapper,ref:n})]})}const _7="_header_1gdub_31",N7="_title_1gdub_40",D7="_closeBtn_1gdub_46",B7="_headerLeft_1gdub_61",z7="_backBtn_1gdub_67",R7="_inputStage_1gdub_85",L7="_inputPane_1gdub_91",j7="_paneHeader_1gdub_100",H7="_clearBtn_1gdub_109",U7="_textarea_1gdub_121",I7="_actionColumn_1gdub_140",V7="_compareBtn_1gdub_150",Yt={header:_7,title:N7,closeBtn:D7,headerLeft:B7,backBtn:z7,inputStage:R7,inputPane:L7,paneHeader:j7,clearBtn:H7,textarea:U7,actionColumn:I7,compareBtn:V7};function q7({onClose:n}){const[e,t]=ve.useState("input"),{diffLeft:i,diffRight:l,setDiffLeft:s,setDiffRight:o}=Rt();return ve.useEffect(()=>{t("input")},[]),ve.useEffect(()=>{const c=f=>{f.key==="Escape"&&n()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[n]),S.jsxs("div",{className:Yt.container,children:[S.jsxs("div",{className:Yt.header,children:[S.jsxs("div",{className:Yt.headerLeft,children:[e==="result"&&S.jsxs("button",{onClick:()=>t("input"),className:Yt.backBtn,title:"Back to Inputs",children:[S.jsx(vC,{size:16}),S.jsx("span",{children:"Back to Edit"})]}),S.jsx("h2",{className:Yt.title,children:e==="input"?"Diff Studio":"Diff Results"})]}),S.jsx("button",{onClick:n,className:Yt.closeBtn,title:"Close (Esc)",children:S.jsx($l,{size:20})})]}),S.jsx("div",{className:Yt.content,children:e==="input"?S.jsxs("div",{className:Yt.inputStage,children:[S.jsxs("div",{className:Yt.inputPane,children:[S.jsxs("div",{className:Yt.paneHeader,children:[S.jsx("span",{children:"Original JSON"}),S.jsx("button",{onClick:()=>s(""),className:Yt.clearBtn,children:"Clear"})]}),S.jsx("textarea",{className:Yt.textarea,value:i,onChange:c=>s(c.target.value),placeholder:"Paste original JSON here..."})]}),S.jsx("div",{className:Yt.actionColumn,children:S.jsxs("button",{className:Yt.compareBtn,onClick:()=>t("result"),disabled:!i&&!l,children:[S.jsx("span",{children:"Compare"}),S.jsx(iB,{size:20})]})}),S.jsxs("div",{className:Yt.inputPane,children:[S.jsxs("div",{className:Yt.paneHeader,children:[S.jsx("span",{children:"Modified JSON"}),S.jsx("button",{onClick:()=>o(""),className:Yt.clearBtn,children:"Clear"})]}),S.jsx("textarea",{className:Yt.textarea,value:l,onChange:c=>o(c.target.value),placeholder:"Paste modified JSON here..."})]})]}):S.jsx(O7,{})})]})}const P7="_layout_1wmlf_1",F7="_main_1wmlf_86",G7="_pane_1wmlf_94",Y7="_full_1wmlf_99",Q7="_resizer_1wmlf_103",K7="_splitLeft_1wmlf_117",X7="_splitRight_1wmlf_121",W7="_treePane_1wmlf_125",$7="_footer_1wmlf_154",J7="_status_1wmlf_166",Z7="_valid_1wmlf_173",eH="_invalid_1wmlf_177",tH="_meta_1wmlf_181",nH="_dragOverlay_1wmlf_189",ln={layout:P7,main:F7,pane:G7,full:Y7,resizer:Q7,splitLeft:K7,splitRight:X7,treePane:W7,footer:$7,status:J7,valid:Z7,invalid:eH,meta:tH,dragOverlay:nH};function iH(){const{rawText:n,error:e,isValid:t,setText:i,clear:l,viewMode:s,setViewMode:o,theme:c,splitRatio:f,setSplitRatio:d,isDiffView:p,setDiffView:m}=Rt(),x=H9();U9(),ve.useEffect(()=>{x&&s==="split"&&o("code")},[x,s,o]);const b=ve.useRef(null),[k,w]=ve.useState(!1),[M,T]=ve.useState(!1),L=ve.useRef(null),R=re=>{re.preventDefault(),T(!0),document.body.style.cursor="col-resize",document.body.style.userSelect="none"};ve.useEffect(()=>{if(!M)return;const re=P=>{if(L.current){const B=L.current.getBoundingClientRect(),G=P.clientX-B.left,ce=B.width;let me=G/ce*100;me>48&&me<52&&(me=50),me=Math.max(20,Math.min(80,me)),d(me)}},W=()=>{T(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.addEventListener("mousemove",re),document.addEventListener("mouseup",W),()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",W)}},[M,d]);const ne=()=>{navigator.clipboard.writeText(n),Fe.success("JSON copied to clipboard")},Q=()=>{confirm("Are you sure you want to clear the editor?")&&(l(),Fe.success("Editor cleared"))},D=()=>{const re=new Blob([n],{type:"application/json"}),W=URL.createObjectURL(re),P=document.createElement("a");P.href=W,P.download="data.json",document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(W),Fe.success("File saved as data.json")},H=()=>{b.current?.click()},se=re=>{const W=re.target.files?.[0];W&&Z(W)},Z=re=>{Rt.getState().setIsFileLoading(!0);const W=new FileReader;W.onload=P=>{setTimeout(()=>{const B=P.target?.result;i(B),Rt.getState().setIsFileLoading(!1),Fe.success("File loaded successfully")},500)},W.onerror=()=>{Rt.getState().setIsFileLoading(!1),Fe.error("Failed to read file")},W.readAsText(re)},ae=re=>{re.preventDefault(),w(!0)},te=re=>{re.preventDefault(),w(!1)},F=re=>{re.preventDefault(),w(!1);const W=re.dataTransfer.files?.[0];W&&Z(W)};return ve.useEffect(()=>{const re=W=>{const P=W.target,B=P.tagName==="INPUT"||P.tagName==="TEXTAREA"||P.isContentEditable;if(!n&&W.clipboardData&&!B){const G=W.clipboardData.getData("text");G&&(i(G),Fe.success("Pasted from clipboard"))}};return window.addEventListener("paste",re),()=>window.removeEventListener("paste",re)},[n,i]),S.jsxs("div",{className:ln.layout,onDragOver:ae,onDragLeave:te,onDrop:F,children:[S.jsx(AE,{position:x?"top-center":"bottom-right",theme:c==="dark"?"dark":"light",richColors:!0,closeButton:!0,toastOptions:{style:x?{marginTop:"50px"}:void 0}}),S.jsx(G5,{}),S.jsx(nj,{}),S.jsx(wj,{}),S.jsx(c9,{}),S.jsx(Kj,{}),Rt.getState().isPromptModalOpen&&S.jsx(Vj,{}),S.jsx("input",{type:"file",ref:b,onChange:se,style:{display:"none"},accept:".json,application/json"}),k&&S.jsxs("div",{className:ln.dragOverlay,children:[S.jsx(lh,{size:48}),S.jsx("p",{children:"Drop to Open JSON"})]}),p?S.jsx("main",{className:ln.main,children:S.jsx(q7,{onClose:()=>m(!1)})}):S.jsxs(S.Fragment,{children:[S.jsx(D9,{onUpload:H,onDownload:D,onCopy:ne,onClear:Q,isMobile:x}),S.jsx("main",{className:ln.main,ref:L,children:n?S.jsxs(S.Fragment,{children:[(!x||s==="code")&&S.jsx("div",{className:`${ln.pane} ${s==="split"?ln.splitLeft:ln.full}`,style:s==="split"&&!x?{width:`${f}%`}:void 0,children:S.jsx(xC,{initialValue:n,onChange:i,theme:c})}),!x&&s==="split"&&S.jsx("div",{className:ln.resizer,onMouseDown:R}),(!x&&s==="split"||s==="tree")&&S.jsx("div",{className:`${ln.pane} ${s==="split"?ln.splitRight:ln.full} ${ln.treePane}`,style:s==="split"&&!x?{width:`${100-f}%`}:void 0,children:S.jsx(pz,{})})]}):S.jsx(W9,{})})]}),S.jsxs("footer",{className:`${ln.footer} ${t?ln.valid:ln.invalid} `,children:[S.jsx("div",{className:ln.status,children:n.trim().length>0&&(t?S.jsxs(S.Fragment,{children:[S.jsx(hg,{size:14}),S.jsx("span",{children:"Valid JSON"})]}):S.jsxs(S.Fragment,{children:[S.jsx(m5,{size:14}),S.jsx("span",{children:e})]}))}),S.jsx("div",{className:ln.meta,children:S.jsxs("span",{children:[n.length," chars"]})})]}),x&&S.jsx(j9,{})]})}function rH(){return S.jsx(iH,{})}PT.createRoot(document.getElementById("root")).render(S.jsx(ve.StrictMode,{children:S.jsx(rH,{})}));
